var NT=Object.defineProperty;var VT=(r,e,i)=>e in r?NT(r,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):r[e]=i;var hy=(r,e,i)=>VT(r,typeof e!="symbol"?e+"":e,i);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const h of o)if(h.type==="childList")for(const d of h.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const h={};return o.integrity&&(h.integrity=o.integrity),o.referrerPolicy&&(h.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?h.credentials="include":o.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function s(o){if(o.ep)return;o.ep=!0;const h=i(o);fetch(o.href,h)}})();var Rf={exports:{}},Ll={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fy;function OT(){if(fy)return Ll;fy=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(s,o,h){var d=null;if(h!==void 0&&(d=""+h),o.key!==void 0&&(d=""+o.key),"key"in o){h={};for(var g in o)g!=="key"&&(h[g]=o[g])}else h=o;return o=h.ref,{$$typeof:r,type:s,key:d,ref:o!==void 0?o:null,props:h}}return Ll.Fragment=e,Ll.jsx=i,Ll.jsxs=i,Ll}var dy;function MT(){return dy||(dy=1,Rf.exports=OT()),Rf.exports}var X=MT(),wf={exports:{}},St={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var my;function xT(){if(my)return St;my=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),I=Symbol.iterator;function N(C){return C===null||typeof C!="object"?null:(C=I&&C[I]||C["@@iterator"],typeof C=="function"?C:null)}var q={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},F=Object.assign,Q={};function Y(C,W,it){this.props=C,this.context=W,this.refs=Q,this.updater=it||q}Y.prototype.isReactComponent={},Y.prototype.setState=function(C,W){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,W,"setState")},Y.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function rt(){}rt.prototype=Y.prototype;function at(C,W,it){this.props=C,this.context=W,this.refs=Q,this.updater=it||q}var ut=at.prototype=new rt;ut.constructor=at,F(ut,Y.prototype),ut.isPureReactComponent=!0;var At=Array.isArray,_t={H:null,A:null,T:null,S:null,V:null},Pt=Object.prototype.hasOwnProperty;function O(C,W,it,tt,dt,wt){return it=wt.ref,{$$typeof:r,type:C,key:W,ref:it!==void 0?it:null,props:wt}}function S(C,W){return O(C.type,W,void 0,void 0,void 0,C.props)}function w(C){return typeof C=="object"&&C!==null&&C.$$typeof===r}function V(C){var W={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(it){return W[it]})}var M=/\/+/g;function U(C,W){return typeof C=="object"&&C!==null&&C.key!=null?V(""+C.key):W.toString(36)}function R(){}function Oe(C){switch(C.status){case"fulfilled":return C.value;case"rejected":throw C.reason;default:switch(typeof C.status=="string"?C.then(R,R):(C.status="pending",C.then(function(W){C.status==="pending"&&(C.status="fulfilled",C.value=W)},function(W){C.status==="pending"&&(C.status="rejected",C.reason=W)})),C.status){case"fulfilled":return C.value;case"rejected":throw C.reason}}throw C}function ae(C,W,it,tt,dt){var wt=typeof C;(wt==="undefined"||wt==="boolean")&&(C=null);var vt=!1;if(C===null)vt=!0;else switch(wt){case"bigint":case"string":case"number":vt=!0;break;case"object":switch(C.$$typeof){case r:case e:vt=!0;break;case A:return vt=C._init,ae(vt(C._payload),W,it,tt,dt)}}if(vt)return dt=dt(C),vt=tt===""?"."+U(C,0):tt,At(dt)?(it="",vt!=null&&(it=vt.replace(M,"$&/")+"/"),ae(dt,W,it,"",function(zn){return zn})):dt!=null&&(w(dt)&&(dt=S(dt,it+(dt.key==null||C&&C.key===dt.key?"":(""+dt.key).replace(M,"$&/")+"/")+vt)),W.push(dt)),1;vt=0;var Re=tt===""?".":tt+":";if(At(C))for(var Zt=0;Zt<C.length;Zt++)tt=C[Zt],wt=Re+U(tt,Zt),vt+=ae(tt,W,it,wt,dt);else if(Zt=N(C),typeof Zt=="function")for(C=Zt.call(C),Zt=0;!(tt=C.next()).done;)tt=tt.value,wt=Re+U(tt,Zt++),vt+=ae(tt,W,it,wt,dt);else if(wt==="object"){if(typeof C.then=="function")return ae(Oe(C),W,it,tt,dt);throw W=String(C),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.")}return vt}function H(C,W,it){if(C==null)return C;var tt=[],dt=0;return ae(C,tt,"","",function(wt){return W.call(it,wt,dt++)}),tt}function nt(C){if(C._status===-1){var W=C._result;W=W(),W.then(function(it){(C._status===0||C._status===-1)&&(C._status=1,C._result=it)},function(it){(C._status===0||C._status===-1)&&(C._status=2,C._result=it)}),C._status===-1&&(C._status=0,C._result=W)}if(C._status===1)return C._result.default;throw C._result}var ht=typeof reportError=="function"?reportError:function(C){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var W=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof C=="object"&&C!==null&&typeof C.message=="string"?String(C.message):String(C),error:C});if(!window.dispatchEvent(W))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",C);return}console.error(C)};function Bt(){}return St.Children={map:H,forEach:function(C,W,it){H(C,function(){W.apply(this,arguments)},it)},count:function(C){var W=0;return H(C,function(){W++}),W},toArray:function(C){return H(C,function(W){return W})||[]},only:function(C){if(!w(C))throw Error("React.Children.only expected to receive a single React element child.");return C}},St.Component=Y,St.Fragment=i,St.Profiler=o,St.PureComponent=at,St.StrictMode=s,St.Suspense=_,St.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=_t,St.__COMPILER_RUNTIME={__proto__:null,c:function(C){return _t.H.useMemoCache(C)}},St.cache=function(C){return function(){return C.apply(null,arguments)}},St.cloneElement=function(C,W,it){if(C==null)throw Error("The argument must be a React element, but you passed "+C+".");var tt=F({},C.props),dt=C.key,wt=void 0;if(W!=null)for(vt in W.ref!==void 0&&(wt=void 0),W.key!==void 0&&(dt=""+W.key),W)!Pt.call(W,vt)||vt==="key"||vt==="__self"||vt==="__source"||vt==="ref"&&W.ref===void 0||(tt[vt]=W[vt]);var vt=arguments.length-2;if(vt===1)tt.children=it;else if(1<vt){for(var Re=Array(vt),Zt=0;Zt<vt;Zt++)Re[Zt]=arguments[Zt+2];tt.children=Re}return O(C.type,dt,void 0,void 0,wt,tt)},St.createContext=function(C){return C={$$typeof:d,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null},C.Provider=C,C.Consumer={$$typeof:h,_context:C},C},St.createElement=function(C,W,it){var tt,dt={},wt=null;if(W!=null)for(tt in W.key!==void 0&&(wt=""+W.key),W)Pt.call(W,tt)&&tt!=="key"&&tt!=="__self"&&tt!=="__source"&&(dt[tt]=W[tt]);var vt=arguments.length-2;if(vt===1)dt.children=it;else if(1<vt){for(var Re=Array(vt),Zt=0;Zt<vt;Zt++)Re[Zt]=arguments[Zt+2];dt.children=Re}if(C&&C.defaultProps)for(tt in vt=C.defaultProps,vt)dt[tt]===void 0&&(dt[tt]=vt[tt]);return O(C,wt,void 0,void 0,null,dt)},St.createRef=function(){return{current:null}},St.forwardRef=function(C){return{$$typeof:g,render:C}},St.isValidElement=w,St.lazy=function(C){return{$$typeof:A,_payload:{_status:-1,_result:C},_init:nt}},St.memo=function(C,W){return{$$typeof:v,type:C,compare:W===void 0?null:W}},St.startTransition=function(C){var W=_t.T,it={};_t.T=it;try{var tt=C(),dt=_t.S;dt!==null&&dt(it,tt),typeof tt=="object"&&tt!==null&&typeof tt.then=="function"&&tt.then(Bt,ht)}catch(wt){ht(wt)}finally{_t.T=W}},St.unstable_useCacheRefresh=function(){return _t.H.useCacheRefresh()},St.use=function(C){return _t.H.use(C)},St.useActionState=function(C,W,it){return _t.H.useActionState(C,W,it)},St.useCallback=function(C,W){return _t.H.useCallback(C,W)},St.useContext=function(C){return _t.H.useContext(C)},St.useDebugValue=function(){},St.useDeferredValue=function(C,W){return _t.H.useDeferredValue(C,W)},St.useEffect=function(C,W,it){var tt=_t.H;if(typeof it=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return tt.useEffect(C,W)},St.useId=function(){return _t.H.useId()},St.useImperativeHandle=function(C,W,it){return _t.H.useImperativeHandle(C,W,it)},St.useInsertionEffect=function(C,W){return _t.H.useInsertionEffect(C,W)},St.useLayoutEffect=function(C,W){return _t.H.useLayoutEffect(C,W)},St.useMemo=function(C,W){return _t.H.useMemo(C,W)},St.useOptimistic=function(C,W){return _t.H.useOptimistic(C,W)},St.useReducer=function(C,W,it){return _t.H.useReducer(C,W,it)},St.useRef=function(C){return _t.H.useRef(C)},St.useState=function(C){return _t.H.useState(C)},St.useSyncExternalStore=function(C,W,it){return _t.H.useSyncExternalStore(C,W,it)},St.useTransition=function(){return _t.H.useTransition()},St.version="19.1.0",St}var gy;function hd(){return gy||(gy=1,wf.exports=xT()),wf.exports}var Ct=hd(),If={exports:{}},Pl={},Cf={exports:{}},Df={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var py;function UT(){return py||(py=1,function(r){function e(H,nt){var ht=H.length;H.push(nt);t:for(;0<ht;){var Bt=ht-1>>>1,C=H[Bt];if(0<o(C,nt))H[Bt]=nt,H[ht]=C,ht=Bt;else break t}}function i(H){return H.length===0?null:H[0]}function s(H){if(H.length===0)return null;var nt=H[0],ht=H.pop();if(ht!==nt){H[0]=ht;t:for(var Bt=0,C=H.length,W=C>>>1;Bt<W;){var it=2*(Bt+1)-1,tt=H[it],dt=it+1,wt=H[dt];if(0>o(tt,ht))dt<C&&0>o(wt,tt)?(H[Bt]=wt,H[dt]=ht,Bt=dt):(H[Bt]=tt,H[it]=ht,Bt=it);else if(dt<C&&0>o(wt,ht))H[Bt]=wt,H[dt]=ht,Bt=dt;else break t}}return nt}function o(H,nt){var ht=H.sortIndex-nt.sortIndex;return ht!==0?ht:H.id-nt.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;r.unstable_now=function(){return h.now()}}else{var d=Date,g=d.now();r.unstable_now=function(){return d.now()-g}}var _=[],v=[],A=1,I=null,N=3,q=!1,F=!1,Q=!1,Y=!1,rt=typeof setTimeout=="function"?setTimeout:null,at=typeof clearTimeout=="function"?clearTimeout:null,ut=typeof setImmediate<"u"?setImmediate:null;function At(H){for(var nt=i(v);nt!==null;){if(nt.callback===null)s(v);else if(nt.startTime<=H)s(v),nt.sortIndex=nt.expirationTime,e(_,nt);else break;nt=i(v)}}function _t(H){if(Q=!1,At(H),!F)if(i(_)!==null)F=!0,Pt||(Pt=!0,U());else{var nt=i(v);nt!==null&&ae(_t,nt.startTime-H)}}var Pt=!1,O=-1,S=5,w=-1;function V(){return Y?!0:!(r.unstable_now()-w<S)}function M(){if(Y=!1,Pt){var H=r.unstable_now();w=H;var nt=!0;try{t:{F=!1,Q&&(Q=!1,at(O),O=-1),q=!0;var ht=N;try{e:{for(At(H),I=i(_);I!==null&&!(I.expirationTime>H&&V());){var Bt=I.callback;if(typeof Bt=="function"){I.callback=null,N=I.priorityLevel;var C=Bt(I.expirationTime<=H);if(H=r.unstable_now(),typeof C=="function"){I.callback=C,At(H),nt=!0;break e}I===i(_)&&s(_),At(H)}else s(_);I=i(_)}if(I!==null)nt=!0;else{var W=i(v);W!==null&&ae(_t,W.startTime-H),nt=!1}}break t}finally{I=null,N=ht,q=!1}nt=void 0}}finally{nt?U():Pt=!1}}}var U;if(typeof ut=="function")U=function(){ut(M)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,Oe=R.port2;R.port1.onmessage=M,U=function(){Oe.postMessage(null)}}else U=function(){rt(M,0)};function ae(H,nt){O=rt(function(){H(r.unstable_now())},nt)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(H){H.callback=null},r.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<H?Math.floor(1e3/H):5},r.unstable_getCurrentPriorityLevel=function(){return N},r.unstable_next=function(H){switch(N){case 1:case 2:case 3:var nt=3;break;default:nt=N}var ht=N;N=nt;try{return H()}finally{N=ht}},r.unstable_requestPaint=function(){Y=!0},r.unstable_runWithPriority=function(H,nt){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var ht=N;N=H;try{return nt()}finally{N=ht}},r.unstable_scheduleCallback=function(H,nt,ht){var Bt=r.unstable_now();switch(typeof ht=="object"&&ht!==null?(ht=ht.delay,ht=typeof ht=="number"&&0<ht?Bt+ht:Bt):ht=Bt,H){case 1:var C=-1;break;case 2:C=250;break;case 5:C=1073741823;break;case 4:C=1e4;break;default:C=5e3}return C=ht+C,H={id:A++,callback:nt,priorityLevel:H,startTime:ht,expirationTime:C,sortIndex:-1},ht>Bt?(H.sortIndex=ht,e(v,H),i(_)===null&&H===i(v)&&(Q?(at(O),O=-1):Q=!0,ae(_t,ht-Bt))):(H.sortIndex=C,e(_,H),F||q||(F=!0,Pt||(Pt=!0,U()))),H},r.unstable_shouldYield=V,r.unstable_wrapCallback=function(H){var nt=N;return function(){var ht=N;N=nt;try{return H.apply(this,arguments)}finally{N=ht}}}}(Df)),Df}var yy;function zT(){return yy||(yy=1,Cf.exports=UT()),Cf.exports}var Nf={exports:{}},He={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _y;function LT(){if(_y)return He;_y=1;var r=hd();function e(_){var v="https://react.dev/errors/"+_;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)v+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+_+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function h(_,v,A){var I=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:I==null?null:""+I,children:_,containerInfo:v,implementation:A}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(_,v){if(_==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return He.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,He.createPortal=function(_,v){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(e(299));return h(_,v,null,A)},He.flushSync=function(_){var v=d.T,A=s.p;try{if(d.T=null,s.p=2,_)return _()}finally{d.T=v,s.p=A,s.d.f()}},He.preconnect=function(_,v){typeof _=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,s.d.C(_,v))},He.prefetchDNS=function(_){typeof _=="string"&&s.d.D(_)},He.preinit=function(_,v){if(typeof _=="string"&&v&&typeof v.as=="string"){var A=v.as,I=g(A,v.crossOrigin),N=typeof v.integrity=="string"?v.integrity:void 0,q=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;A==="style"?s.d.S(_,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:I,integrity:N,fetchPriority:q}):A==="script"&&s.d.X(_,{crossOrigin:I,integrity:N,fetchPriority:q,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},He.preinitModule=function(_,v){if(typeof _=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var A=g(v.as,v.crossOrigin);s.d.M(_,{crossOrigin:A,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&s.d.M(_)},He.preload=function(_,v){if(typeof _=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var A=v.as,I=g(A,v.crossOrigin);s.d.L(_,A,{crossOrigin:I,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},He.preloadModule=function(_,v){if(typeof _=="string")if(v){var A=g(v.as,v.crossOrigin);s.d.m(_,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:A,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else s.d.m(_)},He.requestFormReset=function(_){s.d.r(_)},He.unstable_batchedUpdates=function(_,v){return _(v)},He.useFormState=function(_,v,A){return d.H.useFormState(_,v,A)},He.useFormStatus=function(){return d.H.useHostTransitionStatus()},He.version="19.1.0",He}var vy;function PT(){if(vy)return Nf.exports;vy=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Nf.exports=LT(),Nf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ey;function BT(){if(Ey)return Pl;Ey=1;var r=zT(),e=hd(),i=PT();function s(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function h(t){var n=t,a=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(a=n.return),t=n.return;while(t)}return n.tag===3?a:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function g(t){if(h(t)!==t)throw Error(s(188))}function _(t){var n=t.alternate;if(!n){if(n=h(t),n===null)throw Error(s(188));return n!==t?null:t}for(var a=t,l=n;;){var c=a.return;if(c===null)break;var f=c.alternate;if(f===null){if(l=c.return,l!==null){a=l;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===a)return g(c),t;if(f===l)return g(c),n;f=f.sibling}throw Error(s(188))}if(a.return!==l.return)a=c,l=f;else{for(var y=!1,E=c.child;E;){if(E===a){y=!0,a=c,l=f;break}if(E===l){y=!0,l=c,a=f;break}E=E.sibling}if(!y){for(E=f.child;E;){if(E===a){y=!0,a=f,l=c;break}if(E===l){y=!0,l=f,a=c;break}E=E.sibling}if(!y)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:n}function v(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=v(t),n!==null)return n;t=t.sibling}return null}var A=Object.assign,I=Symbol.for("react.element"),N=Symbol.for("react.transitional.element"),q=Symbol.for("react.portal"),F=Symbol.for("react.fragment"),Q=Symbol.for("react.strict_mode"),Y=Symbol.for("react.profiler"),rt=Symbol.for("react.provider"),at=Symbol.for("react.consumer"),ut=Symbol.for("react.context"),At=Symbol.for("react.forward_ref"),_t=Symbol.for("react.suspense"),Pt=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function U(t){return t===null||typeof t!="object"?null:(t=M&&t[M]||t["@@iterator"],typeof t=="function"?t:null)}var R=Symbol.for("react.client.reference");function Oe(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===R?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case F:return"Fragment";case Y:return"Profiler";case Q:return"StrictMode";case _t:return"Suspense";case Pt:return"SuspenseList";case w:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case q:return"Portal";case ut:return(t.displayName||"Context")+".Provider";case at:return(t._context.displayName||"Context")+".Consumer";case At:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case O:return n=t.displayName||null,n!==null?n:Oe(t.type)||"Memo";case S:n=t._payload,t=t._init;try{return Oe(t(n))}catch{}}return null}var ae=Array.isArray,H=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,nt=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ht={pending:!1,data:null,method:null,action:null},Bt=[],C=-1;function W(t){return{current:t}}function it(t){0>C||(t.current=Bt[C],Bt[C]=null,C--)}function tt(t,n){C++,Bt[C]=t.current,t.current=n}var dt=W(null),wt=W(null),vt=W(null),Re=W(null);function Zt(t,n){switch(tt(vt,n),tt(wt,t),tt(dt,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?Bp(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=Bp(n),t=jp(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}it(dt),tt(dt,t)}function zn(){it(dt),it(wt),it(vt)}function Ui(t){t.memoizedState!==null&&tt(Re,t);var n=dt.current,a=jp(n,t.type);n!==a&&(tt(wt,t),tt(dt,a))}function ai(t){wt.current===t&&(it(dt),it(wt)),Re.current===t&&(it(Re),Ol._currentValue=ht)}var Ra=Object.prototype.hasOwnProperty,wa=r.unstable_scheduleCallback,Ia=r.unstable_cancelCallback,Ds=r.unstable_shouldYield,uo=r.unstable_requestPaint,dn=r.unstable_now,bc=r.unstable_getCurrentPriorityLevel,Ns=r.unstable_ImmediatePriority,Er=r.unstable_UserBlockingPriority,Ca=r.unstable_NormalPriority,Rc=r.unstable_LowPriority,Tr=r.unstable_IdlePriority,Vs=r.log,co=r.unstable_setDisableYieldValue,re=null,Ht=null;function nn(t){if(typeof Vs=="function"&&co(t),Ht&&typeof Ht.setStrictMode=="function")try{Ht.setStrictMode(re,t)}catch{}}var ke=Math.clz32?Math.clz32:Da,ho=Math.log,wc=Math.LN2;function Da(t){return t>>>=0,t===0?32:31-(ho(t)/wc|0)|0}var Na=256,Va=4194304;function Cn(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Ar(t,n,a){var l=t.pendingLanes;if(l===0)return 0;var c=0,f=t.suspendedLanes,y=t.pingedLanes;t=t.warmLanes;var E=l&134217727;return E!==0?(l=E&~f,l!==0?c=Cn(l):(y&=E,y!==0?c=Cn(y):a||(a=E&~t,a!==0&&(c=Cn(a))))):(E=l&~f,E!==0?c=Cn(E):y!==0?c=Cn(y):a||(a=l&~t,a!==0&&(c=Cn(a)))),c===0?0:n!==0&&n!==c&&(n&f)===0&&(f=c&-c,a=n&-n,f>=a||f===32&&(a&4194048)!==0)?n:c}function Oa(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Os(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ms(){var t=Na;return Na<<=1,(Na&4194048)===0&&(Na=256),t}function xs(){var t=Va;return Va<<=1,(Va&62914560)===0&&(Va=4194304),t}function ri(t){for(var n=[],a=0;31>a;a++)n.push(t);return n}function si(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Us(t,n,a,l,c,f){var y=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var E=t.entanglements,b=t.expirationTimes,P=t.hiddenUpdates;for(a=y&~a;0<a;){var G=31-ke(a),$=1<<G;E[G]=0,b[G]=-1;var B=P[G];if(B!==null)for(P[G]=null,G=0;G<B.length;G++){var j=B[G];j!==null&&(j.lane&=-536870913)}a&=~$}l!==0&&Ln(t,l,0),f!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=f&~(y&~n))}function Ln(t,n,a){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-ke(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|a&4194090}function zs(t,n){var a=t.entangledLanes|=n;for(t=t.entanglements;a;){var l=31-ke(a),c=1<<l;c&n|t[l]&n&&(t[l]|=n),a&=~c}}function zi(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Sr(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Li(){var t=nt.p;return t!==0?t:(t=window.event,t===void 0?32:ry(t.type))}function fo(t,n){var a=nt.p;try{return nt.p=t,n()}finally{nt.p=a}}var te=Math.random().toString(36).slice(2),ve="__reactFiber$"+te,fe="__reactProps$"+te,mn="__reactContainer$"+te,Ls="__reactEvents$"+te,Ic="__reactListeners$"+te,Pi="__reactHandles$"+te,mo="__reactResources$"+te,Ma="__reactMarker$"+te;function Bi(t){delete t[ve],delete t[fe],delete t[Ls],delete t[Ic],delete t[Pi]}function li(t){var n=t[ve];if(n)return n;for(var a=t.parentNode;a;){if(n=a[mn]||a[ve]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(t=Gp(t);t!==null;){if(a=t[ve])return a;t=Gp(t)}return n}t=a,a=t.parentNode}return null}function Pn(t){if(t=t[ve]||t[mn]){var n=t.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return t}return null}function Bn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(s(33))}function Ye(t){var n=t[mo];return n||(n=t[mo]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function oe(t){t[Ma]=!0}var Ps=new Set,br={};function Dn(t,n){oi(t,n),oi(t+"Capture",n)}function oi(t,n){for(br[t]=n,t=0;t<n.length;t++)Ps.add(n[t])}var go=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),po={},xa={};function yo(t){return Ra.call(xa,t)?!0:Ra.call(po,t)?!1:go.test(t)?xa[t]=!0:(po[t]=!0,!1)}function ji(t,n,a){if(yo(n))if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+a)}}function jn(t,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+a)}}function Me(t,n,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(n,a,""+l)}}var Ua,_o;function ui(t){if(Ua===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);Ua=n&&n[1]||"",_o=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ua+t+_o}var Rr=!1;function wr(t,n){if(!t||Rr)return"";Rr=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var $=function(){throw Error()};if(Object.defineProperty($.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct($,[])}catch(j){var B=j}Reflect.construct(t,[],$)}else{try{$.call()}catch(j){B=j}t.call($.prototype)}}else{try{throw Error()}catch(j){B=j}($=t())&&typeof $.catch=="function"&&$.catch(function(){})}}catch(j){if(j&&B&&typeof j.stack=="string")return[j.stack,B.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),y=f[0],E=f[1];if(y&&E){var b=y.split(`
`),P=E.split(`
`);for(c=l=0;l<b.length&&!b[l].includes("DetermineComponentFrameRoot");)l++;for(;c<P.length&&!P[c].includes("DetermineComponentFrameRoot");)c++;if(l===b.length||c===P.length)for(l=b.length-1,c=P.length-1;1<=l&&0<=c&&b[l]!==P[c];)c--;for(;1<=l&&0<=c;l--,c--)if(b[l]!==P[c]){if(l!==1||c!==1)do if(l--,c--,0>c||b[l]!==P[c]){var G=`
`+b[l].replace(" at new "," at ");return t.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",t.displayName)),G}while(1<=l&&0<=c);break}}}finally{Rr=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?ui(a):""}function Bs(t){switch(t.tag){case 26:case 27:case 5:return ui(t.type);case 16:return ui("Lazy");case 13:return ui("Suspense");case 19:return ui("SuspenseList");case 0:case 15:return wr(t.type,!1);case 11:return wr(t.type.render,!1);case 1:return wr(t.type,!0);case 31:return ui("Activity");default:return""}}function Ir(t){try{var n="";do n+=Bs(t),t=t.return;while(t);return n}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function Ke(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function js(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Cc(t){var n=js(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),l=""+t[n];if(!t.hasOwnProperty(n)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var c=a.get,f=a.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return c.call(this)},set:function(y){l=""+y,f.call(this,y)}}),Object.defineProperty(t,n,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(y){l=""+y},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Cr(t){t._valueTracker||(t._valueTracker=Cc(t))}function ks(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var a=n.getValue(),l="";return t&&(l=js(t)?t.checked?"true":"false":t.value),t=l,t!==a?(n.setValue(t),!0):!1}function za(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Dc=/[\n"\\]/g;function de(t){return t.replace(Dc,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function an(t,n,a,l,c,f,y,E){t.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?t.type=y:t.removeAttribute("type"),n!=null?y==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Ke(n)):t.value!==""+Ke(n)&&(t.value=""+Ke(n)):y!=="submit"&&y!=="reset"||t.removeAttribute("value"),n!=null?ki(t,y,Ke(n)):a!=null?ki(t,y,Ke(a)):l!=null&&t.removeAttribute("value"),c==null&&f!=null&&(t.defaultChecked=!!f),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Ke(E):t.removeAttribute("name")}function La(t,n,a,l,c,f,y,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||n!=null))return;a=a!=null?""+Ke(a):"",n=n!=null?""+Ke(n):a,E||n===t.value||(t.value=n),t.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(t.name=y)}function ki(t,n,a){n==="number"&&za(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function ci(t,n,a,l){if(t=t.options,n){n={};for(var c=0;c<a.length;c++)n["$"+a[c]]=!0;for(a=0;a<t.length;a++)c=n.hasOwnProperty("$"+t[a].value),t[a].selected!==c&&(t[a].selected=c),c&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Ke(a),n=null,c=0;c<t.length;c++){if(t[c].value===a){t[c].selected=!0,l&&(t[c].defaultSelected=!0);return}n!==null||t[c].disabled||(n=t[c])}n!==null&&(n.selected=!0)}}function Qt(t,n,a){if(n!=null&&(n=""+Ke(n),n!==t.value&&(t.value=n),a==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=a!=null?""+Ke(a):""}function Pa(t,n,a,l){if(n==null){if(l!=null){if(a!=null)throw Error(s(92));if(ae(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),n=a}a=Ke(n),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l)}function gn(t,n){if(n){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=n;return}}t.textContent=n}var Ba=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function vo(t,n,a){var l=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,a):typeof a!="number"||a===0||Ba.has(n)?n==="float"?t.cssFloat=a:t[n]=(""+a).trim():t[n]=a+"px"}function qs(t,n,a){if(n!=null&&typeof n!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&a[c]!==l&&vo(t,c,l)}else for(var f in n)n.hasOwnProperty(f)&&vo(t,f,n[f])}function Hs(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Nc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Vc=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Dr(t){return Vc.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var hi=null;function pn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var fi=null,di=null;function Gs(t){var n=Pn(t);if(n&&(t=n.stateNode)){var a=t[fe]||null;t:switch(t=n.stateNode,n.type){case"input":if(an(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+de(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var l=a[n];if(l!==t&&l.form===t.form){var c=l[fe]||null;if(!c)throw Error(s(90));an(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<a.length;n++)l=a[n],l.form===t.form&&ks(l)}break t;case"textarea":Qt(t,a.value,a.defaultValue);break t;case"select":n=a.value,n!=null&&ci(t,!!a.multiple,n,!1)}}}var kn=!1;function Eo(t,n,a){if(kn)return t(n,a);kn=!0;try{var l=t(n);return l}finally{if(kn=!1,(fi!==null||di!==null)&&(du(),fi&&(n=fi,t=di,di=fi=null,Gs(n),t)))for(n=0;n<t.length;n++)Gs(t[n])}}function ja(t,n){var a=t.stateNode;if(a===null)return null;var l=a[fe]||null;if(l===null)return null;a=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,n,typeof a));return a}var Nn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),yn=!1;if(Nn)try{var ka={};Object.defineProperty(ka,"passive",{get:function(){yn=!0}}),window.addEventListener("test",ka,ka),window.removeEventListener("test",ka,ka)}catch{yn=!1}var qn=null,qi=null,mi=null;function Fs(){if(mi)return mi;var t,n=qi,a=n.length,l,c="value"in qn?qn.value:qn.textContent,f=c.length;for(t=0;t<a&&n[t]===c[t];t++);var y=a-t;for(l=1;l<=y&&n[a-l]===c[f-l];l++);return mi=c.slice(t,1<l?1-l:void 0)}function Hn(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Gn(){return!0}function Qs(){return!1}function we(t){function n(a,l,c,f,y){this._reactName=a,this._targetInst=c,this.type=l,this.nativeEvent=f,this.target=y,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(a=t[E],this[E]=a?a(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Gn:Qs,this.isPropagationStopped=Qs,this}return A(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Gn)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Gn)},persist:function(){},isPersistent:Gn}),n}var kt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Nr=we(kt),qa=A({},kt,{view:0,detail:0}),To=we(qa),Vr,Or,Fn,Ha=A({},qa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Qa,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Fn&&(Fn&&t.type==="mousemove"?(Vr=t.screenX-Fn.screenX,Or=t.screenY-Fn.screenY):Or=Vr=0,Fn=t),Vr)},movementY:function(t){return"movementY"in t?t.movementY:Or}}),_n=we(Ha),Ao=A({},Ha,{dataTransfer:0}),Oc=we(Ao),Ga=A({},qa,{relatedTarget:0}),Mr=we(Ga),Ys=A({},kt,{animationName:0,elapsedTime:0,pseudoElement:0}),xr=we(Ys),So=A({},kt,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ur=we(So),Mc=A({},kt,{data:0}),Ks=we(Mc),Fa={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bo={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ro={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Xs(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Ro[t])?!!n[t]:!1}function Qa(){return Xs}var wo=A({},qa,{key:function(t){if(t.key){var n=Fa[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Hn(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?bo[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Qa,charCode:function(t){return t.type==="keypress"?Hn(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Hn(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),zr=we(wo),Io=A({},Ha,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$s=we(Io),gi=A({},qa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Qa}),Co=we(gi),Do=A({},kt,{propertyName:0,elapsedTime:0,pseudoElement:0}),No=we(Do),Vo=A({},Ha,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Lr=we(Vo),Xe=A({},kt,{newState:0,oldState:0}),Oo=we(Xe),Mo=[9,13,27,32],Qn=Nn&&"CompositionEvent"in window,u=null;Nn&&"documentMode"in document&&(u=document.documentMode);var m=Nn&&"TextEvent"in window&&!u,p=Nn&&(!Qn||u&&8<u&&11>=u),T=" ",z=!1;function k(t,n){switch(t){case"keyup":return Mo.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function et(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ot=!1;function Ee(t,n){switch(t){case"compositionend":return et(n);case"keypress":return n.which!==32?null:(z=!0,T);case"textInput":return t=n.data,t===T&&z?null:t;default:return null}}function Mt(t,n){if(Ot)return t==="compositionend"||!Qn&&k(t,n)?(t=Fs(),mi=qi=qn=null,Ot=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return p&&n.locale!=="ko"?null:n.data;default:return null}}var Ie={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Te(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!Ie[t.type]:n==="textarea"}function pi(t,n,a,l){fi?di?di.push(l):di=[l]:fi=l,n=vu(n,"onChange"),0<n.length&&(a=new Nr("onChange","change",null,a,l),t.push({event:a,listeners:n}))}var xe=null,Yn=null;function Zs(t){xp(t,0)}function xo(t){var n=Bn(t);if(ks(n))return t}function em(t,n){if(t==="change")return n}var nm=!1;if(Nn){var xc;if(Nn){var Uc="oninput"in document;if(!Uc){var im=document.createElement("div");im.setAttribute("oninput","return;"),Uc=typeof im.oninput=="function"}xc=Uc}else xc=!1;nm=xc&&(!document.documentMode||9<document.documentMode)}function am(){xe&&(xe.detachEvent("onpropertychange",rm),Yn=xe=null)}function rm(t){if(t.propertyName==="value"&&xo(Yn)){var n=[];pi(n,Yn,t,pn(t)),Eo(Zs,n)}}function sE(t,n,a){t==="focusin"?(am(),xe=n,Yn=a,xe.attachEvent("onpropertychange",rm)):t==="focusout"&&am()}function lE(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return xo(Yn)}function oE(t,n){if(t==="click")return xo(n)}function uE(t,n){if(t==="input"||t==="change")return xo(n)}function cE(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var rn=typeof Object.is=="function"?Object.is:cE;function Js(t,n){if(rn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var a=Object.keys(t),l=Object.keys(n);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var c=a[l];if(!Ra.call(n,c)||!rn(t[c],n[c]))return!1}return!0}function sm(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function lm(t,n){var a=sm(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=n&&l>=n)return{node:a,offset:n-t};t=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=sm(a)}}function om(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?om(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function um(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=za(t.document);n instanceof t.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)t=n.contentWindow;else break;n=za(t.document)}return n}function zc(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var hE=Nn&&"documentMode"in document&&11>=document.documentMode,Pr=null,Lc=null,Ws=null,Pc=!1;function cm(t,n,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Pc||Pr==null||Pr!==za(l)||(l=Pr,"selectionStart"in l&&zc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Ws&&Js(Ws,l)||(Ws=l,l=vu(Lc,"onSelect"),0<l.length&&(n=new Nr("onSelect","select",null,n,a),t.push({event:n,listeners:l}),n.target=Pr)))}function Ya(t,n){var a={};return a[t.toLowerCase()]=n.toLowerCase(),a["Webkit"+t]="webkit"+n,a["Moz"+t]="moz"+n,a}var Br={animationend:Ya("Animation","AnimationEnd"),animationiteration:Ya("Animation","AnimationIteration"),animationstart:Ya("Animation","AnimationStart"),transitionrun:Ya("Transition","TransitionRun"),transitionstart:Ya("Transition","TransitionStart"),transitioncancel:Ya("Transition","TransitionCancel"),transitionend:Ya("Transition","TransitionEnd")},Bc={},hm={};Nn&&(hm=document.createElement("div").style,"AnimationEvent"in window||(delete Br.animationend.animation,delete Br.animationiteration.animation,delete Br.animationstart.animation),"TransitionEvent"in window||delete Br.transitionend.transition);function Ka(t){if(Bc[t])return Bc[t];if(!Br[t])return t;var n=Br[t],a;for(a in n)if(n.hasOwnProperty(a)&&a in hm)return Bc[t]=n[a];return t}var fm=Ka("animationend"),dm=Ka("animationiteration"),mm=Ka("animationstart"),fE=Ka("transitionrun"),dE=Ka("transitionstart"),mE=Ka("transitioncancel"),gm=Ka("transitionend"),pm=new Map,jc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");jc.push("scrollEnd");function Vn(t,n){pm.set(t,n),Dn(n,[t])}var ym=new WeakMap;function vn(t,n){if(typeof t=="object"&&t!==null){var a=ym.get(t);return a!==void 0?a:(n={value:t,source:n,stack:Ir(n)},ym.set(t,n),n)}return{value:t,source:n,stack:Ir(n)}}var En=[],jr=0,kc=0;function Uo(){for(var t=jr,n=kc=jr=0;n<t;){var a=En[n];En[n++]=null;var l=En[n];En[n++]=null;var c=En[n];En[n++]=null;var f=En[n];if(En[n++]=null,l!==null&&c!==null){var y=l.pending;y===null?c.next=c:(c.next=y.next,y.next=c),l.pending=c}f!==0&&_m(a,c,f)}}function zo(t,n,a,l){En[jr++]=t,En[jr++]=n,En[jr++]=a,En[jr++]=l,kc|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function qc(t,n,a,l){return zo(t,n,a,l),Lo(t)}function kr(t,n){return zo(t,null,null,n),Lo(t)}function _m(t,n,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var c=!1,f=t.return;f!==null;)f.childLanes|=a,l=f.alternate,l!==null&&(l.childLanes|=a),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(c=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,c&&n!==null&&(c=31-ke(a),t=f.hiddenUpdates,l=t[c],l===null?t[c]=[n]:l.push(n),n.lane=a|536870912),f):null}function Lo(t){if(50<bl)throw bl=0,Kh=null,Error(s(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var qr={};function gE(t,n,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function sn(t,n,a,l){return new gE(t,n,a,l)}function Hc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function yi(t,n){var a=t.alternate;return a===null?(a=sn(t.tag,n,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=n,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,n=t.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function vm(t,n){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,n=a.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Po(t,n,a,l,c,f){var y=0;if(l=t,typeof t=="function")Hc(t)&&(y=1);else if(typeof t=="string")y=yT(t,a,dt.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case w:return t=sn(31,a,n,c),t.elementType=w,t.lanes=f,t;case F:return Xa(a.children,c,f,n);case Q:y=8,c|=24;break;case Y:return t=sn(12,a,n,c|2),t.elementType=Y,t.lanes=f,t;case _t:return t=sn(13,a,n,c),t.elementType=_t,t.lanes=f,t;case Pt:return t=sn(19,a,n,c),t.elementType=Pt,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case rt:case ut:y=10;break t;case at:y=9;break t;case At:y=11;break t;case O:y=14;break t;case S:y=16,l=null;break t}y=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return n=sn(y,a,n,c),n.elementType=t,n.type=l,n.lanes=f,n}function Xa(t,n,a,l){return t=sn(7,t,l,n),t.lanes=a,t}function Gc(t,n,a){return t=sn(6,t,null,n),t.lanes=a,t}function Fc(t,n,a){return n=sn(4,t.children!==null?t.children:[],t.key,n),n.lanes=a,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Hr=[],Gr=0,Bo=null,jo=0,Tn=[],An=0,$a=null,_i=1,vi="";function Za(t,n){Hr[Gr++]=jo,Hr[Gr++]=Bo,Bo=t,jo=n}function Em(t,n,a){Tn[An++]=_i,Tn[An++]=vi,Tn[An++]=$a,$a=t;var l=_i;t=vi;var c=32-ke(l)-1;l&=~(1<<c),a+=1;var f=32-ke(n)+c;if(30<f){var y=c-c%5;f=(l&(1<<y)-1).toString(32),l>>=y,c-=y,_i=1<<32-ke(n)+c|a<<c|l,vi=f+t}else _i=1<<f|a<<c|l,vi=t}function Qc(t){t.return!==null&&(Za(t,1),Em(t,1,0))}function Yc(t){for(;t===Bo;)Bo=Hr[--Gr],Hr[Gr]=null,jo=Hr[--Gr],Hr[Gr]=null;for(;t===$a;)$a=Tn[--An],Tn[An]=null,vi=Tn[--An],Tn[An]=null,_i=Tn[--An],Tn[An]=null}var $e=null,se=null,jt=!1,Ja=null,Kn=!1,Kc=Error(s(519));function Wa(t){var n=Error(s(418,""));throw nl(vn(n,t)),Kc}function Tm(t){var n=t.stateNode,a=t.type,l=t.memoizedProps;switch(n[ve]=t,n[fe]=l,a){case"dialog":Nt("cancel",n),Nt("close",n);break;case"iframe":case"object":case"embed":Nt("load",n);break;case"video":case"audio":for(a=0;a<wl.length;a++)Nt(wl[a],n);break;case"source":Nt("error",n);break;case"img":case"image":case"link":Nt("error",n),Nt("load",n);break;case"details":Nt("toggle",n);break;case"input":Nt("invalid",n),La(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Cr(n);break;case"select":Nt("invalid",n);break;case"textarea":Nt("invalid",n),Pa(n,l.value,l.defaultValue,l.children),Cr(n)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||l.suppressHydrationWarning===!0||Pp(n.textContent,a)?(l.popover!=null&&(Nt("beforetoggle",n),Nt("toggle",n)),l.onScroll!=null&&Nt("scroll",n),l.onScrollEnd!=null&&Nt("scrollend",n),l.onClick!=null&&(n.onclick=Eu),n=!0):n=!1,n||Wa(t)}function Am(t){for($e=t.return;$e;)switch($e.tag){case 5:case 13:Kn=!1;return;case 27:case 3:Kn=!0;return;default:$e=$e.return}}function tl(t){if(t!==$e)return!1;if(!jt)return Am(t),jt=!0,!1;var n=t.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||hf(t.type,t.memoizedProps)),a=!a),a&&se&&Wa(t),Am(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));t:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(n===0){se=Mn(t.nextSibling);break t}n--}else a!=="$"&&a!=="$!"&&a!=="$?"||n++;t=t.nextSibling}se=null}}else n===27?(n=se,aa(t.type)?(t=gf,gf=null,se=t):se=n):se=$e?Mn(t.stateNode.nextSibling):null;return!0}function el(){se=$e=null,jt=!1}function Sm(){var t=Ja;return t!==null&&(We===null?We=t:We.push.apply(We,t),Ja=null),t}function nl(t){Ja===null?Ja=[t]:Ja.push(t)}var Xc=W(null),tr=null,Ei=null;function Hi(t,n,a){tt(Xc,n._currentValue),n._currentValue=a}function Ti(t){t._currentValue=Xc.current,it(Xc)}function $c(t,n,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===a)break;t=t.return}}function Zc(t,n,a,l){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var f=c.dependencies;if(f!==null){var y=c.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=c;for(var b=0;b<n.length;b++)if(E.context===n[b]){f.lanes|=a,E=f.alternate,E!==null&&(E.lanes|=a),$c(f.return,a,t),l||(y=null);break t}f=E.next}}else if(c.tag===18){if(y=c.return,y===null)throw Error(s(341));y.lanes|=a,f=y.alternate,f!==null&&(f.lanes|=a),$c(y,a,t),y=null}else y=c.child;if(y!==null)y.return=c;else for(y=c;y!==null;){if(y===t){y=null;break}if(c=y.sibling,c!==null){c.return=y.return,y=c;break}y=y.return}c=y}}function il(t,n,a,l){t=null;for(var c=n,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var y=c.alternate;if(y===null)throw Error(s(387));if(y=y.memoizedProps,y!==null){var E=c.type;rn(c.pendingProps.value,y.value)||(t!==null?t.push(E):t=[E])}}else if(c===Re.current){if(y=c.alternate,y===null)throw Error(s(387));y.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(Ol):t=[Ol])}c=c.return}t!==null&&Zc(n,t,a,l),n.flags|=262144}function ko(t){for(t=t.firstContext;t!==null;){if(!rn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function er(t){tr=t,Ei=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function qe(t){return bm(tr,t)}function qo(t,n){return tr===null&&er(t),bm(t,n)}function bm(t,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},Ei===null){if(t===null)throw Error(s(308));Ei=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Ei=Ei.next=n;return a}var pE=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(a){return a()})}},yE=r.unstable_scheduleCallback,_E=r.unstable_NormalPriority,Ae={$$typeof:ut,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Jc(){return{controller:new pE,data:new Map,refCount:0}}function al(t){t.refCount--,t.refCount===0&&yE(_E,function(){t.controller.abort()})}var rl=null,Wc=0,Fr=0,Qr=null;function vE(t,n){if(rl===null){var a=rl=[];Wc=0,Fr=ef(),Qr={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Wc++,n.then(Rm,Rm),n}function Rm(){if(--Wc===0&&rl!==null){Qr!==null&&(Qr.status="fulfilled");var t=rl;rl=null,Fr=0,Qr=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function EE(t,n){var a=[],l={status:"pending",value:null,reason:null,then:function(c){a.push(c)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<a.length;c++)(0,a[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<a.length;c++)(0,a[c])(void 0)}),l}var wm=H.S;H.S=function(t,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&vE(t,n),wm!==null&&wm(t,n)};var nr=W(null);function th(){var t=nr.current;return t!==null?t:Jt.pooledCache}function Ho(t,n){n===null?tt(nr,nr.current):tt(nr,n.pool)}function Im(){var t=th();return t===null?null:{parent:Ae._currentValue,pool:t}}var sl=Error(s(460)),Cm=Error(s(474)),Go=Error(s(542)),eh={then:function(){}};function Dm(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Fo(){}function Nm(t,n,a){switch(a=t[a],a===void 0?t.push(n):a!==n&&(n.then(Fo,Fo),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Om(t),t;default:if(typeof n.status=="string")n.then(Fo,Fo);else{if(t=Jt,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Om(t),t}throw ll=n,sl}}var ll=null;function Vm(){if(ll===null)throw Error(s(459));var t=ll;return ll=null,t}function Om(t){if(t===sl||t===Go)throw Error(s(483))}var Gi=!1;function nh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ih(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Fi(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Qi(t,n,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Gt&2)!==0){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=Lo(t),_m(t,null,a),n}return zo(t,l,n,a),Lo(t)}function ol(t,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,zs(t,a)}}function ah(t,n){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var c=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var y={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?c=f=y:f=f.next=y,a=a.next}while(a!==null);f===null?c=f=n:f=f.next=n}else c=f=n;a={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=n:t.next=n,a.lastBaseUpdate=n}var rh=!1;function ul(){if(rh){var t=Qr;if(t!==null)throw t}}function cl(t,n,a,l){rh=!1;var c=t.updateQueue;Gi=!1;var f=c.firstBaseUpdate,y=c.lastBaseUpdate,E=c.shared.pending;if(E!==null){c.shared.pending=null;var b=E,P=b.next;b.next=null,y===null?f=P:y.next=P,y=b;var G=t.alternate;G!==null&&(G=G.updateQueue,E=G.lastBaseUpdate,E!==y&&(E===null?G.firstBaseUpdate=P:E.next=P,G.lastBaseUpdate=b))}if(f!==null){var $=c.baseState;y=0,G=P=b=null,E=f;do{var B=E.lane&-536870913,j=B!==E.lane;if(j?(xt&B)===B:(l&B)===B){B!==0&&B===Fr&&(rh=!0),G!==null&&(G=G.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var yt=t,mt=E;B=n;var Xt=a;switch(mt.tag){case 1:if(yt=mt.payload,typeof yt=="function"){$=yt.call(Xt,$,B);break t}$=yt;break t;case 3:yt.flags=yt.flags&-65537|128;case 0:if(yt=mt.payload,B=typeof yt=="function"?yt.call(Xt,$,B):yt,B==null)break t;$=A({},$,B);break t;case 2:Gi=!0}}B=E.callback,B!==null&&(t.flags|=64,j&&(t.flags|=8192),j=c.callbacks,j===null?c.callbacks=[B]:j.push(B))}else j={lane:B,tag:E.tag,payload:E.payload,callback:E.callback,next:null},G===null?(P=G=j,b=$):G=G.next=j,y|=B;if(E=E.next,E===null){if(E=c.shared.pending,E===null)break;j=E,E=j.next,j.next=null,c.lastBaseUpdate=j,c.shared.pending=null}}while(!0);G===null&&(b=$),c.baseState=b,c.firstBaseUpdate=P,c.lastBaseUpdate=G,f===null&&(c.shared.lanes=0),ta|=y,t.lanes=y,t.memoizedState=$}}function Mm(t,n){if(typeof t!="function")throw Error(s(191,t));t.call(n)}function xm(t,n){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Mm(a[t],n)}var Yr=W(null),Qo=W(0);function Um(t,n){t=Ci,tt(Qo,t),tt(Yr,n),Ci=t|n.baseLanes}function sh(){tt(Qo,Ci),tt(Yr,Yr.current)}function lh(){Ci=Qo.current,it(Yr),it(Qo)}var Yi=0,bt=null,Yt=null,me=null,Yo=!1,Kr=!1,ir=!1,Ko=0,hl=0,Xr=null,TE=0;function ue(){throw Error(s(321))}function oh(t,n){if(n===null)return!1;for(var a=0;a<n.length&&a<t.length;a++)if(!rn(t[a],n[a]))return!1;return!0}function uh(t,n,a,l,c,f){return Yi=f,bt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,H.H=t===null||t.memoizedState===null?_g:vg,ir=!1,f=a(l,c),ir=!1,Kr&&(f=Lm(n,a,l,c)),zm(t),f}function zm(t){H.H=tu;var n=Yt!==null&&Yt.next!==null;if(Yi=0,me=Yt=bt=null,Yo=!1,hl=0,Xr=null,n)throw Error(s(300));t===null||Ce||(t=t.dependencies,t!==null&&ko(t)&&(Ce=!0))}function Lm(t,n,a,l){bt=t;var c=0;do{if(Kr&&(Xr=null),hl=0,Kr=!1,25<=c)throw Error(s(301));if(c+=1,me=Yt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}H.H=CE,f=n(a,l)}while(Kr);return f}function AE(){var t=H.H,n=t.useState()[0];return n=typeof n.then=="function"?fl(n):n,t=t.useState()[0],(Yt!==null?Yt.memoizedState:null)!==t&&(bt.flags|=1024),n}function ch(){var t=Ko!==0;return Ko=0,t}function hh(t,n,a){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a}function fh(t){if(Yo){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Yo=!1}Yi=0,me=Yt=bt=null,Kr=!1,hl=Ko=0,Xr=null}function Ze(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return me===null?bt.memoizedState=me=t:me=me.next=t,me}function ge(){if(Yt===null){var t=bt.alternate;t=t!==null?t.memoizedState:null}else t=Yt.next;var n=me===null?bt.memoizedState:me.next;if(n!==null)me=n,Yt=t;else{if(t===null)throw bt.alternate===null?Error(s(467)):Error(s(310));Yt=t,t={memoizedState:Yt.memoizedState,baseState:Yt.baseState,baseQueue:Yt.baseQueue,queue:Yt.queue,next:null},me===null?bt.memoizedState=me=t:me=me.next=t}return me}function dh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function fl(t){var n=hl;return hl+=1,Xr===null&&(Xr=[]),t=Nm(Xr,t,n),n=bt,(me===null?n.memoizedState:me.next)===null&&(n=n.alternate,H.H=n===null||n.memoizedState===null?_g:vg),t}function Xo(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return fl(t);if(t.$$typeof===ut)return qe(t)}throw Error(s(438,String(t)))}function mh(t){var n=null,a=bt.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var l=bt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=dh(),bt.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(t),l=0;l<t;l++)a[l]=V;return n.index++,a}function Ai(t,n){return typeof n=="function"?n(t):n}function $o(t){var n=ge();return gh(n,Yt,t)}function gh(t,n,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var c=t.baseQueue,f=l.pending;if(f!==null){if(c!==null){var y=c.next;c.next=f.next,f.next=y}n.baseQueue=c=f,l.pending=null}if(f=t.baseState,c===null)t.memoizedState=f;else{n=c.next;var E=y=null,b=null,P=n,G=!1;do{var $=P.lane&-536870913;if($!==P.lane?(xt&$)===$:(Yi&$)===$){var B=P.revertLane;if(B===0)b!==null&&(b=b.next={lane:0,revertLane:0,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),$===Fr&&(G=!0);else if((Yi&B)===B){P=P.next,B===Fr&&(G=!0);continue}else $={lane:0,revertLane:P.revertLane,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},b===null?(E=b=$,y=f):b=b.next=$,bt.lanes|=B,ta|=B;$=P.action,ir&&a(f,$),f=P.hasEagerState?P.eagerState:a(f,$)}else B={lane:$,revertLane:P.revertLane,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},b===null?(E=b=B,y=f):b=b.next=B,bt.lanes|=$,ta|=$;P=P.next}while(P!==null&&P!==n);if(b===null?y=f:b.next=E,!rn(f,t.memoizedState)&&(Ce=!0,G&&(a=Qr,a!==null)))throw a;t.memoizedState=f,t.baseState=y,t.baseQueue=b,l.lastRenderedState=f}return c===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function ph(t){var n=ge(),a=n.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,c=a.pending,f=n.memoizedState;if(c!==null){a.pending=null;var y=c=c.next;do f=t(f,y.action),y=y.next;while(y!==c);rn(f,n.memoizedState)||(Ce=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),a.lastRenderedState=f}return[f,l]}function Pm(t,n,a){var l=bt,c=ge(),f=jt;if(f){if(a===void 0)throw Error(s(407));a=a()}else a=n();var y=!rn((Yt||c).memoizedState,a);y&&(c.memoizedState=a,Ce=!0),c=c.queue;var E=km.bind(null,l,c,t);if(dl(2048,8,E,[t]),c.getSnapshot!==n||y||me!==null&&me.memoizedState.tag&1){if(l.flags|=2048,$r(9,Zo(),jm.bind(null,l,c,a,n),null),Jt===null)throw Error(s(349));f||(Yi&124)!==0||Bm(l,n,a)}return a}function Bm(t,n,a){t.flags|=16384,t={getSnapshot:n,value:a},n=bt.updateQueue,n===null?(n=dh(),bt.updateQueue=n,n.stores=[t]):(a=n.stores,a===null?n.stores=[t]:a.push(t))}function jm(t,n,a,l){n.value=a,n.getSnapshot=l,qm(n)&&Hm(t)}function km(t,n,a){return a(function(){qm(n)&&Hm(t)})}function qm(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!rn(t,a)}catch{return!0}}function Hm(t){var n=kr(t,2);n!==null&&hn(n,t,2)}function yh(t){var n=Ze();if(typeof t=="function"){var a=t;if(t=a(),ir){nn(!0);try{a()}finally{nn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ai,lastRenderedState:t},n}function Gm(t,n,a,l){return t.baseState=a,gh(t,Yt,typeof l=="function"?l:Ai)}function SE(t,n,a,l,c){if(Wo(t))throw Error(s(485));if(t=n.action,t!==null){var f={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){f.listeners.push(y)}};H.T!==null?a(!0):f.isTransition=!1,l(f),a=n.pending,a===null?(f.next=n.pending=f,Fm(n,f)):(f.next=a.next,n.pending=a.next=f)}}function Fm(t,n){var a=n.action,l=n.payload,c=t.state;if(n.isTransition){var f=H.T,y={};H.T=y;try{var E=a(c,l),b=H.S;b!==null&&b(y,E),Qm(t,n,E)}catch(P){_h(t,n,P)}finally{H.T=f}}else try{f=a(c,l),Qm(t,n,f)}catch(P){_h(t,n,P)}}function Qm(t,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Ym(t,n,l)},function(l){return _h(t,n,l)}):Ym(t,n,a)}function Ym(t,n,a){n.status="fulfilled",n.value=a,Km(n),t.state=a,n=t.pending,n!==null&&(a=n.next,a===n?t.pending=null:(a=a.next,n.next=a,Fm(t,a)))}function _h(t,n,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=a,Km(n),n=n.next;while(n!==l)}t.action=null}function Km(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Xm(t,n){return n}function $m(t,n){if(jt){var a=Jt.formState;if(a!==null){t:{var l=bt;if(jt){if(se){e:{for(var c=se,f=Kn;c.nodeType!==8;){if(!f){c=null;break e}if(c=Mn(c.nextSibling),c===null){c=null;break e}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){se=Mn(c.nextSibling),l=c.data==="F!";break t}}Wa(l)}l=!1}l&&(n=a[0])}}return a=Ze(),a.memoizedState=a.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xm,lastRenderedState:n},a.queue=l,a=gg.bind(null,bt,l),l.dispatch=a,l=yh(!1),f=Sh.bind(null,bt,!1,l.queue),l=Ze(),c={state:n,dispatch:null,action:t,pending:null},l.queue=c,a=SE.bind(null,bt,c,f,a),c.dispatch=a,l.memoizedState=t,[n,a,!1]}function Zm(t){var n=ge();return Jm(n,Yt,t)}function Jm(t,n,a){if(n=gh(t,n,Xm)[0],t=$o(Ai)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=fl(n)}catch(y){throw y===sl?Go:y}else l=n;n=ge();var c=n.queue,f=c.dispatch;return a!==n.memoizedState&&(bt.flags|=2048,$r(9,Zo(),bE.bind(null,c,a),null)),[l,f,t]}function bE(t,n){t.action=n}function Wm(t){var n=ge(),a=Yt;if(a!==null)return Jm(n,a,t);ge(),n=n.memoizedState,a=ge();var l=a.queue.dispatch;return a.memoizedState=t,[n,l,!1]}function $r(t,n,a,l){return t={tag:t,create:a,deps:l,inst:n,next:null},n=bt.updateQueue,n===null&&(n=dh(),bt.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,n.lastEffect=t),t}function Zo(){return{destroy:void 0,resource:void 0}}function tg(){return ge().memoizedState}function Jo(t,n,a,l){var c=Ze();l=l===void 0?null:l,bt.flags|=t,c.memoizedState=$r(1|n,Zo(),a,l)}function dl(t,n,a,l){var c=ge();l=l===void 0?null:l;var f=c.memoizedState.inst;Yt!==null&&l!==null&&oh(l,Yt.memoizedState.deps)?c.memoizedState=$r(n,f,a,l):(bt.flags|=t,c.memoizedState=$r(1|n,f,a,l))}function eg(t,n){Jo(8390656,8,t,n)}function ng(t,n){dl(2048,8,t,n)}function ig(t,n){return dl(4,2,t,n)}function ag(t,n){return dl(4,4,t,n)}function rg(t,n){if(typeof n=="function"){t=t();var a=n(t);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function sg(t,n,a){a=a!=null?a.concat([t]):null,dl(4,4,rg.bind(null,n,t),a)}function vh(){}function lg(t,n){var a=ge();n=n===void 0?null:n;var l=a.memoizedState;return n!==null&&oh(n,l[1])?l[0]:(a.memoizedState=[t,n],t)}function og(t,n){var a=ge();n=n===void 0?null:n;var l=a.memoizedState;if(n!==null&&oh(n,l[1]))return l[0];if(l=t(),ir){nn(!0);try{t()}finally{nn(!1)}}return a.memoizedState=[l,n],l}function Eh(t,n,a){return a===void 0||(Yi&1073741824)!==0?t.memoizedState=n:(t.memoizedState=a,t=hp(),bt.lanes|=t,ta|=t,a)}function ug(t,n,a,l){return rn(a,n)?a:Yr.current!==null?(t=Eh(t,a,l),rn(t,n)||(Ce=!0),t):(Yi&42)===0?(Ce=!0,t.memoizedState=a):(t=hp(),bt.lanes|=t,ta|=t,n)}function cg(t,n,a,l,c){var f=nt.p;nt.p=f!==0&&8>f?f:8;var y=H.T,E={};H.T=E,Sh(t,!1,n,a);try{var b=c(),P=H.S;if(P!==null&&P(E,b),b!==null&&typeof b=="object"&&typeof b.then=="function"){var G=EE(b,l);ml(t,n,G,cn(t))}else ml(t,n,l,cn(t))}catch($){ml(t,n,{then:function(){},status:"rejected",reason:$},cn())}finally{nt.p=f,H.T=y}}function RE(){}function Th(t,n,a,l){if(t.tag!==5)throw Error(s(476));var c=hg(t).queue;cg(t,c,n,ht,a===null?RE:function(){return fg(t),a(l)})}function hg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:ht,baseState:ht,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ai,lastRenderedState:ht},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ai,lastRenderedState:a},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function fg(t){var n=hg(t).next.queue;ml(t,n,{},cn())}function Ah(){return qe(Ol)}function dg(){return ge().memoizedState}function mg(){return ge().memoizedState}function wE(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var a=cn();t=Fi(a);var l=Qi(n,t,a);l!==null&&(hn(l,n,a),ol(l,n,a)),n={cache:Jc()},t.payload=n;return}n=n.return}}function IE(t,n,a){var l=cn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Wo(t)?pg(n,a):(a=qc(t,n,a,l),a!==null&&(hn(a,t,l),yg(a,n,l)))}function gg(t,n,a){var l=cn();ml(t,n,a,l)}function ml(t,n,a,l){var c={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Wo(t))pg(n,c);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var y=n.lastRenderedState,E=f(y,a);if(c.hasEagerState=!0,c.eagerState=E,rn(E,y))return zo(t,n,c,0),Jt===null&&Uo(),!1}catch{}finally{}if(a=qc(t,n,c,l),a!==null)return hn(a,t,l),yg(a,n,l),!0}return!1}function Sh(t,n,a,l){if(l={lane:2,revertLane:ef(),action:l,hasEagerState:!1,eagerState:null,next:null},Wo(t)){if(n)throw Error(s(479))}else n=qc(t,a,l,2),n!==null&&hn(n,t,2)}function Wo(t){var n=t.alternate;return t===bt||n!==null&&n===bt}function pg(t,n){Kr=Yo=!0;var a=t.pending;a===null?n.next=n:(n.next=a.next,a.next=n),t.pending=n}function yg(t,n,a){if((a&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,zs(t,a)}}var tu={readContext:qe,use:Xo,useCallback:ue,useContext:ue,useEffect:ue,useImperativeHandle:ue,useLayoutEffect:ue,useInsertionEffect:ue,useMemo:ue,useReducer:ue,useRef:ue,useState:ue,useDebugValue:ue,useDeferredValue:ue,useTransition:ue,useSyncExternalStore:ue,useId:ue,useHostTransitionStatus:ue,useFormState:ue,useActionState:ue,useOptimistic:ue,useMemoCache:ue,useCacheRefresh:ue},_g={readContext:qe,use:Xo,useCallback:function(t,n){return Ze().memoizedState=[t,n===void 0?null:n],t},useContext:qe,useEffect:eg,useImperativeHandle:function(t,n,a){a=a!=null?a.concat([t]):null,Jo(4194308,4,rg.bind(null,n,t),a)},useLayoutEffect:function(t,n){return Jo(4194308,4,t,n)},useInsertionEffect:function(t,n){Jo(4,2,t,n)},useMemo:function(t,n){var a=Ze();n=n===void 0?null:n;var l=t();if(ir){nn(!0);try{t()}finally{nn(!1)}}return a.memoizedState=[l,n],l},useReducer:function(t,n,a){var l=Ze();if(a!==void 0){var c=a(n);if(ir){nn(!0);try{a(n)}finally{nn(!1)}}}else c=n;return l.memoizedState=l.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},l.queue=t,t=t.dispatch=IE.bind(null,bt,t),[l.memoizedState,t]},useRef:function(t){var n=Ze();return t={current:t},n.memoizedState=t},useState:function(t){t=yh(t);var n=t.queue,a=gg.bind(null,bt,n);return n.dispatch=a,[t.memoizedState,a]},useDebugValue:vh,useDeferredValue:function(t,n){var a=Ze();return Eh(a,t,n)},useTransition:function(){var t=yh(!1);return t=cg.bind(null,bt,t.queue,!0,!1),Ze().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,a){var l=bt,c=Ze();if(jt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=n(),Jt===null)throw Error(s(349));(xt&124)!==0||Bm(l,n,a)}c.memoizedState=a;var f={value:a,getSnapshot:n};return c.queue=f,eg(km.bind(null,l,f,t),[t]),l.flags|=2048,$r(9,Zo(),jm.bind(null,l,f,a,n),null),a},useId:function(){var t=Ze(),n=Jt.identifierPrefix;if(jt){var a=vi,l=_i;a=(l&~(1<<32-ke(l)-1)).toString(32)+a,n=""+n+"R"+a,a=Ko++,0<a&&(n+="H"+a.toString(32)),n+=""}else a=TE++,n=""+n+"r"+a.toString(32)+"";return t.memoizedState=n},useHostTransitionStatus:Ah,useFormState:$m,useActionState:$m,useOptimistic:function(t){var n=Ze();n.memoizedState=n.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=Sh.bind(null,bt,!0,a),a.dispatch=n,[t,n]},useMemoCache:mh,useCacheRefresh:function(){return Ze().memoizedState=wE.bind(null,bt)}},vg={readContext:qe,use:Xo,useCallback:lg,useContext:qe,useEffect:ng,useImperativeHandle:sg,useInsertionEffect:ig,useLayoutEffect:ag,useMemo:og,useReducer:$o,useRef:tg,useState:function(){return $o(Ai)},useDebugValue:vh,useDeferredValue:function(t,n){var a=ge();return ug(a,Yt.memoizedState,t,n)},useTransition:function(){var t=$o(Ai)[0],n=ge().memoizedState;return[typeof t=="boolean"?t:fl(t),n]},useSyncExternalStore:Pm,useId:dg,useHostTransitionStatus:Ah,useFormState:Zm,useActionState:Zm,useOptimistic:function(t,n){var a=ge();return Gm(a,Yt,t,n)},useMemoCache:mh,useCacheRefresh:mg},CE={readContext:qe,use:Xo,useCallback:lg,useContext:qe,useEffect:ng,useImperativeHandle:sg,useInsertionEffect:ig,useLayoutEffect:ag,useMemo:og,useReducer:ph,useRef:tg,useState:function(){return ph(Ai)},useDebugValue:vh,useDeferredValue:function(t,n){var a=ge();return Yt===null?Eh(a,t,n):ug(a,Yt.memoizedState,t,n)},useTransition:function(){var t=ph(Ai)[0],n=ge().memoizedState;return[typeof t=="boolean"?t:fl(t),n]},useSyncExternalStore:Pm,useId:dg,useHostTransitionStatus:Ah,useFormState:Wm,useActionState:Wm,useOptimistic:function(t,n){var a=ge();return Yt!==null?Gm(a,Yt,t,n):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:mh,useCacheRefresh:mg},Zr=null,gl=0;function eu(t){var n=gl;return gl+=1,Zr===null&&(Zr=[]),Nm(Zr,t,n)}function pl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function nu(t,n){throw n.$$typeof===I?Error(s(525)):(t=Object.prototype.toString.call(n),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function Eg(t){var n=t._init;return n(t._payload)}function Tg(t){function n(x,D){if(t){var L=x.deletions;L===null?(x.deletions=[D],x.flags|=16):L.push(D)}}function a(x,D){if(!t)return null;for(;D!==null;)n(x,D),D=D.sibling;return null}function l(x){for(var D=new Map;x!==null;)x.key!==null?D.set(x.key,x):D.set(x.index,x),x=x.sibling;return D}function c(x,D){return x=yi(x,D),x.index=0,x.sibling=null,x}function f(x,D,L){return x.index=L,t?(L=x.alternate,L!==null?(L=L.index,L<D?(x.flags|=67108866,D):L):(x.flags|=67108866,D)):(x.flags|=1048576,D)}function y(x){return t&&x.alternate===null&&(x.flags|=67108866),x}function E(x,D,L,K){return D===null||D.tag!==6?(D=Gc(L,x.mode,K),D.return=x,D):(D=c(D,L),D.return=x,D)}function b(x,D,L,K){var ot=L.type;return ot===F?G(x,D,L.props.children,K,L.key):D!==null&&(D.elementType===ot||typeof ot=="object"&&ot!==null&&ot.$$typeof===S&&Eg(ot)===D.type)?(D=c(D,L.props),pl(D,L),D.return=x,D):(D=Po(L.type,L.key,L.props,null,x.mode,K),pl(D,L),D.return=x,D)}function P(x,D,L,K){return D===null||D.tag!==4||D.stateNode.containerInfo!==L.containerInfo||D.stateNode.implementation!==L.implementation?(D=Fc(L,x.mode,K),D.return=x,D):(D=c(D,L.children||[]),D.return=x,D)}function G(x,D,L,K,ot){return D===null||D.tag!==7?(D=Xa(L,x.mode,K,ot),D.return=x,D):(D=c(D,L),D.return=x,D)}function $(x,D,L){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=Gc(""+D,x.mode,L),D.return=x,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case N:return L=Po(D.type,D.key,D.props,null,x.mode,L),pl(L,D),L.return=x,L;case q:return D=Fc(D,x.mode,L),D.return=x,D;case S:var K=D._init;return D=K(D._payload),$(x,D,L)}if(ae(D)||U(D))return D=Xa(D,x.mode,L,null),D.return=x,D;if(typeof D.then=="function")return $(x,eu(D),L);if(D.$$typeof===ut)return $(x,qo(x,D),L);nu(x,D)}return null}function B(x,D,L,K){var ot=D!==null?D.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return ot!==null?null:E(x,D,""+L,K);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case N:return L.key===ot?b(x,D,L,K):null;case q:return L.key===ot?P(x,D,L,K):null;case S:return ot=L._init,L=ot(L._payload),B(x,D,L,K)}if(ae(L)||U(L))return ot!==null?null:G(x,D,L,K,null);if(typeof L.then=="function")return B(x,D,eu(L),K);if(L.$$typeof===ut)return B(x,D,qo(x,L),K);nu(x,L)}return null}function j(x,D,L,K,ot){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return x=x.get(L)||null,E(D,x,""+K,ot);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case N:return x=x.get(K.key===null?L:K.key)||null,b(D,x,K,ot);case q:return x=x.get(K.key===null?L:K.key)||null,P(D,x,K,ot);case S:var It=K._init;return K=It(K._payload),j(x,D,L,K,ot)}if(ae(K)||U(K))return x=x.get(L)||null,G(D,x,K,ot,null);if(typeof K.then=="function")return j(x,D,L,eu(K),ot);if(K.$$typeof===ut)return j(x,D,L,qo(D,K),ot);nu(D,K)}return null}function yt(x,D,L,K){for(var ot=null,It=null,ct=D,gt=D=0,Ne=null;ct!==null&&gt<L.length;gt++){ct.index>gt?(Ne=ct,ct=null):Ne=ct.sibling;var Lt=B(x,ct,L[gt],K);if(Lt===null){ct===null&&(ct=Ne);break}t&&ct&&Lt.alternate===null&&n(x,ct),D=f(Lt,D,gt),It===null?ot=Lt:It.sibling=Lt,It=Lt,ct=Ne}if(gt===L.length)return a(x,ct),jt&&Za(x,gt),ot;if(ct===null){for(;gt<L.length;gt++)ct=$(x,L[gt],K),ct!==null&&(D=f(ct,D,gt),It===null?ot=ct:It.sibling=ct,It=ct);return jt&&Za(x,gt),ot}for(ct=l(ct);gt<L.length;gt++)Ne=j(ct,x,gt,L[gt],K),Ne!==null&&(t&&Ne.alternate!==null&&ct.delete(Ne.key===null?gt:Ne.key),D=f(Ne,D,gt),It===null?ot=Ne:It.sibling=Ne,It=Ne);return t&&ct.forEach(function(ua){return n(x,ua)}),jt&&Za(x,gt),ot}function mt(x,D,L,K){if(L==null)throw Error(s(151));for(var ot=null,It=null,ct=D,gt=D=0,Ne=null,Lt=L.next();ct!==null&&!Lt.done;gt++,Lt=L.next()){ct.index>gt?(Ne=ct,ct=null):Ne=ct.sibling;var ua=B(x,ct,Lt.value,K);if(ua===null){ct===null&&(ct=Ne);break}t&&ct&&ua.alternate===null&&n(x,ct),D=f(ua,D,gt),It===null?ot=ua:It.sibling=ua,It=ua,ct=Ne}if(Lt.done)return a(x,ct),jt&&Za(x,gt),ot;if(ct===null){for(;!Lt.done;gt++,Lt=L.next())Lt=$(x,Lt.value,K),Lt!==null&&(D=f(Lt,D,gt),It===null?ot=Lt:It.sibling=Lt,It=Lt);return jt&&Za(x,gt),ot}for(ct=l(ct);!Lt.done;gt++,Lt=L.next())Lt=j(ct,x,gt,Lt.value,K),Lt!==null&&(t&&Lt.alternate!==null&&ct.delete(Lt.key===null?gt:Lt.key),D=f(Lt,D,gt),It===null?ot=Lt:It.sibling=Lt,It=Lt);return t&&ct.forEach(function(DT){return n(x,DT)}),jt&&Za(x,gt),ot}function Xt(x,D,L,K){if(typeof L=="object"&&L!==null&&L.type===F&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case N:t:{for(var ot=L.key;D!==null;){if(D.key===ot){if(ot=L.type,ot===F){if(D.tag===7){a(x,D.sibling),K=c(D,L.props.children),K.return=x,x=K;break t}}else if(D.elementType===ot||typeof ot=="object"&&ot!==null&&ot.$$typeof===S&&Eg(ot)===D.type){a(x,D.sibling),K=c(D,L.props),pl(K,L),K.return=x,x=K;break t}a(x,D);break}else n(x,D);D=D.sibling}L.type===F?(K=Xa(L.props.children,x.mode,K,L.key),K.return=x,x=K):(K=Po(L.type,L.key,L.props,null,x.mode,K),pl(K,L),K.return=x,x=K)}return y(x);case q:t:{for(ot=L.key;D!==null;){if(D.key===ot)if(D.tag===4&&D.stateNode.containerInfo===L.containerInfo&&D.stateNode.implementation===L.implementation){a(x,D.sibling),K=c(D,L.children||[]),K.return=x,x=K;break t}else{a(x,D);break}else n(x,D);D=D.sibling}K=Fc(L,x.mode,K),K.return=x,x=K}return y(x);case S:return ot=L._init,L=ot(L._payload),Xt(x,D,L,K)}if(ae(L))return yt(x,D,L,K);if(U(L)){if(ot=U(L),typeof ot!="function")throw Error(s(150));return L=ot.call(L),mt(x,D,L,K)}if(typeof L.then=="function")return Xt(x,D,eu(L),K);if(L.$$typeof===ut)return Xt(x,D,qo(x,L),K);nu(x,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,D!==null&&D.tag===6?(a(x,D.sibling),K=c(D,L),K.return=x,x=K):(a(x,D),K=Gc(L,x.mode,K),K.return=x,x=K),y(x)):a(x,D)}return function(x,D,L,K){try{gl=0;var ot=Xt(x,D,L,K);return Zr=null,ot}catch(ct){if(ct===sl||ct===Go)throw ct;var It=sn(29,ct,null,x.mode);return It.lanes=K,It.return=x,It}finally{}}}var Jr=Tg(!0),Ag=Tg(!1),Sn=W(null),Xn=null;function Ki(t){var n=t.alternate;tt(Se,Se.current&1),tt(Sn,t),Xn===null&&(n===null||Yr.current!==null||n.memoizedState!==null)&&(Xn=t)}function Sg(t){if(t.tag===22){if(tt(Se,Se.current),tt(Sn,t),Xn===null){var n=t.alternate;n!==null&&n.memoizedState!==null&&(Xn=t)}}else Xi()}function Xi(){tt(Se,Se.current),tt(Sn,Sn.current)}function Si(t){it(Sn),Xn===t&&(Xn=null),it(Se)}var Se=W(0);function iu(t){for(var n=t;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||mf(a)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function bh(t,n,a,l){n=t.memoizedState,a=a(l,n),a=a==null?n:A({},n,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Rh={enqueueSetState:function(t,n,a){t=t._reactInternals;var l=cn(),c=Fi(l);c.payload=n,a!=null&&(c.callback=a),n=Qi(t,c,l),n!==null&&(hn(n,t,l),ol(n,t,l))},enqueueReplaceState:function(t,n,a){t=t._reactInternals;var l=cn(),c=Fi(l);c.tag=1,c.payload=n,a!=null&&(c.callback=a),n=Qi(t,c,l),n!==null&&(hn(n,t,l),ol(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var a=cn(),l=Fi(a);l.tag=2,n!=null&&(l.callback=n),n=Qi(t,l,a),n!==null&&(hn(n,t,a),ol(n,t,a))}};function bg(t,n,a,l,c,f,y){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,y):n.prototype&&n.prototype.isPureReactComponent?!Js(a,l)||!Js(c,f):!0}function Rg(t,n,a,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,l),n.state!==t&&Rh.enqueueReplaceState(n,n.state,null)}function ar(t,n){var a=n;if("ref"in n){a={};for(var l in n)l!=="ref"&&(a[l]=n[l])}if(t=t.defaultProps){a===n&&(a=A({},a));for(var c in t)a[c]===void 0&&(a[c]=t[c])}return a}var au=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function wg(t){au(t)}function Ig(t){console.error(t)}function Cg(t){au(t)}function ru(t,n){try{var a=t.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Dg(t,n,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function wh(t,n,a){return a=Fi(a),a.tag=3,a.payload={element:null},a.callback=function(){ru(t,n)},a}function Ng(t){return t=Fi(t),t.tag=3,t}function Vg(t,n,a,l){var c=a.type.getDerivedStateFromError;if(typeof c=="function"){var f=l.value;t.payload=function(){return c(f)},t.callback=function(){Dg(n,a,l)}}var y=a.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(t.callback=function(){Dg(n,a,l),typeof c!="function"&&(ea===null?ea=new Set([this]):ea.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function DE(t,n,a,l,c){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=a.alternate,n!==null&&il(n,a,c,!0),a=Sn.current,a!==null){switch(a.tag){case 13:return Xn===null?$h():a.alternate===null&&le===0&&(le=3),a.flags&=-257,a.flags|=65536,a.lanes=c,l===eh?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([l]):n.add(l),Jh(t,l,c)),!1;case 22:return a.flags|=65536,l===eh?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([l]):a.add(l)),Jh(t,l,c)),!1}throw Error(s(435,a.tag))}return Jh(t,l,c),$h(),!1}if(jt)return n=Sn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==Kc&&(t=Error(s(422),{cause:l}),nl(vn(t,a)))):(l!==Kc&&(n=Error(s(423),{cause:l}),nl(vn(n,a))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,l=vn(l,a),c=wh(t.stateNode,l,c),ah(t,c),le!==4&&(le=2)),!1;var f=Error(s(520),{cause:l});if(f=vn(f,a),Sl===null?Sl=[f]:Sl.push(f),le!==4&&(le=2),n===null)return!0;l=vn(l,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,t=c&-c,a.lanes|=t,t=wh(a.stateNode,l,t),ah(a,t),!1;case 1:if(n=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(ea===null||!ea.has(f))))return a.flags|=65536,c&=-c,a.lanes|=c,c=Ng(c),Vg(c,t,a,l),ah(a,c),!1}a=a.return}while(a!==null);return!1}var Og=Error(s(461)),Ce=!1;function Ue(t,n,a,l){n.child=t===null?Ag(n,null,a,l):Jr(n,t.child,a,l)}function Mg(t,n,a,l,c){a=a.render;var f=n.ref;if("ref"in l){var y={};for(var E in l)E!=="ref"&&(y[E]=l[E])}else y=l;return er(n),l=uh(t,n,a,y,f,c),E=ch(),t!==null&&!Ce?(hh(t,n,c),bi(t,n,c)):(jt&&E&&Qc(n),n.flags|=1,Ue(t,n,l,c),n.child)}function xg(t,n,a,l,c){if(t===null){var f=a.type;return typeof f=="function"&&!Hc(f)&&f.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=f,Ug(t,n,f,l,c)):(t=Po(a.type,null,l,n,n.mode,c),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!xh(t,c)){var y=f.memoizedProps;if(a=a.compare,a=a!==null?a:Js,a(y,l)&&t.ref===n.ref)return bi(t,n,c)}return n.flags|=1,t=yi(f,l),t.ref=n.ref,t.return=n,n.child=t}function Ug(t,n,a,l,c){if(t!==null){var f=t.memoizedProps;if(Js(f,l)&&t.ref===n.ref)if(Ce=!1,n.pendingProps=l=f,xh(t,c))(t.flags&131072)!==0&&(Ce=!0);else return n.lanes=t.lanes,bi(t,n,c)}return Ih(t,n,a,l,c)}function zg(t,n,a){var l=n.pendingProps,c=l.children,f=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((n.flags&128)!==0){if(l=f!==null?f.baseLanes|a:a,t!==null){for(c=n.child=t.child,f=0;c!==null;)f=f|c.lanes|c.childLanes,c=c.sibling;n.childLanes=f&~l}else n.childLanes=0,n.child=null;return Lg(t,n,l,a)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Ho(n,f!==null?f.cachePool:null),f!==null?Um(n,f):sh(),Sg(n);else return n.lanes=n.childLanes=536870912,Lg(t,n,f!==null?f.baseLanes|a:a,a)}else f!==null?(Ho(n,f.cachePool),Um(n,f),Xi(),n.memoizedState=null):(t!==null&&Ho(n,null),sh(),Xi());return Ue(t,n,c,a),n.child}function Lg(t,n,a,l){var c=th();return c=c===null?null:{parent:Ae._currentValue,pool:c},n.memoizedState={baseLanes:a,cachePool:c},t!==null&&Ho(n,null),sh(),Sg(n),t!==null&&il(t,n,l,!0),null}function su(t,n){var a=n.ref;if(a===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(n.flags|=4194816)}}function Ih(t,n,a,l,c){return er(n),a=uh(t,n,a,l,void 0,c),l=ch(),t!==null&&!Ce?(hh(t,n,c),bi(t,n,c)):(jt&&l&&Qc(n),n.flags|=1,Ue(t,n,a,c),n.child)}function Pg(t,n,a,l,c,f){return er(n),n.updateQueue=null,a=Lm(n,l,a,c),zm(t),l=ch(),t!==null&&!Ce?(hh(t,n,f),bi(t,n,f)):(jt&&l&&Qc(n),n.flags|=1,Ue(t,n,a,f),n.child)}function Bg(t,n,a,l,c){if(er(n),n.stateNode===null){var f=qr,y=a.contextType;typeof y=="object"&&y!==null&&(f=qe(y)),f=new a(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Rh,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},nh(n),y=a.contextType,f.context=typeof y=="object"&&y!==null?qe(y):qr,f.state=n.memoizedState,y=a.getDerivedStateFromProps,typeof y=="function"&&(bh(n,a,y,l),f.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(y=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),y!==f.state&&Rh.enqueueReplaceState(f,f.state,null),cl(n,l,f,c),ul(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,b=ar(a,E);f.props=b;var P=f.context,G=a.contextType;y=qr,typeof G=="object"&&G!==null&&(y=qe(G));var $=a.getDerivedStateFromProps;G=typeof $=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,G||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||P!==y)&&Rg(n,f,l,y),Gi=!1;var B=n.memoizedState;f.state=B,cl(n,l,f,c),ul(),P=n.memoizedState,E||B!==P||Gi?(typeof $=="function"&&(bh(n,a,$,l),P=n.memoizedState),(b=Gi||bg(n,a,b,l,B,P,y))?(G||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=P),f.props=l,f.state=P,f.context=y,l=b):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,ih(t,n),y=n.memoizedProps,G=ar(a,y),f.props=G,$=n.pendingProps,B=f.context,P=a.contextType,b=qr,typeof P=="object"&&P!==null&&(b=qe(P)),E=a.getDerivedStateFromProps,(P=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(y!==$||B!==b)&&Rg(n,f,l,b),Gi=!1,B=n.memoizedState,f.state=B,cl(n,l,f,c),ul();var j=n.memoizedState;y!==$||B!==j||Gi||t!==null&&t.dependencies!==null&&ko(t.dependencies)?(typeof E=="function"&&(bh(n,a,E,l),j=n.memoizedState),(G=Gi||bg(n,a,G,l,B,j,b)||t!==null&&t.dependencies!==null&&ko(t.dependencies))?(P||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,j,b),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,j,b)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=j),f.props=l,f.state=j,f.context=b,l=G):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,su(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=Jr(n,t.child,null,c),n.child=Jr(n,null,a,c)):Ue(t,n,a,c),n.memoizedState=f.state,t=n.child):t=bi(t,n,c),t}function jg(t,n,a,l){return el(),n.flags|=256,Ue(t,n,a,l),n.child}var Ch={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Dh(t){return{baseLanes:t,cachePool:Im()}}function Nh(t,n,a){return t=t!==null?t.childLanes&~a:0,n&&(t|=bn),t}function kg(t,n,a){var l=n.pendingProps,c=!1,f=(n.flags&128)!==0,y;if((y=f)||(y=t!==null&&t.memoizedState===null?!1:(Se.current&2)!==0),y&&(c=!0,n.flags&=-129),y=(n.flags&32)!==0,n.flags&=-33,t===null){if(jt){if(c?Ki(n):Xi(),jt){var E=se,b;if(b=E){t:{for(b=E,E=Kn;b.nodeType!==8;){if(!E){E=null;break t}if(b=Mn(b.nextSibling),b===null){E=null;break t}}E=b}E!==null?(n.memoizedState={dehydrated:E,treeContext:$a!==null?{id:_i,overflow:vi}:null,retryLane:536870912,hydrationErrors:null},b=sn(18,null,null,0),b.stateNode=E,b.return=n,n.child=b,$e=n,se=null,b=!0):b=!1}b||Wa(n)}if(E=n.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return mf(E)?n.lanes=32:n.lanes=536870912,null;Si(n)}return E=l.children,l=l.fallback,c?(Xi(),c=n.mode,E=lu({mode:"hidden",children:E},c),l=Xa(l,c,a,null),E.return=n,l.return=n,E.sibling=l,n.child=E,c=n.child,c.memoizedState=Dh(a),c.childLanes=Nh(t,y,a),n.memoizedState=Ch,l):(Ki(n),Vh(n,E))}if(b=t.memoizedState,b!==null&&(E=b.dehydrated,E!==null)){if(f)n.flags&256?(Ki(n),n.flags&=-257,n=Oh(t,n,a)):n.memoizedState!==null?(Xi(),n.child=t.child,n.flags|=128,n=null):(Xi(),c=l.fallback,E=n.mode,l=lu({mode:"visible",children:l.children},E),c=Xa(c,E,a,null),c.flags|=2,l.return=n,c.return=n,l.sibling=c,n.child=l,Jr(n,t.child,null,a),l=n.child,l.memoizedState=Dh(a),l.childLanes=Nh(t,y,a),n.memoizedState=Ch,n=c);else if(Ki(n),mf(E)){if(y=E.nextSibling&&E.nextSibling.dataset,y)var P=y.dgst;y=P,l=Error(s(419)),l.stack="",l.digest=y,nl({value:l,source:null,stack:null}),n=Oh(t,n,a)}else if(Ce||il(t,n,a,!1),y=(a&t.childLanes)!==0,Ce||y){if(y=Jt,y!==null&&(l=a&-a,l=(l&42)!==0?1:zi(l),l=(l&(y.suspendedLanes|a))!==0?0:l,l!==0&&l!==b.retryLane))throw b.retryLane=l,kr(t,l),hn(y,t,l),Og;E.data==="$?"||$h(),n=Oh(t,n,a)}else E.data==="$?"?(n.flags|=192,n.child=t.child,n=null):(t=b.treeContext,se=Mn(E.nextSibling),$e=n,jt=!0,Ja=null,Kn=!1,t!==null&&(Tn[An++]=_i,Tn[An++]=vi,Tn[An++]=$a,_i=t.id,vi=t.overflow,$a=n),n=Vh(n,l.children),n.flags|=4096);return n}return c?(Xi(),c=l.fallback,E=n.mode,b=t.child,P=b.sibling,l=yi(b,{mode:"hidden",children:l.children}),l.subtreeFlags=b.subtreeFlags&65011712,P!==null?c=yi(P,c):(c=Xa(c,E,a,null),c.flags|=2),c.return=n,l.return=n,l.sibling=c,n.child=l,l=c,c=n.child,E=t.child.memoizedState,E===null?E=Dh(a):(b=E.cachePool,b!==null?(P=Ae._currentValue,b=b.parent!==P?{parent:P,pool:P}:b):b=Im(),E={baseLanes:E.baseLanes|a,cachePool:b}),c.memoizedState=E,c.childLanes=Nh(t,y,a),n.memoizedState=Ch,l):(Ki(n),a=t.child,t=a.sibling,a=yi(a,{mode:"visible",children:l.children}),a.return=n,a.sibling=null,t!==null&&(y=n.deletions,y===null?(n.deletions=[t],n.flags|=16):y.push(t)),n.child=a,n.memoizedState=null,a)}function Vh(t,n){return n=lu({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function lu(t,n){return t=sn(22,t,null,n),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Oh(t,n,a){return Jr(n,t.child,null,a),t=Vh(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function qg(t,n,a){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),$c(t.return,n,a)}function Mh(t,n,a,l,c){var f=t.memoizedState;f===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:c}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=a,f.tailMode=c)}function Hg(t,n,a){var l=n.pendingProps,c=l.revealOrder,f=l.tail;if(Ue(t,n,l.children,a),l=Se.current,(l&2)!==0)l=l&1|2,n.flags|=128;else{if(t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&qg(t,a,n);else if(t.tag===19)qg(t,a,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(tt(Se,l),c){case"forwards":for(a=n.child,c=null;a!==null;)t=a.alternate,t!==null&&iu(t)===null&&(c=a),a=a.sibling;a=c,a===null?(c=n.child,n.child=null):(c=a.sibling,a.sibling=null),Mh(n,!1,c,a,f);break;case"backwards":for(a=null,c=n.child,n.child=null;c!==null;){if(t=c.alternate,t!==null&&iu(t)===null){n.child=c;break}t=c.sibling,c.sibling=a,a=c,c=t}Mh(n,!0,a,null,f);break;case"together":Mh(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function bi(t,n,a){if(t!==null&&(n.dependencies=t.dependencies),ta|=n.lanes,(a&n.childLanes)===0)if(t!==null){if(il(t,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(s(153));if(n.child!==null){for(t=n.child,a=yi(t,t.pendingProps),n.child=a,a.return=n;t.sibling!==null;)t=t.sibling,a=a.sibling=yi(t,t.pendingProps),a.return=n;a.sibling=null}return n.child}function xh(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&ko(t)))}function NE(t,n,a){switch(n.tag){case 3:Zt(n,n.stateNode.containerInfo),Hi(n,Ae,t.memoizedState.cache),el();break;case 27:case 5:Ui(n);break;case 4:Zt(n,n.stateNode.containerInfo);break;case 10:Hi(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Ki(n),n.flags|=128,null):(a&n.child.childLanes)!==0?kg(t,n,a):(Ki(n),t=bi(t,n,a),t!==null?t.sibling:null);Ki(n);break;case 19:var c=(t.flags&128)!==0;if(l=(a&n.childLanes)!==0,l||(il(t,n,a,!1),l=(a&n.childLanes)!==0),c){if(l)return Hg(t,n,a);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),tt(Se,Se.current),l)break;return null;case 22:case 23:return n.lanes=0,zg(t,n,a);case 24:Hi(n,Ae,t.memoizedState.cache)}return bi(t,n,a)}function Gg(t,n,a){if(t!==null)if(t.memoizedProps!==n.pendingProps)Ce=!0;else{if(!xh(t,a)&&(n.flags&128)===0)return Ce=!1,NE(t,n,a);Ce=(t.flags&131072)!==0}else Ce=!1,jt&&(n.flags&1048576)!==0&&Em(n,jo,n.index);switch(n.lanes=0,n.tag){case 16:t:{t=n.pendingProps;var l=n.elementType,c=l._init;if(l=c(l._payload),n.type=l,typeof l=="function")Hc(l)?(t=ar(l,t),n.tag=1,n=Bg(null,n,l,t,a)):(n.tag=0,n=Ih(null,n,l,t,a));else{if(l!=null){if(c=l.$$typeof,c===At){n.tag=11,n=Mg(null,n,l,t,a);break t}else if(c===O){n.tag=14,n=xg(null,n,l,t,a);break t}}throw n=Oe(l)||l,Error(s(306,n,""))}}return n;case 0:return Ih(t,n,n.type,n.pendingProps,a);case 1:return l=n.type,c=ar(l,n.pendingProps),Bg(t,n,l,c,a);case 3:t:{if(Zt(n,n.stateNode.containerInfo),t===null)throw Error(s(387));l=n.pendingProps;var f=n.memoizedState;c=f.element,ih(t,n),cl(n,l,null,a);var y=n.memoizedState;if(l=y.cache,Hi(n,Ae,l),l!==f.cache&&Zc(n,[Ae],a,!0),ul(),l=y.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:y.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=jg(t,n,l,a);break t}else if(l!==c){c=vn(Error(s(424)),n),nl(c),n=jg(t,n,l,a);break t}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(se=Mn(t.firstChild),$e=n,jt=!0,Ja=null,Kn=!0,a=Ag(n,null,l,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(el(),l===c){n=bi(t,n,a);break t}Ue(t,n,l,a)}n=n.child}return n;case 26:return su(t,n),t===null?(a=Kp(n.type,null,n.pendingProps,null))?n.memoizedState=a:jt||(a=n.type,t=n.pendingProps,l=Tu(vt.current).createElement(a),l[ve]=n,l[fe]=t,Le(l,a,t),oe(l),n.stateNode=l):n.memoizedState=Kp(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Ui(n),t===null&&jt&&(l=n.stateNode=Fp(n.type,n.pendingProps,vt.current),$e=n,Kn=!0,c=se,aa(n.type)?(gf=c,se=Mn(l.firstChild)):se=c),Ue(t,n,n.pendingProps.children,a),su(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&jt&&((c=l=se)&&(l=aT(l,n.type,n.pendingProps,Kn),l!==null?(n.stateNode=l,$e=n,se=Mn(l.firstChild),Kn=!1,c=!0):c=!1),c||Wa(n)),Ui(n),c=n.type,f=n.pendingProps,y=t!==null?t.memoizedProps:null,l=f.children,hf(c,f)?l=null:y!==null&&hf(c,y)&&(n.flags|=32),n.memoizedState!==null&&(c=uh(t,n,AE,null,null,a),Ol._currentValue=c),su(t,n),Ue(t,n,l,a),n.child;case 6:return t===null&&jt&&((t=a=se)&&(a=rT(a,n.pendingProps,Kn),a!==null?(n.stateNode=a,$e=n,se=null,t=!0):t=!1),t||Wa(n)),null;case 13:return kg(t,n,a);case 4:return Zt(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=Jr(n,null,l,a):Ue(t,n,l,a),n.child;case 11:return Mg(t,n,n.type,n.pendingProps,a);case 7:return Ue(t,n,n.pendingProps,a),n.child;case 8:return Ue(t,n,n.pendingProps.children,a),n.child;case 12:return Ue(t,n,n.pendingProps.children,a),n.child;case 10:return l=n.pendingProps,Hi(n,n.type,l.value),Ue(t,n,l.children,a),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,er(n),c=qe(c),l=l(c),n.flags|=1,Ue(t,n,l,a),n.child;case 14:return xg(t,n,n.type,n.pendingProps,a);case 15:return Ug(t,n,n.type,n.pendingProps,a);case 19:return Hg(t,n,a);case 31:return l=n.pendingProps,a=n.mode,l={mode:l.mode,children:l.children},t===null?(a=lu(l,a),a.ref=n.ref,n.child=a,a.return=n,n=a):(a=yi(t.child,l),a.ref=n.ref,n.child=a,a.return=n,n=a),n;case 22:return zg(t,n,a);case 24:return er(n),l=qe(Ae),t===null?(c=th(),c===null&&(c=Jt,f=Jc(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=a),c=f),n.memoizedState={parent:l,cache:c},nh(n),Hi(n,Ae,c)):((t.lanes&a)!==0&&(ih(t,n),cl(n,null,null,a),ul()),c=t.memoizedState,f=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),Hi(n,Ae,l)):(l=f.cache,Hi(n,Ae,l),l!==c.cache&&Zc(n,[Ae],a,!0))),Ue(t,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function Ri(t){t.flags|=4}function Fg(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Wp(n)){if(n=Sn.current,n!==null&&((xt&4194048)===xt?Xn!==null:(xt&62914560)!==xt&&(xt&536870912)===0||n!==Xn))throw ll=eh,Cm;t.flags|=8192}}function ou(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?xs():536870912,t.lanes|=n,ns|=n)}function yl(t,n){if(!jt)switch(t.tailMode){case"hidden":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ne(t){var n=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(n)for(var c=t.child;c!==null;)a|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)a|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=l,t.childLanes=a,n}function VE(t,n,a){var l=n.pendingProps;switch(Yc(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ne(n),null;case 1:return ne(n),null;case 3:return a=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Ti(Ae),zn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(tl(n)?Ri(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Sm())),ne(n),null;case 26:return a=n.memoizedState,t===null?(Ri(n),a!==null?(ne(n),Fg(n,a)):(ne(n),n.flags&=-16777217)):a?a!==t.memoizedState?(Ri(n),ne(n),Fg(n,a)):(ne(n),n.flags&=-16777217):(t.memoizedProps!==l&&Ri(n),ne(n),n.flags&=-16777217),null;case 27:ai(n),a=vt.current;var c=n.type;if(t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Ri(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return ne(n),null}t=dt.current,tl(n)?Tm(n):(t=Fp(c,l,a),n.stateNode=t,Ri(n))}return ne(n),null;case 5:if(ai(n),a=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Ri(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return ne(n),null}if(t=dt.current,tl(n))Tm(n);else{switch(c=Tu(vt.current),t){case 1:t=c.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=c.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=c.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=c.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=c.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?c.createElement("select",{is:l.is}):c.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?c.createElement(a,{is:l.is}):c.createElement(a)}}t[ve]=n,t[fe]=l;t:for(c=n.child;c!==null;){if(c.tag===5||c.tag===6)t.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===n)break t;for(;c.sibling===null;){if(c.return===null||c.return===n)break t;c=c.return}c.sibling.return=c.return,c=c.sibling}n.stateNode=t;t:switch(Le(t,a,l),a){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&Ri(n)}}return ne(n),n.flags&=-16777217,null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&Ri(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(s(166));if(t=vt.current,tl(n)){if(t=n.stateNode,a=n.memoizedProps,l=null,c=$e,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}t[ve]=n,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Pp(t.nodeValue,a)),t||Wa(n)}else t=Tu(t).createTextNode(l),t[ve]=n,n.stateNode=t}return ne(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=tl(n),l!==null&&l.dehydrated!==null){if(t===null){if(!c)throw Error(s(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(s(317));c[ve]=n}else el(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ne(n),c=!1}else c=Sm(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(Si(n),n):(Si(n),null)}if(Si(n),(n.flags&128)!==0)return n.lanes=a,n;if(a=l!==null,t=t!==null&&t.memoizedState!==null,a){l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool);var f=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==c&&(l.flags|=2048)}return a!==t&&a&&(n.child.flags|=8192),ou(n,n.updateQueue),ne(n),null;case 4:return zn(),t===null&&sf(n.stateNode.containerInfo),ne(n),null;case 10:return Ti(n.type),ne(n),null;case 19:if(it(Se),c=n.memoizedState,c===null)return ne(n),null;if(l=(n.flags&128)!==0,f=c.rendering,f===null)if(l)yl(c,!1);else{if(le!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=iu(t),f!==null){for(n.flags|=128,yl(c,!1),t=f.updateQueue,n.updateQueue=t,ou(n,t),n.subtreeFlags=0,t=a,a=n.child;a!==null;)vm(a,t),a=a.sibling;return tt(Se,Se.current&1|2),n.child}t=t.sibling}c.tail!==null&&dn()>hu&&(n.flags|=128,l=!0,yl(c,!1),n.lanes=4194304)}else{if(!l)if(t=iu(f),t!==null){if(n.flags|=128,l=!0,t=t.updateQueue,n.updateQueue=t,ou(n,t),yl(c,!0),c.tail===null&&c.tailMode==="hidden"&&!f.alternate&&!jt)return ne(n),null}else 2*dn()-c.renderingStartTime>hu&&a!==536870912&&(n.flags|=128,l=!0,yl(c,!1),n.lanes=4194304);c.isBackwards?(f.sibling=n.child,n.child=f):(t=c.last,t!==null?t.sibling=f:n.child=f,c.last=f)}return c.tail!==null?(n=c.tail,c.rendering=n,c.tail=n.sibling,c.renderingStartTime=dn(),n.sibling=null,t=Se.current,tt(Se,l?t&1|2:t&1),n):(ne(n),null);case 22:case 23:return Si(n),lh(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(a&536870912)!==0&&(n.flags&128)===0&&(ne(n),n.subtreeFlags&6&&(n.flags|=8192)):ne(n),a=n.updateQueue,a!==null&&ou(n,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==a&&(n.flags|=2048),t!==null&&it(nr),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),Ti(Ae),ne(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function OE(t,n){switch(Yc(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Ti(Ae),zn(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return ai(n),null;case 13:if(Si(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(s(340));el()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return it(Se),null;case 4:return zn(),null;case 10:return Ti(n.type),null;case 22:case 23:return Si(n),lh(),t!==null&&it(nr),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Ti(Ae),null;case 25:return null;default:return null}}function Qg(t,n){switch(Yc(n),n.tag){case 3:Ti(Ae),zn();break;case 26:case 27:case 5:ai(n);break;case 4:zn();break;case 13:Si(n);break;case 19:it(Se);break;case 10:Ti(n.type);break;case 22:case 23:Si(n),lh(),t!==null&&it(nr);break;case 24:Ti(Ae)}}function _l(t,n){try{var a=n.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var c=l.next;a=c;do{if((a.tag&t)===t){l=void 0;var f=a.create,y=a.inst;l=f(),y.destroy=l}a=a.next}while(a!==c)}}catch(E){$t(n,n.return,E)}}function $i(t,n,a){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var f=c.next;l=f;do{if((l.tag&t)===t){var y=l.inst,E=y.destroy;if(E!==void 0){y.destroy=void 0,c=n;var b=a,P=E;try{P()}catch(G){$t(c,b,G)}}}l=l.next}while(l!==f)}}catch(G){$t(n,n.return,G)}}function Yg(t){var n=t.updateQueue;if(n!==null){var a=t.stateNode;try{xm(n,a)}catch(l){$t(t,t.return,l)}}}function Kg(t,n,a){a.props=ar(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){$t(t,n,l)}}function vl(t,n){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(c){$t(t,n,c)}}function $n(t,n){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(c){$t(t,n,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(c){$t(t,n,c)}else a.current=null}function Xg(t){var n=t.type,a=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(c){$t(t,t.return,c)}}function Uh(t,n,a){try{var l=t.stateNode;WE(l,t.type,a,n),l[fe]=n}catch(c){$t(t,t.return,c)}}function $g(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&aa(t.type)||t.tag===4}function zh(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||$g(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&aa(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Lh(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(t),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=Eu));else if(l!==4&&(l===27&&aa(t.type)&&(a=t.stateNode,n=null),t=t.child,t!==null))for(Lh(t,n,a),t=t.sibling;t!==null;)Lh(t,n,a),t=t.sibling}function uu(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?a.insertBefore(t,n):a.appendChild(t);else if(l!==4&&(l===27&&aa(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(uu(t,n,a),t=t.sibling;t!==null;)uu(t,n,a),t=t.sibling}function Zg(t){var n=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);Le(n,l,a),n[ve]=t,n[fe]=a}catch(f){$t(t,t.return,f)}}var wi=!1,ce=!1,Ph=!1,Jg=typeof WeakSet=="function"?WeakSet:Set,De=null;function ME(t,n){if(t=t.containerInfo,uf=Iu,t=um(t),zc(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else t:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var c=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break t}var y=0,E=-1,b=-1,P=0,G=0,$=t,B=null;e:for(;;){for(var j;$!==a||c!==0&&$.nodeType!==3||(E=y+c),$!==f||l!==0&&$.nodeType!==3||(b=y+l),$.nodeType===3&&(y+=$.nodeValue.length),(j=$.firstChild)!==null;)B=$,$=j;for(;;){if($===t)break e;if(B===a&&++P===c&&(E=y),B===f&&++G===l&&(b=y),(j=$.nextSibling)!==null)break;$=B,B=$.parentNode}$=j}a=E===-1||b===-1?null:{start:E,end:b}}else a=null}a=a||{start:0,end:0}}else a=null;for(cf={focusedElem:t,selectionRange:a},Iu=!1,De=n;De!==null;)if(n=De,t=n.child,(n.subtreeFlags&1024)!==0&&t!==null)t.return=n,De=t;else for(;De!==null;){switch(n=De,f=n.alternate,t=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,a=n,c=f.memoizedProps,f=f.memoizedState,l=a.stateNode;try{var yt=ar(a.type,c,a.elementType===a.type);t=l.getSnapshotBeforeUpdate(yt,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(mt){$t(a,a.return,mt)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,a=t.nodeType,a===9)df(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":df(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=n.sibling,t!==null){t.return=n.return,De=t;break}De=n.return}}function Wg(t,n,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Zi(t,a),l&4&&_l(5,a);break;case 1:if(Zi(t,a),l&4)if(t=a.stateNode,n===null)try{t.componentDidMount()}catch(y){$t(a,a.return,y)}else{var c=ar(a.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(c,n,t.__reactInternalSnapshotBeforeUpdate)}catch(y){$t(a,a.return,y)}}l&64&&Yg(a),l&512&&vl(a,a.return);break;case 3:if(Zi(t,a),l&64&&(t=a.updateQueue,t!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{xm(t,n)}catch(y){$t(a,a.return,y)}}break;case 27:n===null&&l&4&&Zg(a);case 26:case 5:Zi(t,a),n===null&&l&4&&Xg(a),l&512&&vl(a,a.return);break;case 12:Zi(t,a);break;case 13:Zi(t,a),l&4&&np(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=qE.bind(null,a),sT(t,a))));break;case 22:if(l=a.memoizedState!==null||wi,!l){n=n!==null&&n.memoizedState!==null||ce,c=wi;var f=ce;wi=l,(ce=n)&&!f?Ji(t,a,(a.subtreeFlags&8772)!==0):Zi(t,a),wi=c,ce=f}break;case 30:break;default:Zi(t,a)}}function tp(t){var n=t.alternate;n!==null&&(t.alternate=null,tp(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Bi(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ee=null,Je=!1;function Ii(t,n,a){for(a=a.child;a!==null;)ep(t,n,a),a=a.sibling}function ep(t,n,a){if(Ht&&typeof Ht.onCommitFiberUnmount=="function")try{Ht.onCommitFiberUnmount(re,a)}catch{}switch(a.tag){case 26:ce||$n(a,n),Ii(t,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:ce||$n(a,n);var l=ee,c=Je;aa(a.type)&&(ee=a.stateNode,Je=!1),Ii(t,n,a),Cl(a.stateNode),ee=l,Je=c;break;case 5:ce||$n(a,n);case 6:if(l=ee,c=Je,ee=null,Ii(t,n,a),ee=l,Je=c,ee!==null)if(Je)try{(ee.nodeType===9?ee.body:ee.nodeName==="HTML"?ee.ownerDocument.body:ee).removeChild(a.stateNode)}catch(f){$t(a,n,f)}else try{ee.removeChild(a.stateNode)}catch(f){$t(a,n,f)}break;case 18:ee!==null&&(Je?(t=ee,Hp(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),zl(t)):Hp(ee,a.stateNode));break;case 4:l=ee,c=Je,ee=a.stateNode.containerInfo,Je=!0,Ii(t,n,a),ee=l,Je=c;break;case 0:case 11:case 14:case 15:ce||$i(2,a,n),ce||$i(4,a,n),Ii(t,n,a);break;case 1:ce||($n(a,n),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Kg(a,n,l)),Ii(t,n,a);break;case 21:Ii(t,n,a);break;case 22:ce=(l=ce)||a.memoizedState!==null,Ii(t,n,a),ce=l;break;default:Ii(t,n,a)}}function np(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{zl(t)}catch(a){$t(n,n.return,a)}}function xE(t){switch(t.tag){case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Jg),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Jg),n;default:throw Error(s(435,t.tag))}}function Bh(t,n){var a=xE(t);n.forEach(function(l){var c=HE.bind(null,t,l);a.has(l)||(a.add(l),l.then(c,c))})}function ln(t,n){var a=n.deletions;if(a!==null)for(var l=0;l<a.length;l++){var c=a[l],f=t,y=n,E=y;t:for(;E!==null;){switch(E.tag){case 27:if(aa(E.type)){ee=E.stateNode,Je=!1;break t}break;case 5:ee=E.stateNode,Je=!1;break t;case 3:case 4:ee=E.stateNode.containerInfo,Je=!0;break t}E=E.return}if(ee===null)throw Error(s(160));ep(f,y,c),ee=null,Je=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)ip(n,t),n=n.sibling}var On=null;function ip(t,n){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:ln(n,t),on(t),l&4&&($i(3,t,t.return),_l(3,t),$i(5,t,t.return));break;case 1:ln(n,t),on(t),l&512&&(ce||a===null||$n(a,a.return)),l&64&&wi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var c=On;if(ln(n,t),on(t),l&512&&(ce||a===null||$n(a,a.return)),l&4){var f=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){t:{l=t.type,a=t.memoizedProps,c=c.ownerDocument||c;e:switch(l){case"title":f=c.getElementsByTagName("title")[0],(!f||f[Ma]||f[ve]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(l),c.head.insertBefore(f,c.querySelector("head > title"))),Le(f,l,a),f[ve]=t,oe(f),l=f;break t;case"link":var y=Zp("link","href",c).get(l+(a.href||""));if(y){for(var E=0;E<y.length;E++)if(f=y[E],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){y.splice(E,1);break e}}f=c.createElement(l),Le(f,l,a),c.head.appendChild(f);break;case"meta":if(y=Zp("meta","content",c).get(l+(a.content||""))){for(E=0;E<y.length;E++)if(f=y[E],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){y.splice(E,1);break e}}f=c.createElement(l),Le(f,l,a),c.head.appendChild(f);break;default:throw Error(s(468,l))}f[ve]=t,oe(f),l=f}t.stateNode=l}else Jp(c,t.type,t.stateNode);else t.stateNode=$p(c,l,t.memoizedProps);else f!==l?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,l===null?Jp(c,t.type,t.stateNode):$p(c,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Uh(t,t.memoizedProps,a.memoizedProps)}break;case 27:ln(n,t),on(t),l&512&&(ce||a===null||$n(a,a.return)),a!==null&&l&4&&Uh(t,t.memoizedProps,a.memoizedProps);break;case 5:if(ln(n,t),on(t),l&512&&(ce||a===null||$n(a,a.return)),t.flags&32){c=t.stateNode;try{gn(c,"")}catch(j){$t(t,t.return,j)}}l&4&&t.stateNode!=null&&(c=t.memoizedProps,Uh(t,c,a!==null?a.memoizedProps:c)),l&1024&&(Ph=!0);break;case 6:if(ln(n,t),on(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(j){$t(t,t.return,j)}}break;case 3:if(bu=null,c=On,On=Au(n.containerInfo),ln(n,t),On=c,on(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{zl(n.containerInfo)}catch(j){$t(t,t.return,j)}Ph&&(Ph=!1,ap(t));break;case 4:l=On,On=Au(t.stateNode.containerInfo),ln(n,t),on(t),On=l;break;case 12:ln(n,t),on(t);break;case 13:ln(n,t),on(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Fh=dn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Bh(t,l)));break;case 22:c=t.memoizedState!==null;var b=a!==null&&a.memoizedState!==null,P=wi,G=ce;if(wi=P||c,ce=G||b,ln(n,t),ce=G,wi=P,on(t),l&8192)t:for(n=t.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(a===null||b||wi||ce||rr(t)),a=null,n=t;;){if(n.tag===5||n.tag===26){if(a===null){b=a=n;try{if(f=b.stateNode,c)y=f.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{E=b.stateNode;var $=b.memoizedProps.style,B=$!=null&&$.hasOwnProperty("display")?$.display:null;E.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(j){$t(b,b.return,j)}}}else if(n.tag===6){if(a===null){b=n;try{b.stateNode.nodeValue=c?"":b.memoizedProps}catch(j){$t(b,b.return,j)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Bh(t,a))));break;case 19:ln(n,t),on(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Bh(t,l)));break;case 30:break;case 21:break;default:ln(n,t),on(t)}}function on(t){var n=t.flags;if(n&2){try{for(var a,l=t.return;l!==null;){if($g(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var c=a.stateNode,f=zh(t);uu(t,f,c);break;case 5:var y=a.stateNode;a.flags&32&&(gn(y,""),a.flags&=-33);var E=zh(t);uu(t,E,y);break;case 3:case 4:var b=a.stateNode.containerInfo,P=zh(t);Lh(t,P,b);break;default:throw Error(s(161))}}catch(G){$t(t,t.return,G)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function ap(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;ap(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Zi(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Wg(t,n.alternate,n),n=n.sibling}function rr(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:$i(4,n,n.return),rr(n);break;case 1:$n(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&Kg(n,n.return,a),rr(n);break;case 27:Cl(n.stateNode);case 26:case 5:$n(n,n.return),rr(n);break;case 22:n.memoizedState===null&&rr(n);break;case 30:rr(n);break;default:rr(n)}t=t.sibling}}function Ji(t,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=t,f=n,y=f.flags;switch(f.tag){case 0:case 11:case 15:Ji(c,f,a),_l(4,f);break;case 1:if(Ji(c,f,a),l=f,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(P){$t(l,l.return,P)}if(l=f,c=l.updateQueue,c!==null){var E=l.stateNode;try{var b=c.shared.hiddenCallbacks;if(b!==null)for(c.shared.hiddenCallbacks=null,c=0;c<b.length;c++)Mm(b[c],E)}catch(P){$t(l,l.return,P)}}a&&y&64&&Yg(f),vl(f,f.return);break;case 27:Zg(f);case 26:case 5:Ji(c,f,a),a&&l===null&&y&4&&Xg(f),vl(f,f.return);break;case 12:Ji(c,f,a);break;case 13:Ji(c,f,a),a&&y&4&&np(c,f);break;case 22:f.memoizedState===null&&Ji(c,f,a),vl(f,f.return);break;case 30:break;default:Ji(c,f,a)}n=n.sibling}}function jh(t,n){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&al(a))}function kh(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&al(t))}function Zn(t,n,a,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)rp(t,n,a,l),n=n.sibling}function rp(t,n,a,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:Zn(t,n,a,l),c&2048&&_l(9,n);break;case 1:Zn(t,n,a,l);break;case 3:Zn(t,n,a,l),c&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&al(t)));break;case 12:if(c&2048){Zn(t,n,a,l),t=n.stateNode;try{var f=n.memoizedProps,y=f.id,E=f.onPostCommit;typeof E=="function"&&E(y,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(b){$t(n,n.return,b)}}else Zn(t,n,a,l);break;case 13:Zn(t,n,a,l);break;case 23:break;case 22:f=n.stateNode,y=n.alternate,n.memoizedState!==null?f._visibility&2?Zn(t,n,a,l):El(t,n):f._visibility&2?Zn(t,n,a,l):(f._visibility|=2,Wr(t,n,a,l,(n.subtreeFlags&10256)!==0)),c&2048&&jh(y,n);break;case 24:Zn(t,n,a,l),c&2048&&kh(n.alternate,n);break;default:Zn(t,n,a,l)}}function Wr(t,n,a,l,c){for(c=c&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var f=t,y=n,E=a,b=l,P=y.flags;switch(y.tag){case 0:case 11:case 15:Wr(f,y,E,b,c),_l(8,y);break;case 23:break;case 22:var G=y.stateNode;y.memoizedState!==null?G._visibility&2?Wr(f,y,E,b,c):El(f,y):(G._visibility|=2,Wr(f,y,E,b,c)),c&&P&2048&&jh(y.alternate,y);break;case 24:Wr(f,y,E,b,c),c&&P&2048&&kh(y.alternate,y);break;default:Wr(f,y,E,b,c)}n=n.sibling}}function El(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=t,l=n,c=l.flags;switch(l.tag){case 22:El(a,l),c&2048&&jh(l.alternate,l);break;case 24:El(a,l),c&2048&&kh(l.alternate,l);break;default:El(a,l)}n=n.sibling}}var Tl=8192;function ts(t){if(t.subtreeFlags&Tl)for(t=t.child;t!==null;)sp(t),t=t.sibling}function sp(t){switch(t.tag){case 26:ts(t),t.flags&Tl&&t.memoizedState!==null&&vT(On,t.memoizedState,t.memoizedProps);break;case 5:ts(t);break;case 3:case 4:var n=On;On=Au(t.stateNode.containerInfo),ts(t),On=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=Tl,Tl=16777216,ts(t),Tl=n):ts(t));break;default:ts(t)}}function lp(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Al(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];De=l,up(l,t)}lp(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)op(t),t=t.sibling}function op(t){switch(t.tag){case 0:case 11:case 15:Al(t),t.flags&2048&&$i(9,t,t.return);break;case 3:Al(t);break;case 12:Al(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,cu(t)):Al(t);break;default:Al(t)}}function cu(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];De=l,up(l,t)}lp(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:$i(8,n,n.return),cu(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,cu(n));break;default:cu(n)}t=t.sibling}}function up(t,n){for(;De!==null;){var a=De;switch(a.tag){case 0:case 11:case 15:$i(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:al(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,De=l;else t:for(a=t;De!==null;){l=De;var c=l.sibling,f=l.return;if(tp(l),l===a){De=null;break t}if(c!==null){c.return=f,De=c;break t}De=f}}}var UE={getCacheForType:function(t){var n=qe(Ae),a=n.data.get(t);return a===void 0&&(a=t(),n.data.set(t,a)),a}},zE=typeof WeakMap=="function"?WeakMap:Map,Gt=0,Jt=null,Dt=null,xt=0,Ft=0,un=null,Wi=!1,es=!1,qh=!1,Ci=0,le=0,ta=0,sr=0,Hh=0,bn=0,ns=0,Sl=null,We=null,Gh=!1,Fh=0,hu=1/0,fu=null,ea=null,ze=0,na=null,is=null,as=0,Qh=0,Yh=null,cp=null,bl=0,Kh=null;function cn(){if((Gt&2)!==0&&xt!==0)return xt&-xt;if(H.T!==null){var t=Fr;return t!==0?t:ef()}return Li()}function hp(){bn===0&&(bn=(xt&536870912)===0||jt?Ms():536870912);var t=Sn.current;return t!==null&&(t.flags|=32),bn}function hn(t,n,a){(t===Jt&&(Ft===2||Ft===9)||t.cancelPendingCommit!==null)&&(rs(t,0),ia(t,xt,bn,!1)),si(t,a),((Gt&2)===0||t!==Jt)&&(t===Jt&&((Gt&2)===0&&(sr|=a),le===4&&ia(t,xt,bn,!1)),Jn(t))}function fp(t,n,a){if((Gt&6)!==0)throw Error(s(327));var l=!a&&(n&124)===0&&(n&t.expiredLanes)===0||Oa(t,n),c=l?BE(t,n):Zh(t,n,!0),f=l;do{if(c===0){es&&!l&&ia(t,n,0,!1);break}else{if(a=t.current.alternate,f&&!LE(a)){c=Zh(t,n,!1),f=!1;continue}if(c===2){if(f=n,t.errorRecoveryDisabledLanes&f)var y=0;else y=t.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){n=y;t:{var E=t;c=Sl;var b=E.current.memoizedState.isDehydrated;if(b&&(rs(E,y).flags|=256),y=Zh(E,y,!1),y!==2){if(qh&&!b){E.errorRecoveryDisabledLanes|=f,sr|=f,c=4;break t}f=We,We=c,f!==null&&(We===null?We=f:We.push.apply(We,f))}c=y}if(f=!1,c!==2)continue}}if(c===1){rs(t,0),ia(t,n,0,!0);break}t:{switch(l=t,f=c,f){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:ia(l,n,bn,!Wi);break t;case 2:We=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(c=Fh+300-dn(),10<c)){if(ia(l,n,bn,!Wi),Ar(l,0,!0)!==0)break t;l.timeoutHandle=kp(dp.bind(null,l,a,We,fu,Gh,n,bn,sr,ns,Wi,f,2,-0,0),c);break t}dp(l,a,We,fu,Gh,n,bn,sr,ns,Wi,f,0,-0,0)}}break}while(!0);Jn(t)}function dp(t,n,a,l,c,f,y,E,b,P,G,$,B,j){if(t.timeoutHandle=-1,$=n.subtreeFlags,($&8192||($&16785408)===16785408)&&(Vl={stylesheets:null,count:0,unsuspend:_T},sp(n),$=ET(),$!==null)){t.cancelPendingCommit=$(Ep.bind(null,t,n,f,a,l,c,y,E,b,G,1,B,j)),ia(t,f,y,!P);return}Ep(t,n,f,a,l,c,y,E,b)}function LE(t){for(var n=t;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var c=a[l],f=c.getSnapshot;c=c.value;try{if(!rn(f(),c))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function ia(t,n,a,l){n&=~Hh,n&=~sr,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var c=n;0<c;){var f=31-ke(c),y=1<<f;l[f]=-1,c&=~y}a!==0&&Ln(t,a,n)}function du(){return(Gt&6)===0?(Rl(0),!1):!0}function Xh(){if(Dt!==null){if(Ft===0)var t=Dt.return;else t=Dt,Ei=tr=null,fh(t),Zr=null,gl=0,t=Dt;for(;t!==null;)Qg(t.alternate,t),t=t.return;Dt=null}}function rs(t,n){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,eT(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Xh(),Jt=t,Dt=a=yi(t.current,null),xt=n,Ft=0,un=null,Wi=!1,es=Oa(t,n),qh=!1,ns=bn=Hh=sr=ta=le=0,We=Sl=null,Gh=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var c=31-ke(l),f=1<<c;n|=t[c],l&=~f}return Ci=n,Uo(),a}function mp(t,n){bt=null,H.H=tu,n===sl||n===Go?(n=Vm(),Ft=3):n===Cm?(n=Vm(),Ft=4):Ft=n===Og?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,un=n,Dt===null&&(le=1,ru(t,vn(n,t.current)))}function gp(){var t=H.H;return H.H=tu,t===null?tu:t}function pp(){var t=H.A;return H.A=UE,t}function $h(){le=4,Wi||(xt&4194048)!==xt&&Sn.current!==null||(es=!0),(ta&134217727)===0&&(sr&134217727)===0||Jt===null||ia(Jt,xt,bn,!1)}function Zh(t,n,a){var l=Gt;Gt|=2;var c=gp(),f=pp();(Jt!==t||xt!==n)&&(fu=null,rs(t,n)),n=!1;var y=le;t:do try{if(Ft!==0&&Dt!==null){var E=Dt,b=un;switch(Ft){case 8:Xh(),y=6;break t;case 3:case 2:case 9:case 6:Sn.current===null&&(n=!0);var P=Ft;if(Ft=0,un=null,ss(t,E,b,P),a&&es){y=0;break t}break;default:P=Ft,Ft=0,un=null,ss(t,E,b,P)}}PE(),y=le;break}catch(G){mp(t,G)}while(!0);return n&&t.shellSuspendCounter++,Ei=tr=null,Gt=l,H.H=c,H.A=f,Dt===null&&(Jt=null,xt=0,Uo()),y}function PE(){for(;Dt!==null;)yp(Dt)}function BE(t,n){var a=Gt;Gt|=2;var l=gp(),c=pp();Jt!==t||xt!==n?(fu=null,hu=dn()+500,rs(t,n)):es=Oa(t,n);t:do try{if(Ft!==0&&Dt!==null){n=Dt;var f=un;e:switch(Ft){case 1:Ft=0,un=null,ss(t,n,f,1);break;case 2:case 9:if(Dm(f)){Ft=0,un=null,_p(n);break}n=function(){Ft!==2&&Ft!==9||Jt!==t||(Ft=7),Jn(t)},f.then(n,n);break t;case 3:Ft=7;break t;case 4:Ft=5;break t;case 7:Dm(f)?(Ft=0,un=null,_p(n)):(Ft=0,un=null,ss(t,n,f,7));break;case 5:var y=null;switch(Dt.tag){case 26:y=Dt.memoizedState;case 5:case 27:var E=Dt;if(!y||Wp(y)){Ft=0,un=null;var b=E.sibling;if(b!==null)Dt=b;else{var P=E.return;P!==null?(Dt=P,mu(P)):Dt=null}break e}}Ft=0,un=null,ss(t,n,f,5);break;case 6:Ft=0,un=null,ss(t,n,f,6);break;case 8:Xh(),le=6;break t;default:throw Error(s(462))}}jE();break}catch(G){mp(t,G)}while(!0);return Ei=tr=null,H.H=l,H.A=c,Gt=a,Dt!==null?0:(Jt=null,xt=0,Uo(),le)}function jE(){for(;Dt!==null&&!Ds();)yp(Dt)}function yp(t){var n=Gg(t.alternate,t,Ci);t.memoizedProps=t.pendingProps,n===null?mu(t):Dt=n}function _p(t){var n=t,a=n.alternate;switch(n.tag){case 15:case 0:n=Pg(a,n,n.pendingProps,n.type,void 0,xt);break;case 11:n=Pg(a,n,n.pendingProps,n.type.render,n.ref,xt);break;case 5:fh(n);default:Qg(a,n),n=Dt=vm(n,Ci),n=Gg(a,n,Ci)}t.memoizedProps=t.pendingProps,n===null?mu(t):Dt=n}function ss(t,n,a,l){Ei=tr=null,fh(n),Zr=null,gl=0;var c=n.return;try{if(DE(t,c,n,a,xt)){le=1,ru(t,vn(a,t.current)),Dt=null;return}}catch(f){if(c!==null)throw Dt=c,f;le=1,ru(t,vn(a,t.current)),Dt=null;return}n.flags&32768?(jt||l===1?t=!0:es||(xt&536870912)!==0?t=!1:(Wi=t=!0,(l===2||l===9||l===3||l===6)&&(l=Sn.current,l!==null&&l.tag===13&&(l.flags|=16384))),vp(n,t)):mu(n)}function mu(t){var n=t;do{if((n.flags&32768)!==0){vp(n,Wi);return}t=n.return;var a=VE(n.alternate,n,Ci);if(a!==null){Dt=a;return}if(n=n.sibling,n!==null){Dt=n;return}Dt=n=t}while(n!==null);le===0&&(le=5)}function vp(t,n){do{var a=OE(t.alternate,t);if(a!==null){a.flags&=32767,Dt=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(t=t.sibling,t!==null)){Dt=t;return}Dt=t=a}while(t!==null);le=6,Dt=null}function Ep(t,n,a,l,c,f,y,E,b){t.cancelPendingCommit=null;do gu();while(ze!==0);if((Gt&6)!==0)throw Error(s(327));if(n!==null){if(n===t.current)throw Error(s(177));if(f=n.lanes|n.childLanes,f|=kc,Us(t,a,f,y,E,b),t===Jt&&(Dt=Jt=null,xt=0),is=n,na=t,as=a,Qh=f,Yh=c,cp=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,GE(Ca,function(){return Rp(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=H.T,H.T=null,c=nt.p,nt.p=2,y=Gt,Gt|=4;try{ME(t,n,a)}finally{Gt=y,nt.p=c,H.T=l}}ze=1,Tp(),Ap(),Sp()}}function Tp(){if(ze===1){ze=0;var t=na,n=is,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=H.T,H.T=null;var l=nt.p;nt.p=2;var c=Gt;Gt|=4;try{ip(n,t);var f=cf,y=um(t.containerInfo),E=f.focusedElem,b=f.selectionRange;if(y!==E&&E&&E.ownerDocument&&om(E.ownerDocument.documentElement,E)){if(b!==null&&zc(E)){var P=b.start,G=b.end;if(G===void 0&&(G=P),"selectionStart"in E)E.selectionStart=P,E.selectionEnd=Math.min(G,E.value.length);else{var $=E.ownerDocument||document,B=$&&$.defaultView||window;if(B.getSelection){var j=B.getSelection(),yt=E.textContent.length,mt=Math.min(b.start,yt),Xt=b.end===void 0?mt:Math.min(b.end,yt);!j.extend&&mt>Xt&&(y=Xt,Xt=mt,mt=y);var x=lm(E,mt),D=lm(E,Xt);if(x&&D&&(j.rangeCount!==1||j.anchorNode!==x.node||j.anchorOffset!==x.offset||j.focusNode!==D.node||j.focusOffset!==D.offset)){var L=$.createRange();L.setStart(x.node,x.offset),j.removeAllRanges(),mt>Xt?(j.addRange(L),j.extend(D.node,D.offset)):(L.setEnd(D.node,D.offset),j.addRange(L))}}}}for($=[],j=E;j=j.parentNode;)j.nodeType===1&&$.push({element:j,left:j.scrollLeft,top:j.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<$.length;E++){var K=$[E];K.element.scrollLeft=K.left,K.element.scrollTop=K.top}}Iu=!!uf,cf=uf=null}finally{Gt=c,nt.p=l,H.T=a}}t.current=n,ze=2}}function Ap(){if(ze===2){ze=0;var t=na,n=is,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=H.T,H.T=null;var l=nt.p;nt.p=2;var c=Gt;Gt|=4;try{Wg(t,n.alternate,n)}finally{Gt=c,nt.p=l,H.T=a}}ze=3}}function Sp(){if(ze===4||ze===3){ze=0,uo();var t=na,n=is,a=as,l=cp;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?ze=5:(ze=0,is=na=null,bp(t,t.pendingLanes));var c=t.pendingLanes;if(c===0&&(ea=null),Sr(a),n=n.stateNode,Ht&&typeof Ht.onCommitFiberRoot=="function")try{Ht.onCommitFiberRoot(re,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=H.T,c=nt.p,nt.p=2,H.T=null;try{for(var f=t.onRecoverableError,y=0;y<l.length;y++){var E=l[y];f(E.value,{componentStack:E.stack})}}finally{H.T=n,nt.p=c}}(as&3)!==0&&gu(),Jn(t),c=t.pendingLanes,(a&4194090)!==0&&(c&42)!==0?t===Kh?bl++:(bl=0,Kh=t):bl=0,Rl(0)}}function bp(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,al(n)))}function gu(t){return Tp(),Ap(),Sp(),Rp()}function Rp(){if(ze!==5)return!1;var t=na,n=Qh;Qh=0;var a=Sr(as),l=H.T,c=nt.p;try{nt.p=32>a?32:a,H.T=null,a=Yh,Yh=null;var f=na,y=as;if(ze=0,is=na=null,as=0,(Gt&6)!==0)throw Error(s(331));var E=Gt;if(Gt|=4,op(f.current),rp(f,f.current,y,a),Gt=E,Rl(0,!1),Ht&&typeof Ht.onPostCommitFiberRoot=="function")try{Ht.onPostCommitFiberRoot(re,f)}catch{}return!0}finally{nt.p=c,H.T=l,bp(t,n)}}function wp(t,n,a){n=vn(a,n),n=wh(t.stateNode,n,2),t=Qi(t,n,2),t!==null&&(si(t,2),Jn(t))}function $t(t,n,a){if(t.tag===3)wp(t,t,a);else for(;n!==null;){if(n.tag===3){wp(n,t,a);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(ea===null||!ea.has(l))){t=vn(a,t),a=Ng(2),l=Qi(n,a,2),l!==null&&(Vg(a,l,n,t),si(l,2),Jn(l));break}}n=n.return}}function Jh(t,n,a){var l=t.pingCache;if(l===null){l=t.pingCache=new zE;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(a)||(qh=!0,c.add(a),t=kE.bind(null,t,n,a),n.then(t,t))}function kE(t,n,a){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,Jt===t&&(xt&a)===a&&(le===4||le===3&&(xt&62914560)===xt&&300>dn()-Fh?(Gt&2)===0&&rs(t,0):Hh|=a,ns===xt&&(ns=0)),Jn(t)}function Ip(t,n){n===0&&(n=xs()),t=kr(t,n),t!==null&&(si(t,n),Jn(t))}function qE(t){var n=t.memoizedState,a=0;n!==null&&(a=n.retryLane),Ip(t,a)}function HE(t,n){var a=0;switch(t.tag){case 13:var l=t.stateNode,c=t.memoizedState;c!==null&&(a=c.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(n),Ip(t,a)}function GE(t,n){return wa(t,n)}var pu=null,ls=null,Wh=!1,yu=!1,tf=!1,lr=0;function Jn(t){t!==ls&&t.next===null&&(ls===null?pu=ls=t:ls=ls.next=t),yu=!0,Wh||(Wh=!0,QE())}function Rl(t,n){if(!tf&&yu){tf=!0;do for(var a=!1,l=pu;l!==null;){if(t!==0){var c=l.pendingLanes;if(c===0)var f=0;else{var y=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-ke(42|t)+1)-1,f&=c&~(y&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,Vp(l,f))}else f=xt,f=Ar(l,l===Jt?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||Oa(l,f)||(a=!0,Vp(l,f));l=l.next}while(a);tf=!1}}function FE(){Cp()}function Cp(){yu=Wh=!1;var t=0;lr!==0&&(tT()&&(t=lr),lr=0);for(var n=dn(),a=null,l=pu;l!==null;){var c=l.next,f=Dp(l,n);f===0?(l.next=null,a===null?pu=c:a.next=c,c===null&&(ls=a)):(a=l,(t!==0||(f&3)!==0)&&(yu=!0)),l=c}Rl(t)}function Dp(t,n){for(var a=t.suspendedLanes,l=t.pingedLanes,c=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var y=31-ke(f),E=1<<y,b=c[y];b===-1?((E&a)===0||(E&l)!==0)&&(c[y]=Os(E,n)):b<=n&&(t.expiredLanes|=E),f&=~E}if(n=Jt,a=xt,a=Ar(t,t===n?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===n&&(Ft===2||Ft===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Ia(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Oa(t,a)){if(n=a&-a,n===t.callbackPriority)return n;switch(l!==null&&Ia(l),Sr(a)){case 2:case 8:a=Er;break;case 32:a=Ca;break;case 268435456:a=Tr;break;default:a=Ca}return l=Np.bind(null,t),a=wa(a,l),t.callbackPriority=n,t.callbackNode=a,n}return l!==null&&l!==null&&Ia(l),t.callbackPriority=2,t.callbackNode=null,2}function Np(t,n){if(ze!==0&&ze!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(gu()&&t.callbackNode!==a)return null;var l=xt;return l=Ar(t,t===Jt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(fp(t,l,n),Dp(t,dn()),t.callbackNode!=null&&t.callbackNode===a?Np.bind(null,t):null)}function Vp(t,n){if(gu())return null;fp(t,n,!0)}function QE(){nT(function(){(Gt&6)!==0?wa(Ns,FE):Cp()})}function ef(){return lr===0&&(lr=Ms()),lr}function Op(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Dr(""+t)}function Mp(t,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,t.id&&a.setAttribute("form",t.id),n.parentNode.insertBefore(a,n),t=new FormData(t),a.parentNode.removeChild(a),t}function YE(t,n,a,l,c){if(n==="submit"&&a&&a.stateNode===c){var f=Op((c[fe]||null).action),y=l.submitter;y&&(n=(n=y[fe]||null)?Op(n.formAction):y.getAttribute("formAction"),n!==null&&(f=n,y=null));var E=new Nr("action","action",null,l,c);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(lr!==0){var b=y?Mp(c,y):new FormData(c);Th(a,{pending:!0,data:b,method:c.method,action:f},null,b)}}else typeof f=="function"&&(E.preventDefault(),b=y?Mp(c,y):new FormData(c),Th(a,{pending:!0,data:b,method:c.method,action:f},f,b))},currentTarget:c}]})}}for(var nf=0;nf<jc.length;nf++){var af=jc[nf],KE=af.toLowerCase(),XE=af[0].toUpperCase()+af.slice(1);Vn(KE,"on"+XE)}Vn(fm,"onAnimationEnd"),Vn(dm,"onAnimationIteration"),Vn(mm,"onAnimationStart"),Vn("dblclick","onDoubleClick"),Vn("focusin","onFocus"),Vn("focusout","onBlur"),Vn(fE,"onTransitionRun"),Vn(dE,"onTransitionStart"),Vn(mE,"onTransitionCancel"),Vn(gm,"onTransitionEnd"),oi("onMouseEnter",["mouseout","mouseover"]),oi("onMouseLeave",["mouseout","mouseover"]),oi("onPointerEnter",["pointerout","pointerover"]),oi("onPointerLeave",["pointerout","pointerover"]),Dn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Dn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Dn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Dn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Dn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Dn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$E=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(wl));function xp(t,n){n=(n&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],c=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var y=l.length-1;0<=y;y--){var E=l[y],b=E.instance,P=E.currentTarget;if(E=E.listener,b!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=P;try{f(c)}catch(G){au(G)}c.currentTarget=null,f=b}else for(y=0;y<l.length;y++){if(E=l[y],b=E.instance,P=E.currentTarget,E=E.listener,b!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=P;try{f(c)}catch(G){au(G)}c.currentTarget=null,f=b}}}}function Nt(t,n){var a=n[Ls];a===void 0&&(a=n[Ls]=new Set);var l=t+"__bubble";a.has(l)||(Up(n,t,2,!1),a.add(l))}function rf(t,n,a){var l=0;n&&(l|=4),Up(a,t,l,n)}var _u="_reactListening"+Math.random().toString(36).slice(2);function sf(t){if(!t[_u]){t[_u]=!0,Ps.forEach(function(a){a!=="selectionchange"&&($E.has(a)||rf(a,!1,t),rf(a,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[_u]||(n[_u]=!0,rf("selectionchange",!1,n))}}function Up(t,n,a,l){switch(ry(n)){case 2:var c=ST;break;case 8:c=bT;break;default:c=Ef}a=c.bind(null,n,a,t),c=void 0,!yn||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?t.addEventListener(n,a,{capture:!0,passive:c}):t.addEventListener(n,a,!0):c!==void 0?t.addEventListener(n,a,{passive:c}):t.addEventListener(n,a,!1)}function lf(t,n,a,l,c){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var y=l.tag;if(y===3||y===4){var E=l.stateNode.containerInfo;if(E===c)break;if(y===4)for(y=l.return;y!==null;){var b=y.tag;if((b===3||b===4)&&y.stateNode.containerInfo===c)return;y=y.return}for(;E!==null;){if(y=li(E),y===null)return;if(b=y.tag,b===5||b===6||b===26||b===27){l=f=y;continue t}E=E.parentNode}}l=l.return}Eo(function(){var P=f,G=pn(a),$=[];t:{var B=pm.get(t);if(B!==void 0){var j=Nr,yt=t;switch(t){case"keypress":if(Hn(a)===0)break t;case"keydown":case"keyup":j=zr;break;case"focusin":yt="focus",j=Mr;break;case"focusout":yt="blur",j=Mr;break;case"beforeblur":case"afterblur":j=Mr;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":j=_n;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":j=Oc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":j=Co;break;case fm:case dm:case mm:j=xr;break;case gm:j=No;break;case"scroll":case"scrollend":j=To;break;case"wheel":j=Lr;break;case"copy":case"cut":case"paste":j=Ur;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":j=$s;break;case"toggle":case"beforetoggle":j=Oo}var mt=(n&4)!==0,Xt=!mt&&(t==="scroll"||t==="scrollend"),x=mt?B!==null?B+"Capture":null:B;mt=[];for(var D=P,L;D!==null;){var K=D;if(L=K.stateNode,K=K.tag,K!==5&&K!==26&&K!==27||L===null||x===null||(K=ja(D,x),K!=null&&mt.push(Il(D,K,L))),Xt)break;D=D.return}0<mt.length&&(B=new j(B,yt,null,a,G),$.push({event:B,listeners:mt}))}}if((n&7)===0){t:{if(B=t==="mouseover"||t==="pointerover",j=t==="mouseout"||t==="pointerout",B&&a!==hi&&(yt=a.relatedTarget||a.fromElement)&&(li(yt)||yt[mn]))break t;if((j||B)&&(B=G.window===G?G:(B=G.ownerDocument)?B.defaultView||B.parentWindow:window,j?(yt=a.relatedTarget||a.toElement,j=P,yt=yt?li(yt):null,yt!==null&&(Xt=h(yt),mt=yt.tag,yt!==Xt||mt!==5&&mt!==27&&mt!==6)&&(yt=null)):(j=null,yt=P),j!==yt)){if(mt=_n,K="onMouseLeave",x="onMouseEnter",D="mouse",(t==="pointerout"||t==="pointerover")&&(mt=$s,K="onPointerLeave",x="onPointerEnter",D="pointer"),Xt=j==null?B:Bn(j),L=yt==null?B:Bn(yt),B=new mt(K,D+"leave",j,a,G),B.target=Xt,B.relatedTarget=L,K=null,li(G)===P&&(mt=new mt(x,D+"enter",yt,a,G),mt.target=L,mt.relatedTarget=Xt,K=mt),Xt=K,j&&yt)e:{for(mt=j,x=yt,D=0,L=mt;L;L=os(L))D++;for(L=0,K=x;K;K=os(K))L++;for(;0<D-L;)mt=os(mt),D--;for(;0<L-D;)x=os(x),L--;for(;D--;){if(mt===x||x!==null&&mt===x.alternate)break e;mt=os(mt),x=os(x)}mt=null}else mt=null;j!==null&&zp($,B,j,mt,!1),yt!==null&&Xt!==null&&zp($,Xt,yt,mt,!0)}}t:{if(B=P?Bn(P):window,j=B.nodeName&&B.nodeName.toLowerCase(),j==="select"||j==="input"&&B.type==="file")var ot=em;else if(Te(B))if(nm)ot=uE;else{ot=lE;var It=sE}else j=B.nodeName,!j||j.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?P&&Hs(P.elementType)&&(ot=em):ot=oE;if(ot&&(ot=ot(t,P))){pi($,ot,a,G);break t}It&&It(t,B,P),t==="focusout"&&P&&B.type==="number"&&P.memoizedProps.value!=null&&ki(B,"number",B.value)}switch(It=P?Bn(P):window,t){case"focusin":(Te(It)||It.contentEditable==="true")&&(Pr=It,Lc=P,Ws=null);break;case"focusout":Ws=Lc=Pr=null;break;case"mousedown":Pc=!0;break;case"contextmenu":case"mouseup":case"dragend":Pc=!1,cm($,a,G);break;case"selectionchange":if(hE)break;case"keydown":case"keyup":cm($,a,G)}var ct;if(Qn)t:{switch(t){case"compositionstart":var gt="onCompositionStart";break t;case"compositionend":gt="onCompositionEnd";break t;case"compositionupdate":gt="onCompositionUpdate";break t}gt=void 0}else Ot?k(t,a)&&(gt="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(gt="onCompositionStart");gt&&(p&&a.locale!=="ko"&&(Ot||gt!=="onCompositionStart"?gt==="onCompositionEnd"&&Ot&&(ct=Fs()):(qn=G,qi="value"in qn?qn.value:qn.textContent,Ot=!0)),It=vu(P,gt),0<It.length&&(gt=new Ks(gt,t,null,a,G),$.push({event:gt,listeners:It}),ct?gt.data=ct:(ct=et(a),ct!==null&&(gt.data=ct)))),(ct=m?Ee(t,a):Mt(t,a))&&(gt=vu(P,"onBeforeInput"),0<gt.length&&(It=new Ks("onBeforeInput","beforeinput",null,a,G),$.push({event:It,listeners:gt}),It.data=ct)),YE($,t,P,a,G)}xp($,n)})}function Il(t,n,a){return{instance:t,listener:n,currentTarget:a}}function vu(t,n){for(var a=n+"Capture",l=[];t!==null;){var c=t,f=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=ja(t,a),c!=null&&l.unshift(Il(t,c,f)),c=ja(t,n),c!=null&&l.push(Il(t,c,f))),t.tag===3)return l;t=t.return}return[]}function os(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function zp(t,n,a,l,c){for(var f=n._reactName,y=[];a!==null&&a!==l;){var E=a,b=E.alternate,P=E.stateNode;if(E=E.tag,b!==null&&b===l)break;E!==5&&E!==26&&E!==27||P===null||(b=P,c?(P=ja(a,f),P!=null&&y.unshift(Il(a,P,b))):c||(P=ja(a,f),P!=null&&y.push(Il(a,P,b)))),a=a.return}y.length!==0&&t.push({event:n,listeners:y})}var ZE=/\r\n?/g,JE=/\u0000|\uFFFD/g;function Lp(t){return(typeof t=="string"?t:""+t).replace(ZE,`
`).replace(JE,"")}function Pp(t,n){return n=Lp(n),Lp(t)===n}function Eu(){}function Kt(t,n,a,l,c,f){switch(a){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||gn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&gn(t,""+l);break;case"className":jn(t,"class",l);break;case"tabIndex":jn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":jn(t,a,l);break;case"style":qs(t,l,f);break;case"data":if(n!=="object"){jn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Dr(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(n!=="input"&&Kt(t,n,"name",c.name,c,null),Kt(t,n,"formEncType",c.formEncType,c,null),Kt(t,n,"formMethod",c.formMethod,c,null),Kt(t,n,"formTarget",c.formTarget,c,null)):(Kt(t,n,"encType",c.encType,c,null),Kt(t,n,"method",c.method,c,null),Kt(t,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Dr(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Eu);break;case"onScroll":l!=null&&Nt("scroll",t);break;case"onScrollEnd":l!=null&&Nt("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(c.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Dr(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Nt("beforetoggle",t),Nt("toggle",t),ji(t,"popover",l);break;case"xlinkActuate":Me(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Me(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Me(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Me(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Me(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Me(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Me(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Me(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Me(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ji(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Nc.get(a)||a,ji(t,a,l))}}function of(t,n,a,l,c,f){switch(a){case"style":qs(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(c.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?gn(t,l):(typeof l=="number"||typeof l=="bigint")&&gn(t,""+l);break;case"onScroll":l!=null&&Nt("scroll",t);break;case"onScrollEnd":l!=null&&Nt("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Eu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!br.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(c=a.endsWith("Capture"),n=a.slice(2,c?a.length-7:void 0),f=t[fe]||null,f=f!=null?f[a]:null,typeof f=="function"&&t.removeEventListener(n,f,c),typeof l=="function")){typeof f!="function"&&f!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(n,l,c);break t}a in t?t[a]=l:l===!0?t.setAttribute(a,""):ji(t,a,l)}}}function Le(t,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Nt("error",t),Nt("load",t);var l=!1,c=!1,f;for(f in a)if(a.hasOwnProperty(f)){var y=a[f];if(y!=null)switch(f){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Kt(t,n,f,y,a,null)}}c&&Kt(t,n,"srcSet",a.srcSet,a,null),l&&Kt(t,n,"src",a.src,a,null);return;case"input":Nt("invalid",t);var E=f=y=c=null,b=null,P=null;for(l in a)if(a.hasOwnProperty(l)){var G=a[l];if(G!=null)switch(l){case"name":c=G;break;case"type":y=G;break;case"checked":b=G;break;case"defaultChecked":P=G;break;case"value":f=G;break;case"defaultValue":E=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,n));break;default:Kt(t,n,l,G,a,null)}}La(t,f,E,b,P,y,c,!1),Cr(t);return;case"select":Nt("invalid",t),l=y=f=null;for(c in a)if(a.hasOwnProperty(c)&&(E=a[c],E!=null))switch(c){case"value":f=E;break;case"defaultValue":y=E;break;case"multiple":l=E;default:Kt(t,n,c,E,a,null)}n=f,a=y,t.multiple=!!l,n!=null?ci(t,!!l,n,!1):a!=null&&ci(t,!!l,a,!0);return;case"textarea":Nt("invalid",t),f=c=l=null;for(y in a)if(a.hasOwnProperty(y)&&(E=a[y],E!=null))switch(y){case"value":l=E;break;case"defaultValue":c=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:Kt(t,n,y,E,a,null)}Pa(t,l,c,f),Cr(t);return;case"option":for(b in a)if(a.hasOwnProperty(b)&&(l=a[b],l!=null))switch(b){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Kt(t,n,b,l,a,null)}return;case"dialog":Nt("beforetoggle",t),Nt("toggle",t),Nt("cancel",t),Nt("close",t);break;case"iframe":case"object":Nt("load",t);break;case"video":case"audio":for(l=0;l<wl.length;l++)Nt(wl[l],t);break;case"image":Nt("error",t),Nt("load",t);break;case"details":Nt("toggle",t);break;case"embed":case"source":case"link":Nt("error",t),Nt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in a)if(a.hasOwnProperty(P)&&(l=a[P],l!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Kt(t,n,P,l,a,null)}return;default:if(Hs(n)){for(G in a)a.hasOwnProperty(G)&&(l=a[G],l!==void 0&&of(t,n,G,l,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(l=a[E],l!=null&&Kt(t,n,E,l,a,null))}function WE(t,n,a,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,y=null,E=null,b=null,P=null,G=null;for(j in a){var $=a[j];if(a.hasOwnProperty(j)&&$!=null)switch(j){case"checked":break;case"value":break;case"defaultValue":b=$;default:l.hasOwnProperty(j)||Kt(t,n,j,null,l,$)}}for(var B in l){var j=l[B];if($=a[B],l.hasOwnProperty(B)&&(j!=null||$!=null))switch(B){case"type":f=j;break;case"name":c=j;break;case"checked":P=j;break;case"defaultChecked":G=j;break;case"value":y=j;break;case"defaultValue":E=j;break;case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(s(137,n));break;default:j!==$&&Kt(t,n,B,j,l,$)}}an(t,y,E,b,P,G,f,c);return;case"select":j=y=E=B=null;for(f in a)if(b=a[f],a.hasOwnProperty(f)&&b!=null)switch(f){case"value":break;case"multiple":j=b;default:l.hasOwnProperty(f)||Kt(t,n,f,null,l,b)}for(c in l)if(f=l[c],b=a[c],l.hasOwnProperty(c)&&(f!=null||b!=null))switch(c){case"value":B=f;break;case"defaultValue":E=f;break;case"multiple":y=f;default:f!==b&&Kt(t,n,c,f,l,b)}n=E,a=y,l=j,B!=null?ci(t,!!a,B,!1):!!l!=!!a&&(n!=null?ci(t,!!a,n,!0):ci(t,!!a,a?[]:"",!1));return;case"textarea":j=B=null;for(E in a)if(c=a[E],a.hasOwnProperty(E)&&c!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Kt(t,n,E,null,l,c)}for(y in l)if(c=l[y],f=a[y],l.hasOwnProperty(y)&&(c!=null||f!=null))switch(y){case"value":B=c;break;case"defaultValue":j=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(s(91));break;default:c!==f&&Kt(t,n,y,c,l,f)}Qt(t,B,j);return;case"option":for(var yt in a)if(B=a[yt],a.hasOwnProperty(yt)&&B!=null&&!l.hasOwnProperty(yt))switch(yt){case"selected":t.selected=!1;break;default:Kt(t,n,yt,null,l,B)}for(b in l)if(B=l[b],j=a[b],l.hasOwnProperty(b)&&B!==j&&(B!=null||j!=null))switch(b){case"selected":t.selected=B&&typeof B!="function"&&typeof B!="symbol";break;default:Kt(t,n,b,B,l,j)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var mt in a)B=a[mt],a.hasOwnProperty(mt)&&B!=null&&!l.hasOwnProperty(mt)&&Kt(t,n,mt,null,l,B);for(P in l)if(B=l[P],j=a[P],l.hasOwnProperty(P)&&B!==j&&(B!=null||j!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(s(137,n));break;default:Kt(t,n,P,B,l,j)}return;default:if(Hs(n)){for(var Xt in a)B=a[Xt],a.hasOwnProperty(Xt)&&B!==void 0&&!l.hasOwnProperty(Xt)&&of(t,n,Xt,void 0,l,B);for(G in l)B=l[G],j=a[G],!l.hasOwnProperty(G)||B===j||B===void 0&&j===void 0||of(t,n,G,B,l,j);return}}for(var x in a)B=a[x],a.hasOwnProperty(x)&&B!=null&&!l.hasOwnProperty(x)&&Kt(t,n,x,null,l,B);for($ in l)B=l[$],j=a[$],!l.hasOwnProperty($)||B===j||B==null&&j==null||Kt(t,n,$,B,l,j)}var uf=null,cf=null;function Tu(t){return t.nodeType===9?t:t.ownerDocument}function Bp(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function jp(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function hf(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var ff=null;function tT(){var t=window.event;return t&&t.type==="popstate"?t===ff?!1:(ff=t,!0):(ff=null,!1)}var kp=typeof setTimeout=="function"?setTimeout:void 0,eT=typeof clearTimeout=="function"?clearTimeout:void 0,qp=typeof Promise=="function"?Promise:void 0,nT=typeof queueMicrotask=="function"?queueMicrotask:typeof qp<"u"?function(t){return qp.resolve(null).then(t).catch(iT)}:kp;function iT(t){setTimeout(function(){throw t})}function aa(t){return t==="head"}function Hp(t,n){var a=n,l=0,c=0;do{var f=a.nextSibling;if(t.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"){if(0<l&&8>l){a=l;var y=t.ownerDocument;if(a&1&&Cl(y.documentElement),a&2&&Cl(y.body),a&4)for(a=y.head,Cl(a),y=a.firstChild;y;){var E=y.nextSibling,b=y.nodeName;y[Ma]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&y.rel.toLowerCase()==="stylesheet"||a.removeChild(y),y=E}}if(c===0){t.removeChild(f),zl(n);return}c--}else a==="$"||a==="$?"||a==="$!"?c++:l=a.charCodeAt(0)-48;else l=0;a=f}while(a);zl(n)}function df(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":df(a),Bi(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function aT(t,n,a,l){for(;t.nodeType===1;){var c=a;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Ma])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==c.rel||t.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Mn(t.nextSibling),t===null)break}return null}function rT(t,n,a){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Mn(t.nextSibling),t===null))return null;return t}function mf(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function sT(t,n){var a=t.ownerDocument;if(t.data!=="$?"||a.readyState==="complete")n();else{var l=function(){n(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Mn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return t}var gf=null;function Gp(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(n===0)return t;n--}else a==="/$"&&n++}t=t.previousSibling}return null}function Fp(t,n,a){switch(n=Tu(a),t){case"html":if(t=n.documentElement,!t)throw Error(s(452));return t;case"head":if(t=n.head,!t)throw Error(s(453));return t;case"body":if(t=n.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Cl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Bi(t)}var Rn=new Map,Qp=new Set;function Au(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Di=nt.d;nt.d={f:lT,r:oT,D:uT,C:cT,L:hT,m:fT,X:mT,S:dT,M:gT};function lT(){var t=Di.f(),n=du();return t||n}function oT(t){var n=Pn(t);n!==null&&n.tag===5&&n.type==="form"?fg(n):Di.r(t)}var us=typeof document>"u"?null:document;function Yp(t,n,a){var l=us;if(l&&typeof n=="string"&&n){var c=de(n);c='link[rel="'+t+'"][href="'+c+'"]',typeof a=="string"&&(c+='[crossorigin="'+a+'"]'),Qp.has(c)||(Qp.add(c),t={rel:t,crossOrigin:a,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),Le(n,"link",t),oe(n),l.head.appendChild(n)))}}function uT(t){Di.D(t),Yp("dns-prefetch",t,null)}function cT(t,n){Di.C(t,n),Yp("preconnect",t,n)}function hT(t,n,a){Di.L(t,n,a);var l=us;if(l&&t&&n){var c='link[rel="preload"][as="'+de(n)+'"]';n==="image"&&a&&a.imageSrcSet?(c+='[imagesrcset="'+de(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(c+='[imagesizes="'+de(a.imageSizes)+'"]')):c+='[href="'+de(t)+'"]';var f=c;switch(n){case"style":f=cs(t);break;case"script":f=hs(t)}Rn.has(f)||(t=A({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:t,as:n},a),Rn.set(f,t),l.querySelector(c)!==null||n==="style"&&l.querySelector(Dl(f))||n==="script"&&l.querySelector(Nl(f))||(n=l.createElement("link"),Le(n,"link",t),oe(n),l.head.appendChild(n)))}}function fT(t,n){Di.m(t,n);var a=us;if(a&&t){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+de(l)+'"][href="'+de(t)+'"]',f=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=hs(t)}if(!Rn.has(f)&&(t=A({rel:"modulepreload",href:t},n),Rn.set(f,t),a.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Nl(f)))return}l=a.createElement("link"),Le(l,"link",t),oe(l),a.head.appendChild(l)}}}function dT(t,n,a){Di.S(t,n,a);var l=us;if(l&&t){var c=Ye(l).hoistableStyles,f=cs(t);n=n||"default";var y=c.get(f);if(!y){var E={loading:0,preload:null};if(y=l.querySelector(Dl(f)))E.loading=5;else{t=A({rel:"stylesheet",href:t,"data-precedence":n},a),(a=Rn.get(f))&&pf(t,a);var b=y=l.createElement("link");oe(b),Le(b,"link",t),b._p=new Promise(function(P,G){b.onload=P,b.onerror=G}),b.addEventListener("load",function(){E.loading|=1}),b.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Su(y,n,l)}y={type:"stylesheet",instance:y,count:1,state:E},c.set(f,y)}}}function mT(t,n){Di.X(t,n);var a=us;if(a&&t){var l=Ye(a).hoistableScripts,c=hs(t),f=l.get(c);f||(f=a.querySelector(Nl(c)),f||(t=A({src:t,async:!0},n),(n=Rn.get(c))&&yf(t,n),f=a.createElement("script"),oe(f),Le(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function gT(t,n){Di.M(t,n);var a=us;if(a&&t){var l=Ye(a).hoistableScripts,c=hs(t),f=l.get(c);f||(f=a.querySelector(Nl(c)),f||(t=A({src:t,async:!0,type:"module"},n),(n=Rn.get(c))&&yf(t,n),f=a.createElement("script"),oe(f),Le(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function Kp(t,n,a,l){var c=(c=vt.current)?Au(c):null;if(!c)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=cs(a.href),a=Ye(c).hoistableStyles,l=a.get(n),l||(l={type:"style",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=cs(a.href);var f=Ye(c).hoistableStyles,y=f.get(t);if(y||(c=c.ownerDocument||c,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,y),(f=c.querySelector(Dl(t)))&&!f._p&&(y.instance=f,y.state.loading=5),Rn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Rn.set(t,a),f||pT(c,t,a,y.state))),n&&l===null)throw Error(s(528,""));return y}if(n&&l!==null)throw Error(s(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=hs(a),a=Ye(c).hoistableScripts,l=a.get(n),l||(l={type:"script",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function cs(t){return'href="'+de(t)+'"'}function Dl(t){return'link[rel="stylesheet"]['+t+"]"}function Xp(t){return A({},t,{"data-precedence":t.precedence,precedence:null})}function pT(t,n,a,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),Le(n,"link",a),oe(n),t.head.appendChild(n))}function hs(t){return'[src="'+de(t)+'"]'}function Nl(t){return"script[async]"+t}function $p(t,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+de(a.href)+'"]');if(l)return n.instance=l,oe(l),l;var c=A({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),oe(l),Le(l,"style",c),Su(l,a.precedence,t),n.instance=l;case"stylesheet":c=cs(a.href);var f=t.querySelector(Dl(c));if(f)return n.state.loading|=4,n.instance=f,oe(f),f;l=Xp(a),(c=Rn.get(c))&&pf(l,c),f=(t.ownerDocument||t).createElement("link"),oe(f);var y=f;return y._p=new Promise(function(E,b){y.onload=E,y.onerror=b}),Le(f,"link",l),n.state.loading|=4,Su(f,a.precedence,t),n.instance=f;case"script":return f=hs(a.src),(c=t.querySelector(Nl(f)))?(n.instance=c,oe(c),c):(l=a,(c=Rn.get(f))&&(l=A({},a),yf(l,c)),t=t.ownerDocument||t,c=t.createElement("script"),oe(c),Le(c,"link",l),t.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,Su(l,a.precedence,t));return n.instance}function Su(t,n,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,f=c,y=0;y<l.length;y++){var E=l[y];if(E.dataset.precedence===n)f=E;else if(f!==c)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(t,n.firstChild))}function pf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function yf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var bu=null;function Zp(t,n,a){if(bu===null){var l=new Map,c=bu=new Map;c.set(a,l)}else c=bu,l=c.get(a),l||(l=new Map,c.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),c=0;c<a.length;c++){var f=a[c];if(!(f[Ma]||f[ve]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var y=f.getAttribute(n)||"";y=t+y;var E=l.get(y);E?E.push(f):l.set(y,[f])}}return l}function Jp(t,n,a){t=t.ownerDocument||t,t.head.insertBefore(a,n==="title"?t.querySelector("head > title"):null)}function yT(t,n,a){if(a===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Wp(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Vl=null;function _T(){}function vT(t,n,a){if(Vl===null)throw Error(s(475));var l=Vl;if(n.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var c=cs(a.href),f=t.querySelector(Dl(c));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=Ru.bind(l),t.then(l,l)),n.state.loading|=4,n.instance=f,oe(f);return}f=t.ownerDocument||t,a=Xp(a),(c=Rn.get(c))&&pf(a,c),f=f.createElement("link"),oe(f);var y=f;y._p=new Promise(function(E,b){y.onload=E,y.onerror=b}),Le(f,"link",a),n.instance=f}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(l.count++,n=Ru.bind(l),t.addEventListener("load",n),t.addEventListener("error",n))}}function ET(){if(Vl===null)throw Error(s(475));var t=Vl;return t.stylesheets&&t.count===0&&_f(t,t.stylesheets),0<t.count?function(n){var a=setTimeout(function(){if(t.stylesheets&&_f(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(a)}}:null}function Ru(){if(this.count--,this.count===0){if(this.stylesheets)_f(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var wu=null;function _f(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,wu=new Map,n.forEach(TT,t),wu=null,Ru.call(t))}function TT(t,n){if(!(n.state.loading&4)){var a=wu.get(t);if(a)var l=a.get(null);else{a=new Map,wu.set(t,a);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var y=c[f];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(a.set(y.dataset.precedence,y),l=y)}l&&a.set(null,l)}c=n.instance,y=c.getAttribute("data-precedence"),f=a.get(y)||l,f===l&&a.set(null,c),a.set(y,c),this.count++,l=Ru.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),f?f.parentNode.insertBefore(c,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),n.state.loading|=4}}var Ol={$$typeof:ut,Provider:null,Consumer:null,_currentValue:ht,_currentValue2:ht,_threadCount:0};function AT(t,n,a,l,c,f,y,E){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ri(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ri(0),this.hiddenUpdates=ri(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function ty(t,n,a,l,c,f,y,E,b,P,G,$){return t=new AT(t,n,a,y,E,b,P,$),n=1,f===!0&&(n|=24),f=sn(3,null,null,n),t.current=f,f.stateNode=t,n=Jc(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:a,cache:n},nh(f),t}function ey(t){return t?(t=qr,t):qr}function ny(t,n,a,l,c,f){c=ey(c),l.context===null?l.context=c:l.pendingContext=c,l=Fi(n),l.payload={element:a},f=f===void 0?null:f,f!==null&&(l.callback=f),a=Qi(t,l,n),a!==null&&(hn(a,t,n),ol(a,t,n))}function iy(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<n?a:n}}function vf(t,n){iy(t,n),(t=t.alternate)&&iy(t,n)}function ay(t){if(t.tag===13){var n=kr(t,67108864);n!==null&&hn(n,t,67108864),vf(t,67108864)}}var Iu=!0;function ST(t,n,a,l){var c=H.T;H.T=null;var f=nt.p;try{nt.p=2,Ef(t,n,a,l)}finally{nt.p=f,H.T=c}}function bT(t,n,a,l){var c=H.T;H.T=null;var f=nt.p;try{nt.p=8,Ef(t,n,a,l)}finally{nt.p=f,H.T=c}}function Ef(t,n,a,l){if(Iu){var c=Tf(l);if(c===null)lf(t,n,l,Cu,a),sy(t,l);else if(wT(c,t,n,a,l))l.stopPropagation();else if(sy(t,l),n&4&&-1<RT.indexOf(t)){for(;c!==null;){var f=Pn(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var y=Cn(f.pendingLanes);if(y!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;y;){var b=1<<31-ke(y);E.entanglements[1]|=b,y&=~b}Jn(f),(Gt&6)===0&&(hu=dn()+500,Rl(0))}}break;case 13:E=kr(f,2),E!==null&&hn(E,f,2),du(),vf(f,2)}if(f=Tf(l),f===null&&lf(t,n,l,Cu,a),f===c)break;c=f}c!==null&&l.stopPropagation()}else lf(t,n,l,null,a)}}function Tf(t){return t=pn(t),Af(t)}var Cu=null;function Af(t){if(Cu=null,t=li(t),t!==null){var n=h(t);if(n===null)t=null;else{var a=n.tag;if(a===13){if(t=d(n),t!==null)return t;t=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Cu=t,null}function ry(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(bc()){case Ns:return 2;case Er:return 8;case Ca:case Rc:return 32;case Tr:return 268435456;default:return 32}default:return 32}}var Sf=!1,ra=null,sa=null,la=null,Ml=new Map,xl=new Map,oa=[],RT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function sy(t,n){switch(t){case"focusin":case"focusout":ra=null;break;case"dragenter":case"dragleave":sa=null;break;case"mouseover":case"mouseout":la=null;break;case"pointerover":case"pointerout":Ml.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":xl.delete(n.pointerId)}}function Ul(t,n,a,l,c,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:a,eventSystemFlags:l,nativeEvent:f,targetContainers:[c]},n!==null&&(n=Pn(n),n!==null&&ay(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),t)}function wT(t,n,a,l,c){switch(n){case"focusin":return ra=Ul(ra,t,n,a,l,c),!0;case"dragenter":return sa=Ul(sa,t,n,a,l,c),!0;case"mouseover":return la=Ul(la,t,n,a,l,c),!0;case"pointerover":var f=c.pointerId;return Ml.set(f,Ul(Ml.get(f)||null,t,n,a,l,c)),!0;case"gotpointercapture":return f=c.pointerId,xl.set(f,Ul(xl.get(f)||null,t,n,a,l,c)),!0}return!1}function ly(t){var n=li(t.target);if(n!==null){var a=h(n);if(a!==null){if(n=a.tag,n===13){if(n=d(a),n!==null){t.blockedOn=n,fo(t.priority,function(){if(a.tag===13){var l=cn();l=zi(l);var c=kr(a,l);c!==null&&hn(c,a,l),vf(a,l)}});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Du(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var a=Tf(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);hi=l,a.target.dispatchEvent(l),hi=null}else return n=Pn(a),n!==null&&ay(n),t.blockedOn=a,!1;n.shift()}return!0}function oy(t,n,a){Du(t)&&a.delete(n)}function IT(){Sf=!1,ra!==null&&Du(ra)&&(ra=null),sa!==null&&Du(sa)&&(sa=null),la!==null&&Du(la)&&(la=null),Ml.forEach(oy),xl.forEach(oy)}function Nu(t,n){t.blockedOn===n&&(t.blockedOn=null,Sf||(Sf=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,IT)))}var Vu=null;function uy(t){Vu!==t&&(Vu=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Vu===t&&(Vu=null);for(var n=0;n<t.length;n+=3){var a=t[n],l=t[n+1],c=t[n+2];if(typeof l!="function"){if(Af(l||a)===null)continue;break}var f=Pn(a);f!==null&&(t.splice(n,3),n-=3,Th(f,{pending:!0,data:c,method:a.method,action:l},l,c))}}))}function zl(t){function n(b){return Nu(b,t)}ra!==null&&Nu(ra,t),sa!==null&&Nu(sa,t),la!==null&&Nu(la,t),Ml.forEach(n),xl.forEach(n);for(var a=0;a<oa.length;a++){var l=oa[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<oa.length&&(a=oa[0],a.blockedOn===null);)ly(a),a.blockedOn===null&&oa.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var c=a[l],f=a[l+1],y=c[fe]||null;if(typeof f=="function")y||uy(a);else if(y){var E=null;if(f&&f.hasAttribute("formAction")){if(c=f,y=f[fe]||null)E=y.formAction;else if(Af(c)!==null)continue}else E=y.action;typeof E=="function"?a[l+1]=E:(a.splice(l,3),l-=3),uy(a)}}}function bf(t){this._internalRoot=t}Ou.prototype.render=bf.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(s(409));var a=n.current,l=cn();ny(a,l,t,n,null,null)},Ou.prototype.unmount=bf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;ny(t.current,2,null,t,null,null),du(),n[mn]=null}};function Ou(t){this._internalRoot=t}Ou.prototype.unstable_scheduleHydration=function(t){if(t){var n=Li();t={blockedOn:null,target:t,priority:n};for(var a=0;a<oa.length&&n!==0&&n<oa[a].priority;a++);oa.splice(a,0,t),a===0&&ly(t)}};var cy=e.version;if(cy!=="19.1.0")throw Error(s(527,cy,"19.1.0"));nt.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=_(n),t=t!==null?v(t):null,t=t===null?null:t.stateNode,t};var CT={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Mu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Mu.isDisabled&&Mu.supportsFiber)try{re=Mu.inject(CT),Ht=Mu}catch{}}return Pl.createRoot=function(t,n){if(!o(t))throw Error(s(299));var a=!1,l="",c=wg,f=Ig,y=Cg,E=null;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(y=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(E=n.unstable_transitionCallbacks)),n=ty(t,1,!1,null,null,a,l,c,f,y,E,null),t[mn]=n.current,sf(t),new bf(n)},Pl.hydrateRoot=function(t,n,a){if(!o(t))throw Error(s(299));var l=!1,c="",f=wg,y=Ig,E=Cg,b=null,P=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(c=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(y=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(b=a.unstable_transitionCallbacks),a.formState!==void 0&&(P=a.formState)),n=ty(t,1,!0,n,a??null,l,c,f,y,E,b,P),n.context=ey(null),a=n.current,l=cn(),l=zi(l),c=Fi(l),c.callback=null,Qi(a,c,l),a=l,n.current.lanes=a,si(n,a),Jn(n),t[mn]=n.current,sf(t),new Ou(n)},Pl.version="19.1.0",Pl}var Ty;function jT(){if(Ty)return If.exports;Ty=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),If.exports=BT(),If.exports}var kT=jT();const Ay=({onStart:r})=>{const[e,i]=Ct.useState(!1),[s,o]=Ct.useState(!1),[h,d]=Ct.useState(!1);return Ct.useEffect(()=>{const g=setTimeout(()=>{console.log("Titlul devine vizibil"),i(!0)},400),_=setTimeout(()=>{console.log("Imaginea devine vizibil"),o(!0)},900),v=setTimeout(()=>{console.log("Butonul devine vizibil"),d(!0)},1400);return()=>{clearTimeout(g),clearTimeout(_),clearTimeout(v)}},[]),X.jsx("div",{className:"welcome-screen",children:X.jsxs("div",{className:"content",children:[X.jsxs("h1",{className:`title ${e?"visible":""}`,children:["Afl dac eti ",X.jsx("span",{className:"highlight",children:"femeie de cas"})]}),X.jsxs("div",{className:`image-container ${s?"visible":""}`,children:[X.jsxs("div",{className:"circle-image-wrapper",children:[X.jsx("div",{className:"image-effects"}),X.jsx("div",{className:"profile-image"})]}),X.jsx("div",{className:"image-caption",children:"Talentul Romniei"})]}),X.jsx("button",{className:`start-button ${h?"visible":""}`,onClick:()=>{console.log("Buton 'S ncepem' apsat"),r()},children:"S ncepem"})]})})},qT=({onContinue:r})=>{const[e,i]=Ct.useState(!1),[s,o]=Ct.useState(!1),[h,d]=Ct.useState(!1),[g,_]=Ct.useState(!1),[v,A]=Ct.useState(!1),[I,N]=Ct.useState(""),[q,F]=Ct.useState(""),[Q,Y]=Ct.useState(!1);Ct.useEffect(()=>{setTimeout(()=>{console.log("Mesajul 1 devine vizibil"),i(!0)},600),setTimeout(()=>{console.log("Mesajul 2 devine vizibil"),o(!0)},1800),setTimeout(()=>{console.log("Mesajul 3 devine vizibil"),d(!0)},3e3),setTimeout(()=>{console.log("Mesajul final devine vizibil"),_(!0)},4200),setTimeout(()=>{console.log("Input pentru nume devine vizibil"),A(!0)},5400)},[]),Ct.useEffect(()=>{I.trim().length>=2?(F(""),Y(!0)):Y(!1)},[I]);const rt=()=>{if(I.trim().length<2){F("Te rugm s introduci un nume valid (minim 2 caractere)");return}console.log("Numele introdus:",I),r(I)};return X.jsx("div",{className:"intro-screen",children:X.jsxs("div",{className:"intro-content",children:[X.jsx("div",{className:`message-box message-1 ${e?"visible":""}`,children:X.jsx("p",{children:"Te-ai sturat s i spun lumea c nu eti femeie de cas?"})}),X.jsx("div",{className:`message-box message-2 ${s?"visible":""}`,children:X.jsx("p",{children:"C nu vei gsi niciodat pe nimeni care s te aprecieze?"})}),X.jsx("div",{className:`message-box message-3 ${h?"visible":""}`,children:X.jsx("p",{children:"C talentele tale sunt n alte domenii dect cel domestic?"})}),X.jsxs("div",{className:`final-message ${g?"visible":""}`,children:[X.jsx("h2",{children:"E timpul s afli adevrul!"}),X.jsx("p",{children:"Completeaz acest test pentru a descoperi ct de mult te apropii de idealul unei femei de cas desvrite."})]}),X.jsxs("div",{className:`name-input-container ${v?"visible":""}`,children:[X.jsxs("div",{className:"input-wrapper",children:[X.jsx("input",{type:"text",value:I,onChange:at=>N(at.target.value),placeholder:"Numele tu...",className:"name-input",autoComplete:"off"}),X.jsx("div",{className:"input-highlight"})]}),q&&X.jsx("p",{className:"name-error",children:q}),X.jsx("button",{className:`continue-button ${Q?"enabled":""}`,onClick:rt,disabled:!Q,children:"ncepe testul"})]})]})})},HT=()=>{};var Sy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q_=function(r){const e=[];let i=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},GT=function(r){const e=[];let i=0,s=0;for(;i<r.length;){const o=r[i++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const h=r[i++];e[s++]=String.fromCharCode((o&31)<<6|h&63)}else if(o>239&&o<365){const h=r[i++],d=r[i++],g=r[i++],_=((o&7)<<18|(h&63)<<12|(d&63)<<6|g&63)-65536;e[s++]=String.fromCharCode(55296+(_>>10)),e[s++]=String.fromCharCode(56320+(_&1023))}else{const h=r[i++],d=r[i++];e[s++]=String.fromCharCode((o&15)<<12|(h&63)<<6|d&63)}}return e.join("")},Y_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const h=r[o],d=o+1<r.length,g=d?r[o+1]:0,_=o+2<r.length,v=_?r[o+2]:0,A=h>>2,I=(h&3)<<4|g>>4;let N=(g&15)<<2|v>>6,q=v&63;_||(q=64,d||(N=64)),s.push(i[A],i[I],i[N],i[q])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(Q_(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):GT(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const h=i[r.charAt(o++)],g=o<r.length?i[r.charAt(o)]:0;++o;const v=o<r.length?i[r.charAt(o)]:64;++o;const I=o<r.length?i[r.charAt(o)]:64;if(++o,h==null||g==null||v==null||I==null)throw new FT;const N=h<<2|g>>4;if(s.push(N),v!==64){const q=g<<4&240|v>>2;if(s.push(q),I!==64){const F=v<<6&192|I;s.push(F)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class FT extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const QT=function(r){const e=Q_(r);return Y_.encodeByteArray(e,!0)},Qu=function(r){return QT(r).replace(/\./g,"")},YT=function(r){try{return Y_.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KT(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XT=()=>KT().__FIREBASE_DEFAULTS__,$T=()=>{if(typeof process>"u"||typeof Sy>"u")return;const r=Sy.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},ZT=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&YT(r[1]);return e&&JSON.parse(e)},fd=()=>{try{return HT()||XT()||$T()||ZT()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},JT=r=>{var e,i;return(i=(e=fd())===null||e===void 0?void 0:e.emulatorHosts)===null||i===void 0?void 0:i[r]},WT=r=>{const e=JT(r);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),s]:[e.substring(0,i),s]},K_=()=>{var r;return(r=fd())===null||r===void 0?void 0:r.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,s)=>{i?this.reject(i):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dd(r){return r.endsWith(".cloudworkstations.dev")}async function e1(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n1(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,h=r.sub||r.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}}},r);return[Qu(JSON.stringify(i)),Qu(JSON.stringify(d)),""].join(".")}const ql={};function i1(){const r={prod:[],emulator:[]};for(const e of Object.keys(ql))ql[e]?r.emulator.push(e):r.prod.push(e);return r}function a1(r){let e=document.getElementById(r),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),i=!0),{created:i,element:e}}let by=!1;function X_(r,e){if(typeof window>"u"||typeof document>"u"||!dd(window.location.host)||ql[r]===e||ql[r]||by)return;ql[r]=e;function i(N){return`__firebase__banner__${N}`}const s="__firebase__banner",h=i1().prod.length>0;function d(){const N=document.getElementById(s);N&&N.remove()}function g(N){N.style.display="flex",N.style.background="#7faaf0",N.style.position="fixed",N.style.bottom="5px",N.style.left="5px",N.style.padding=".5em",N.style.borderRadius="5px",N.style.alignItems="center"}function _(N,q){N.setAttribute("width","24"),N.setAttribute("id",q),N.setAttribute("height","24"),N.setAttribute("viewBox","0 0 24 24"),N.setAttribute("fill","none"),N.style.marginLeft="-6px"}function v(){const N=document.createElement("span");return N.style.cursor="pointer",N.style.marginLeft="16px",N.style.fontSize="24px",N.innerHTML=" &times;",N.onclick=()=>{by=!0,d()},N}function A(N,q){N.setAttribute("id",q),N.innerText="Learn more",N.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",N.setAttribute("target","__blank"),N.style.paddingLeft="5px",N.style.textDecoration="underline"}function I(){const N=a1(s),q=i("text"),F=document.getElementById(q)||document.createElement("span"),Q=i("learnmore"),Y=document.getElementById(Q)||document.createElement("a"),rt=i("preprendIcon"),at=document.getElementById(rt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(N.created){const ut=N.element;g(ut),A(Y,Q);const At=v();_(at,rt),ut.append(at,F,Y,At),document.body.appendChild(ut)}h?(F.innerText="Preview backend disconnected.",at.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(at.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,F.innerText="Preview backend running in this workspace."),F.setAttribute("id",q)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",I):I()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r1(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function s1(){var r;const e=(r=fd())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function l1(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function o1(){return!s1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function $_(){try{return typeof indexedDB=="object"}catch{return!1}}function Z_(){return new Promise((r,e)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{var h;e(((h=o.error)===null||h===void 0?void 0:h.message)||"")}}catch(i){e(i)}})}function u1(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c1="FirebaseError";class ba extends Error{constructor(e,i,s){super(i),this.code=e,this.customData=s,this.name=c1,Object.setPrototypeOf(this,ba.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,oc.prototype.create)}}class oc{constructor(e,i,s){this.service=e,this.serviceName=i,this.errors=s}create(e,...i){const s=i[0]||{},o=`${this.service}/${e}`,h=this.errors[e],d=h?h1(h,s):"Error",g=`${this.serviceName}: ${d} (${o}).`;return new ba(o,g,s)}}function h1(r,e){return r.replace(f1,(i,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const f1=/\{\$([^}]+)}/g;function Kl(r,e){if(r===e)return!0;const i=Object.keys(r),s=Object.keys(e);for(const o of i){if(!s.includes(o))return!1;const h=r[o],d=e[o];if(Ry(h)&&Ry(d)){if(!Kl(h,d))return!1}else if(h!==d)return!1}for(const o of s)if(!i.includes(o))return!1;return!0}function Ry(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d1=1e3,m1=2,g1=4*60*60*1e3,p1=.5;function wy(r,e=d1,i=m1){const s=e*Math.pow(i,r),o=Math.round(p1*s*(Math.random()-.5)*2);return Math.min(g1,s+o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pa(r){return r&&r._delegate?r._delegate:r}class Vi{constructor(e,i,s){this.name=e,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const or="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y1{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const s=new t1;if(this.instancesDeferred.set(i,s),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){var i;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(i=e==null?void 0:e.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(h){if(o)return null;throw h}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(v1(e))try{this.getOrInitializeService({instanceIdentifier:or})}catch{}for(const[i,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const h=this.getOrInitializeService({instanceIdentifier:o});s.resolve(h)}catch{}}}}clearInstance(e=or){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=or){return this.instances.has(e)}getOptions(e=or){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:i});for(const[h,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(h);s===g&&d.resolve(o)}return o}onInit(e,i){var s;const o=this.normalizeInstanceIdentifier(i),h=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;h.add(e),this.onInitCallbacks.set(o,h);const d=this.instances.get(o);return d&&e(d,o),()=>{h.delete(e)}}invokeOnInitCallbacks(e,i){const s=this.onInitCallbacks.get(i);if(s)for(const o of s)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:_1(e),options:i}),this.instances.set(e,s),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=or){return this.component?this.component.multipleInstances?e:or:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function _1(r){return r===or?void 0:r}function v1(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E1{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new y1(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(zt||(zt={}));const T1={debug:zt.DEBUG,verbose:zt.VERBOSE,info:zt.INFO,warn:zt.WARN,error:zt.ERROR,silent:zt.SILENT},A1=zt.INFO,S1={[zt.DEBUG]:"log",[zt.VERBOSE]:"log",[zt.INFO]:"info",[zt.WARN]:"warn",[zt.ERROR]:"error"},b1=(r,e,...i)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=S1[e];if(o)console[o](`[${s}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class md{constructor(e){this.name=e,this._logLevel=A1,this._logHandler=b1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in zt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?T1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,zt.DEBUG,...e),this._logHandler(this,zt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,zt.VERBOSE,...e),this._logHandler(this,zt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,zt.INFO,...e),this._logHandler(this,zt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,zt.WARN,...e),this._logHandler(this,zt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,zt.ERROR,...e),this._logHandler(this,zt.ERROR,...e)}}const R1=(r,e)=>e.some(i=>r instanceof i);let Iy,Cy;function w1(){return Iy||(Iy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function I1(){return Cy||(Cy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const J_=new WeakMap,qf=new WeakMap,W_=new WeakMap,Vf=new WeakMap,gd=new WeakMap;function C1(r){const e=new Promise((i,s)=>{const o=()=>{r.removeEventListener("success",h),r.removeEventListener("error",d)},h=()=>{i(ha(r.result)),o()},d=()=>{s(r.error),o()};r.addEventListener("success",h),r.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&J_.set(i,r)}).catch(()=>{}),gd.set(e,r),e}function D1(r){if(qf.has(r))return;const e=new Promise((i,s)=>{const o=()=>{r.removeEventListener("complete",h),r.removeEventListener("error",d),r.removeEventListener("abort",d)},h=()=>{i(),o()},d=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",h),r.addEventListener("error",d),r.addEventListener("abort",d)});qf.set(r,e)}let Hf={get(r,e,i){if(r instanceof IDBTransaction){if(e==="done")return qf.get(r);if(e==="objectStoreNames")return r.objectStoreNames||W_.get(r);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return ha(r[e])},set(r,e,i){return r[e]=i,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function N1(r){Hf=r(Hf)}function V1(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const s=r.call(Of(this),e,...i);return W_.set(s,e.sort?e.sort():[e]),ha(s)}:I1().includes(r)?function(...e){return r.apply(Of(this),e),ha(J_.get(this))}:function(...e){return ha(r.apply(Of(this),e))}}function O1(r){return typeof r=="function"?V1(r):(r instanceof IDBTransaction&&D1(r),R1(r,w1())?new Proxy(r,Hf):r)}function ha(r){if(r instanceof IDBRequest)return C1(r);if(Vf.has(r))return Vf.get(r);const e=O1(r);return e!==r&&(Vf.set(r,e),gd.set(e,r)),e}const Of=r=>gd.get(r);function tv(r,e,{blocked:i,upgrade:s,blocking:o,terminated:h}={}){const d=indexedDB.open(r,e),g=ha(d);return s&&d.addEventListener("upgradeneeded",_=>{s(ha(d.result),_.oldVersion,_.newVersion,ha(d.transaction),_)}),i&&d.addEventListener("blocked",_=>i(_.oldVersion,_.newVersion,_)),g.then(_=>{h&&_.addEventListener("close",()=>h()),o&&_.addEventListener("versionchange",v=>o(v.oldVersion,v.newVersion,v))}).catch(()=>{}),g}const M1=["get","getKey","getAll","getAllKeys","count"],x1=["put","add","delete","clear"],Mf=new Map;function Dy(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Mf.get(e))return Mf.get(e);const i=e.replace(/FromIndex$/,""),s=e!==i,o=x1.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(o||M1.includes(i)))return;const h=async function(d,...g){const _=this.transaction(d,o?"readwrite":"readonly");let v=_.store;return s&&(v=v.index(g.shift())),(await Promise.all([v[i](...g),o&&_.done]))[0]};return Mf.set(e,h),h}N1(r=>({...r,get:(e,i,s)=>Dy(e,i)||r.get(e,i,s),has:(e,i)=>!!Dy(e,i)||r.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U1{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(z1(i)){const s=i.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(i=>i).join(" ")}}function z1(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Gf="@firebase/app",Ny="0.12.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oi=new md("@firebase/app"),L1="@firebase/app-compat",P1="@firebase/analytics-compat",B1="@firebase/analytics",j1="@firebase/app-check-compat",k1="@firebase/app-check",q1="@firebase/auth",H1="@firebase/auth-compat",G1="@firebase/database",F1="@firebase/data-connect",Q1="@firebase/database-compat",Y1="@firebase/functions",K1="@firebase/functions-compat",X1="@firebase/installations",$1="@firebase/installations-compat",Z1="@firebase/messaging",J1="@firebase/messaging-compat",W1="@firebase/performance",tA="@firebase/performance-compat",eA="@firebase/remote-config",nA="@firebase/remote-config-compat",iA="@firebase/storage",aA="@firebase/storage-compat",rA="@firebase/firestore",sA="@firebase/vertexai",lA="@firebase/firestore-compat",oA="firebase",uA="11.7.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ff="[DEFAULT]",cA={[Gf]:"fire-core",[L1]:"fire-core-compat",[B1]:"fire-analytics",[P1]:"fire-analytics-compat",[k1]:"fire-app-check",[j1]:"fire-app-check-compat",[q1]:"fire-auth",[H1]:"fire-auth-compat",[G1]:"fire-rtdb",[F1]:"fire-data-connect",[Q1]:"fire-rtdb-compat",[Y1]:"fire-fn",[K1]:"fire-fn-compat",[X1]:"fire-iid",[$1]:"fire-iid-compat",[Z1]:"fire-fcm",[J1]:"fire-fcm-compat",[W1]:"fire-perf",[tA]:"fire-perf-compat",[eA]:"fire-rc",[nA]:"fire-rc-compat",[iA]:"fire-gcs",[aA]:"fire-gcs-compat",[rA]:"fire-fst",[lA]:"fire-fst-compat",[sA]:"fire-vertex","fire-js":"fire-js",[oA]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yu=new Map,hA=new Map,Qf=new Map;function Vy(r,e){try{r.container.addComponent(e)}catch(i){Oi.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,i)}}function ya(r){const e=r.name;if(Qf.has(e))return Oi.debug(`There were multiple attempts to register component ${e}.`),!1;Qf.set(e,r);for(const i of Yu.values())Vy(i,r);for(const i of hA.values())Vy(i,r);return!0}function ao(r,e){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(e)}function fA(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},fa=new oc("app","Firebase",dA);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mA{constructor(e,i,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Vi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw fa.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gA=uA;function ev(r,e={}){let i=r;typeof e!="object"&&(e={name:e});const s=Object.assign({name:Ff,automaticDataCollectionEnabled:!1},e),o=s.name;if(typeof o!="string"||!o)throw fa.create("bad-app-name",{appName:String(o)});if(i||(i=K_()),!i)throw fa.create("no-options");const h=Yu.get(o);if(h){if(Kl(i,h.options)&&Kl(s,h.config))return h;throw fa.create("duplicate-app",{appName:o})}const d=new E1(o);for(const _ of Qf.values())d.addComponent(_);const g=new mA(i,s,d);return Yu.set(o,g),g}function nv(r=Ff){const e=Yu.get(r);if(!e&&r===Ff&&K_())return ev();if(!e)throw fa.create("no-app",{appName:r});return e}function ti(r,e,i){var s;let o=(s=cA[r])!==null&&s!==void 0?s:r;i&&(o+=`-${i}`);const h=o.match(/\s|\//),d=e.match(/\s|\//);if(h||d){const g=[`Unable to register library "${o}" with version "${e}":`];h&&g.push(`library name "${o}" contains illegal characters (whitespace or "/")`),h&&d&&g.push("and"),d&&g.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Oi.warn(g.join(" "));return}ya(new Vi(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pA="firebase-heartbeat-database",yA=1,Xl="firebase-heartbeat-store";let xf=null;function iv(){return xf||(xf=tv(pA,yA,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Xl)}catch(i){console.warn(i)}}}}).catch(r=>{throw fa.create("idb-open",{originalErrorMessage:r.message})})),xf}async function _A(r){try{const i=(await iv()).transaction(Xl),s=await i.objectStore(Xl).get(av(r));return await i.done,s}catch(e){if(e instanceof ba)Oi.warn(e.message);else{const i=fa.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Oi.warn(i.message)}}}async function Oy(r,e){try{const s=(await iv()).transaction(Xl,"readwrite");await s.objectStore(Xl).put(e,av(r)),await s.done}catch(i){if(i instanceof ba)Oi.warn(i.message);else{const s=fa.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});Oi.warn(s.message)}}}function av(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vA=1024,EA=30;class TA{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new SA(i),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,i;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),h=My();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===h||this._heartbeatsCache.heartbeats.some(d=>d.date===h))return;if(this._heartbeatsCache.heartbeats.push({date:h,agent:o}),this._heartbeatsCache.heartbeats.length>EA){const d=bA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Oi.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=My(),{heartbeatsToSend:s,unsentEntries:o}=AA(this._heartbeatsCache.heartbeats),h=Qu(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=i,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),h}catch(i){return Oi.warn(i),""}}}function My(){return new Date().toISOString().substring(0,10)}function AA(r,e=vA){const i=[];let s=r.slice();for(const o of r){const h=i.find(d=>d.agent===o.agent);if(h){if(h.dates.push(o.date),xy(i)>e){h.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),xy(i)>e){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}class SA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return $_()?Z_().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await _A(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return Oy(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return Oy(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function xy(r){return Qu(JSON.stringify({version:2,heartbeats:r})).length}function bA(r){if(r.length===0)return-1;let e=0,i=r[0].date;for(let s=1;s<r.length;s++)r[s].date<i&&(i=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RA(r){ya(new Vi("platform-logger",e=>new U1(e),"PRIVATE")),ya(new Vi("heartbeat",e=>new TA(e),"PRIVATE")),ti(Gf,Ny,r),ti(Gf,Ny,"esm2017"),ti("fire-js","")}RA("");var Uy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var da,rv;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(O,S){function w(){}w.prototype=S.prototype,O.D=S.prototype,O.prototype=new w,O.prototype.constructor=O,O.C=function(V,M,U){for(var R=Array(arguments.length-2),Oe=2;Oe<arguments.length;Oe++)R[Oe-2]=arguments[Oe];return S.prototype[M].apply(V,R)}}function i(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,i),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(O,S,w){w||(w=0);var V=Array(16);if(typeof S=="string")for(var M=0;16>M;++M)V[M]=S.charCodeAt(w++)|S.charCodeAt(w++)<<8|S.charCodeAt(w++)<<16|S.charCodeAt(w++)<<24;else for(M=0;16>M;++M)V[M]=S[w++]|S[w++]<<8|S[w++]<<16|S[w++]<<24;S=O.g[0],w=O.g[1],M=O.g[2];var U=O.g[3],R=S+(U^w&(M^U))+V[0]+3614090360&4294967295;S=w+(R<<7&4294967295|R>>>25),R=U+(M^S&(w^M))+V[1]+3905402710&4294967295,U=S+(R<<12&4294967295|R>>>20),R=M+(w^U&(S^w))+V[2]+606105819&4294967295,M=U+(R<<17&4294967295|R>>>15),R=w+(S^M&(U^S))+V[3]+3250441966&4294967295,w=M+(R<<22&4294967295|R>>>10),R=S+(U^w&(M^U))+V[4]+4118548399&4294967295,S=w+(R<<7&4294967295|R>>>25),R=U+(M^S&(w^M))+V[5]+1200080426&4294967295,U=S+(R<<12&4294967295|R>>>20),R=M+(w^U&(S^w))+V[6]+2821735955&4294967295,M=U+(R<<17&4294967295|R>>>15),R=w+(S^M&(U^S))+V[7]+4249261313&4294967295,w=M+(R<<22&4294967295|R>>>10),R=S+(U^w&(M^U))+V[8]+1770035416&4294967295,S=w+(R<<7&4294967295|R>>>25),R=U+(M^S&(w^M))+V[9]+2336552879&4294967295,U=S+(R<<12&4294967295|R>>>20),R=M+(w^U&(S^w))+V[10]+4294925233&4294967295,M=U+(R<<17&4294967295|R>>>15),R=w+(S^M&(U^S))+V[11]+2304563134&4294967295,w=M+(R<<22&4294967295|R>>>10),R=S+(U^w&(M^U))+V[12]+1804603682&4294967295,S=w+(R<<7&4294967295|R>>>25),R=U+(M^S&(w^M))+V[13]+4254626195&4294967295,U=S+(R<<12&4294967295|R>>>20),R=M+(w^U&(S^w))+V[14]+2792965006&4294967295,M=U+(R<<17&4294967295|R>>>15),R=w+(S^M&(U^S))+V[15]+1236535329&4294967295,w=M+(R<<22&4294967295|R>>>10),R=S+(M^U&(w^M))+V[1]+4129170786&4294967295,S=w+(R<<5&4294967295|R>>>27),R=U+(w^M&(S^w))+V[6]+3225465664&4294967295,U=S+(R<<9&4294967295|R>>>23),R=M+(S^w&(U^S))+V[11]+643717713&4294967295,M=U+(R<<14&4294967295|R>>>18),R=w+(U^S&(M^U))+V[0]+3921069994&4294967295,w=M+(R<<20&4294967295|R>>>12),R=S+(M^U&(w^M))+V[5]+3593408605&4294967295,S=w+(R<<5&4294967295|R>>>27),R=U+(w^M&(S^w))+V[10]+38016083&4294967295,U=S+(R<<9&4294967295|R>>>23),R=M+(S^w&(U^S))+V[15]+3634488961&4294967295,M=U+(R<<14&4294967295|R>>>18),R=w+(U^S&(M^U))+V[4]+3889429448&4294967295,w=M+(R<<20&4294967295|R>>>12),R=S+(M^U&(w^M))+V[9]+568446438&4294967295,S=w+(R<<5&4294967295|R>>>27),R=U+(w^M&(S^w))+V[14]+3275163606&4294967295,U=S+(R<<9&4294967295|R>>>23),R=M+(S^w&(U^S))+V[3]+4107603335&4294967295,M=U+(R<<14&4294967295|R>>>18),R=w+(U^S&(M^U))+V[8]+1163531501&4294967295,w=M+(R<<20&4294967295|R>>>12),R=S+(M^U&(w^M))+V[13]+2850285829&4294967295,S=w+(R<<5&4294967295|R>>>27),R=U+(w^M&(S^w))+V[2]+4243563512&4294967295,U=S+(R<<9&4294967295|R>>>23),R=M+(S^w&(U^S))+V[7]+1735328473&4294967295,M=U+(R<<14&4294967295|R>>>18),R=w+(U^S&(M^U))+V[12]+2368359562&4294967295,w=M+(R<<20&4294967295|R>>>12),R=S+(w^M^U)+V[5]+4294588738&4294967295,S=w+(R<<4&4294967295|R>>>28),R=U+(S^w^M)+V[8]+2272392833&4294967295,U=S+(R<<11&4294967295|R>>>21),R=M+(U^S^w)+V[11]+1839030562&4294967295,M=U+(R<<16&4294967295|R>>>16),R=w+(M^U^S)+V[14]+4259657740&4294967295,w=M+(R<<23&4294967295|R>>>9),R=S+(w^M^U)+V[1]+2763975236&4294967295,S=w+(R<<4&4294967295|R>>>28),R=U+(S^w^M)+V[4]+1272893353&4294967295,U=S+(R<<11&4294967295|R>>>21),R=M+(U^S^w)+V[7]+4139469664&4294967295,M=U+(R<<16&4294967295|R>>>16),R=w+(M^U^S)+V[10]+3200236656&4294967295,w=M+(R<<23&4294967295|R>>>9),R=S+(w^M^U)+V[13]+681279174&4294967295,S=w+(R<<4&4294967295|R>>>28),R=U+(S^w^M)+V[0]+3936430074&4294967295,U=S+(R<<11&4294967295|R>>>21),R=M+(U^S^w)+V[3]+3572445317&4294967295,M=U+(R<<16&4294967295|R>>>16),R=w+(M^U^S)+V[6]+76029189&4294967295,w=M+(R<<23&4294967295|R>>>9),R=S+(w^M^U)+V[9]+3654602809&4294967295,S=w+(R<<4&4294967295|R>>>28),R=U+(S^w^M)+V[12]+3873151461&4294967295,U=S+(R<<11&4294967295|R>>>21),R=M+(U^S^w)+V[15]+530742520&4294967295,M=U+(R<<16&4294967295|R>>>16),R=w+(M^U^S)+V[2]+3299628645&4294967295,w=M+(R<<23&4294967295|R>>>9),R=S+(M^(w|~U))+V[0]+4096336452&4294967295,S=w+(R<<6&4294967295|R>>>26),R=U+(w^(S|~M))+V[7]+1126891415&4294967295,U=S+(R<<10&4294967295|R>>>22),R=M+(S^(U|~w))+V[14]+2878612391&4294967295,M=U+(R<<15&4294967295|R>>>17),R=w+(U^(M|~S))+V[5]+4237533241&4294967295,w=M+(R<<21&4294967295|R>>>11),R=S+(M^(w|~U))+V[12]+1700485571&4294967295,S=w+(R<<6&4294967295|R>>>26),R=U+(w^(S|~M))+V[3]+2399980690&4294967295,U=S+(R<<10&4294967295|R>>>22),R=M+(S^(U|~w))+V[10]+4293915773&4294967295,M=U+(R<<15&4294967295|R>>>17),R=w+(U^(M|~S))+V[1]+2240044497&4294967295,w=M+(R<<21&4294967295|R>>>11),R=S+(M^(w|~U))+V[8]+1873313359&4294967295,S=w+(R<<6&4294967295|R>>>26),R=U+(w^(S|~M))+V[15]+4264355552&4294967295,U=S+(R<<10&4294967295|R>>>22),R=M+(S^(U|~w))+V[6]+2734768916&4294967295,M=U+(R<<15&4294967295|R>>>17),R=w+(U^(M|~S))+V[13]+1309151649&4294967295,w=M+(R<<21&4294967295|R>>>11),R=S+(M^(w|~U))+V[4]+4149444226&4294967295,S=w+(R<<6&4294967295|R>>>26),R=U+(w^(S|~M))+V[11]+3174756917&4294967295,U=S+(R<<10&4294967295|R>>>22),R=M+(S^(U|~w))+V[2]+718787259&4294967295,M=U+(R<<15&4294967295|R>>>17),R=w+(U^(M|~S))+V[9]+3951481745&4294967295,O.g[0]=O.g[0]+S&4294967295,O.g[1]=O.g[1]+(M+(R<<21&4294967295|R>>>11))&4294967295,O.g[2]=O.g[2]+M&4294967295,O.g[3]=O.g[3]+U&4294967295}s.prototype.u=function(O,S){S===void 0&&(S=O.length);for(var w=S-this.blockSize,V=this.B,M=this.h,U=0;U<S;){if(M==0)for(;U<=w;)o(this,O,U),U+=this.blockSize;if(typeof O=="string"){for(;U<S;)if(V[M++]=O.charCodeAt(U++),M==this.blockSize){o(this,V),M=0;break}}else for(;U<S;)if(V[M++]=O[U++],M==this.blockSize){o(this,V),M=0;break}}this.h=M,this.o+=S},s.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var S=1;S<O.length-8;++S)O[S]=0;var w=8*this.o;for(S=O.length-8;S<O.length;++S)O[S]=w&255,w/=256;for(this.u(O),O=Array(16),S=w=0;4>S;++S)for(var V=0;32>V;V+=8)O[w++]=this.g[S]>>>V&255;return O};function h(O,S){var w=g;return Object.prototype.hasOwnProperty.call(w,O)?w[O]:w[O]=S(O)}function d(O,S){this.h=S;for(var w=[],V=!0,M=O.length-1;0<=M;M--){var U=O[M]|0;V&&U==S||(w[M]=U,V=!1)}this.g=w}var g={};function _(O){return-128<=O&&128>O?h(O,function(S){return new d([S|0],0>S?-1:0)}):new d([O|0],0>O?-1:0)}function v(O){if(isNaN(O)||!isFinite(O))return I;if(0>O)return Y(v(-O));for(var S=[],w=1,V=0;O>=w;V++)S[V]=O/w|0,w*=4294967296;return new d(S,0)}function A(O,S){if(O.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(O.charAt(0)=="-")return Y(A(O.substring(1),S));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var w=v(Math.pow(S,8)),V=I,M=0;M<O.length;M+=8){var U=Math.min(8,O.length-M),R=parseInt(O.substring(M,M+U),S);8>U?(U=v(Math.pow(S,U)),V=V.j(U).add(v(R))):(V=V.j(w),V=V.add(v(R)))}return V}var I=_(0),N=_(1),q=_(16777216);r=d.prototype,r.m=function(){if(Q(this))return-Y(this).m();for(var O=0,S=1,w=0;w<this.g.length;w++){var V=this.i(w);O+=(0<=V?V:4294967296+V)*S,S*=4294967296}return O},r.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(F(this))return"0";if(Q(this))return"-"+Y(this).toString(O);for(var S=v(Math.pow(O,6)),w=this,V="";;){var M=At(w,S).g;w=rt(w,M.j(S));var U=((0<w.g.length?w.g[0]:w.h)>>>0).toString(O);if(w=M,F(w))return U+V;for(;6>U.length;)U="0"+U;V=U+V}},r.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function F(O){if(O.h!=0)return!1;for(var S=0;S<O.g.length;S++)if(O.g[S]!=0)return!1;return!0}function Q(O){return O.h==-1}r.l=function(O){return O=rt(this,O),Q(O)?-1:F(O)?0:1};function Y(O){for(var S=O.g.length,w=[],V=0;V<S;V++)w[V]=~O.g[V];return new d(w,~O.h).add(N)}r.abs=function(){return Q(this)?Y(this):this},r.add=function(O){for(var S=Math.max(this.g.length,O.g.length),w=[],V=0,M=0;M<=S;M++){var U=V+(this.i(M)&65535)+(O.i(M)&65535),R=(U>>>16)+(this.i(M)>>>16)+(O.i(M)>>>16);V=R>>>16,U&=65535,R&=65535,w[M]=R<<16|U}return new d(w,w[w.length-1]&-2147483648?-1:0)};function rt(O,S){return O.add(Y(S))}r.j=function(O){if(F(this)||F(O))return I;if(Q(this))return Q(O)?Y(this).j(Y(O)):Y(Y(this).j(O));if(Q(O))return Y(this.j(Y(O)));if(0>this.l(q)&&0>O.l(q))return v(this.m()*O.m());for(var S=this.g.length+O.g.length,w=[],V=0;V<2*S;V++)w[V]=0;for(V=0;V<this.g.length;V++)for(var M=0;M<O.g.length;M++){var U=this.i(V)>>>16,R=this.i(V)&65535,Oe=O.i(M)>>>16,ae=O.i(M)&65535;w[2*V+2*M]+=R*ae,at(w,2*V+2*M),w[2*V+2*M+1]+=U*ae,at(w,2*V+2*M+1),w[2*V+2*M+1]+=R*Oe,at(w,2*V+2*M+1),w[2*V+2*M+2]+=U*Oe,at(w,2*V+2*M+2)}for(V=0;V<S;V++)w[V]=w[2*V+1]<<16|w[2*V];for(V=S;V<2*S;V++)w[V]=0;return new d(w,0)};function at(O,S){for(;(O[S]&65535)!=O[S];)O[S+1]+=O[S]>>>16,O[S]&=65535,S++}function ut(O,S){this.g=O,this.h=S}function At(O,S){if(F(S))throw Error("division by zero");if(F(O))return new ut(I,I);if(Q(O))return S=At(Y(O),S),new ut(Y(S.g),Y(S.h));if(Q(S))return S=At(O,Y(S)),new ut(Y(S.g),S.h);if(30<O.g.length){if(Q(O)||Q(S))throw Error("slowDivide_ only works with positive integers.");for(var w=N,V=S;0>=V.l(O);)w=_t(w),V=_t(V);var M=Pt(w,1),U=Pt(V,1);for(V=Pt(V,2),w=Pt(w,2);!F(V);){var R=U.add(V);0>=R.l(O)&&(M=M.add(w),U=R),V=Pt(V,1),w=Pt(w,1)}return S=rt(O,M.j(S)),new ut(M,S)}for(M=I;0<=O.l(S);){for(w=Math.max(1,Math.floor(O.m()/S.m())),V=Math.ceil(Math.log(w)/Math.LN2),V=48>=V?1:Math.pow(2,V-48),U=v(w),R=U.j(S);Q(R)||0<R.l(O);)w-=V,U=v(w),R=U.j(S);F(U)&&(U=N),M=M.add(U),O=rt(O,R)}return new ut(M,O)}r.A=function(O){return At(this,O).h},r.and=function(O){for(var S=Math.max(this.g.length,O.g.length),w=[],V=0;V<S;V++)w[V]=this.i(V)&O.i(V);return new d(w,this.h&O.h)},r.or=function(O){for(var S=Math.max(this.g.length,O.g.length),w=[],V=0;V<S;V++)w[V]=this.i(V)|O.i(V);return new d(w,this.h|O.h)},r.xor=function(O){for(var S=Math.max(this.g.length,O.g.length),w=[],V=0;V<S;V++)w[V]=this.i(V)^O.i(V);return new d(w,this.h^O.h)};function _t(O){for(var S=O.g.length+1,w=[],V=0;V<S;V++)w[V]=O.i(V)<<1|O.i(V-1)>>>31;return new d(w,O.h)}function Pt(O,S){var w=S>>5;S%=32;for(var V=O.g.length-w,M=[],U=0;U<V;U++)M[U]=0<S?O.i(U+w)>>>S|O.i(U+w+1)<<32-S:O.i(U+w);return new d(M,O.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,rv=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=v,d.fromString=A,da=d}).apply(typeof Uy<"u"?Uy:typeof self<"u"?self:typeof window<"u"?window:{});var xu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var sv,Bl,lv,ju,Yf,ov,uv,cv;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,p){return u==Array.prototype||u==Object.prototype||(u[m]=p.value),u};function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof xu=="object"&&xu];for(var m=0;m<u.length;++m){var p=u[m];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var s=i(this);function o(u,m){if(m)t:{var p=s;u=u.split(".");for(var T=0;T<u.length-1;T++){var z=u[T];if(!(z in p))break t;p=p[z]}u=u[u.length-1],T=p[u],m=m(T),m!=T&&m!=null&&e(p,u,{configurable:!0,writable:!0,value:m})}}function h(u,m){u instanceof String&&(u+="");var p=0,T=!1,z={next:function(){if(!T&&p<u.length){var k=p++;return{value:m(k,u[k]),done:!1}}return T=!0,{done:!0,value:void 0}}};return z[Symbol.iterator]=function(){return z},z}o("Array.prototype.values",function(u){return u||function(){return h(this,function(m,p){return p})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},g=this||self;function _(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function v(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function A(u,m,p){return u.call.apply(u.bind,arguments)}function I(u,m,p){if(!u)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var z=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(z,T),u.apply(m,z)}}return function(){return u.apply(m,arguments)}}function N(u,m,p){return N=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?A:I,N.apply(null,arguments)}function q(u,m){var p=Array.prototype.slice.call(arguments,1);return function(){var T=p.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function F(u,m){function p(){}p.prototype=m.prototype,u.aa=m.prototype,u.prototype=new p,u.prototype.constructor=u,u.Qb=function(T,z,k){for(var et=Array(arguments.length-2),Ot=2;Ot<arguments.length;Ot++)et[Ot-2]=arguments[Ot];return m.prototype[z].apply(T,et)}}function Q(u){const m=u.length;if(0<m){const p=Array(m);for(let T=0;T<m;T++)p[T]=u[T];return p}return[]}function Y(u,m){for(let p=1;p<arguments.length;p++){const T=arguments[p];if(_(T)){const z=u.length||0,k=T.length||0;u.length=z+k;for(let et=0;et<k;et++)u[z+et]=T[et]}else u.push(T)}}class rt{constructor(m,p){this.i=m,this.j=p,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function at(u){return/^[\s\xa0]*$/.test(u)}function ut(){var u=g.navigator;return u&&(u=u.userAgent)?u:""}function At(u){return At[" "](u),u}At[" "]=function(){};var _t=ut().indexOf("Gecko")!=-1&&!(ut().toLowerCase().indexOf("webkit")!=-1&&ut().indexOf("Edge")==-1)&&!(ut().indexOf("Trident")!=-1||ut().indexOf("MSIE")!=-1)&&ut().indexOf("Edge")==-1;function Pt(u,m,p){for(const T in u)m.call(p,u[T],T,u)}function O(u,m){for(const p in u)m.call(void 0,u[p],p,u)}function S(u){const m={};for(const p in u)m[p]=u[p];return m}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function V(u,m){let p,T;for(let z=1;z<arguments.length;z++){T=arguments[z];for(p in T)u[p]=T[p];for(let k=0;k<w.length;k++)p=w[k],Object.prototype.hasOwnProperty.call(T,p)&&(u[p]=T[p])}}function M(u){var m=1;u=u.split(":");const p=[];for(;0<m&&u.length;)p.push(u.shift()),m--;return u.length&&p.push(u.join(":")),p}function U(u){g.setTimeout(()=>{throw u},0)}function R(){var u=Bt;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Oe{constructor(){this.h=this.g=null}add(m,p){const T=ae.get();T.set(m,p),this.h?this.h.next=T:this.g=T,this.h=T}}var ae=new rt(()=>new H,u=>u.reset());class H{constructor(){this.next=this.g=this.h=null}set(m,p){this.h=m,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let nt,ht=!1,Bt=new Oe,C=()=>{const u=g.Promise.resolve(void 0);nt=()=>{u.then(W)}};var W=()=>{for(var u;u=R();){try{u.h.call(u.g)}catch(p){U(p)}var m=ae;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}ht=!1};function it(){this.s=this.s,this.C=this.C}it.prototype.s=!1,it.prototype.ma=function(){this.s||(this.s=!0,this.N())},it.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function tt(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}tt.prototype.h=function(){this.defaultPrevented=!0};var dt=function(){if(!g.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const p=()=>{};g.addEventListener("test",p,m),g.removeEventListener("test",p,m)}catch{}return u}();function wt(u,m){if(tt.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var p=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(_t){t:{try{At(m.nodeName);var z=!0;break t}catch{}z=!1}z||(m=null)}}else p=="mouseover"?m=u.fromElement:p=="mouseout"&&(m=u.toElement);this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:vt[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&wt.aa.h.call(this)}}F(wt,tt);var vt={2:"touch",3:"pen",4:"mouse"};wt.prototype.h=function(){wt.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Re="closure_listenable_"+(1e6*Math.random()|0),Zt=0;function zn(u,m,p,T,z){this.listener=u,this.proxy=null,this.src=m,this.type=p,this.capture=!!T,this.ha=z,this.key=++Zt,this.da=this.fa=!1}function Ui(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function ai(u){this.src=u,this.g={},this.h=0}ai.prototype.add=function(u,m,p,T,z){var k=u.toString();u=this.g[k],u||(u=this.g[k]=[],this.h++);var et=wa(u,m,T,z);return-1<et?(m=u[et],p||(m.fa=!1)):(m=new zn(m,this.src,k,!!T,z),m.fa=p,u.push(m)),m};function Ra(u,m){var p=m.type;if(p in u.g){var T=u.g[p],z=Array.prototype.indexOf.call(T,m,void 0),k;(k=0<=z)&&Array.prototype.splice.call(T,z,1),k&&(Ui(m),u.g[p].length==0&&(delete u.g[p],u.h--))}}function wa(u,m,p,T){for(var z=0;z<u.length;++z){var k=u[z];if(!k.da&&k.listener==m&&k.capture==!!p&&k.ha==T)return z}return-1}var Ia="closure_lm_"+(1e6*Math.random()|0),Ds={};function uo(u,m,p,T,z){if(Array.isArray(m)){for(var k=0;k<m.length;k++)uo(u,m[k],p,T,z);return null}return p=co(p),u&&u[Re]?u.K(m,p,v(T)?!!T.capture:!1,z):dn(u,m,p,!1,T,z)}function dn(u,m,p,T,z,k){if(!m)throw Error("Invalid event type");var et=v(z)?!!z.capture:!!z,Ot=Tr(u);if(Ot||(u[Ia]=Ot=new ai(u)),p=Ot.add(m,p,T,et,k),p.proxy)return p;if(T=bc(),p.proxy=T,T.src=u,T.listener=p,u.addEventListener)dt||(z=et),z===void 0&&(z=!1),u.addEventListener(m.toString(),T,z);else if(u.attachEvent)u.attachEvent(Ca(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return p}function bc(){function u(p){return m.call(u.src,u.listener,p)}const m=Rc;return u}function Ns(u,m,p,T,z){if(Array.isArray(m))for(var k=0;k<m.length;k++)Ns(u,m[k],p,T,z);else T=v(T)?!!T.capture:!!T,p=co(p),u&&u[Re]?(u=u.i,m=String(m).toString(),m in u.g&&(k=u.g[m],p=wa(k,p,T,z),-1<p&&(Ui(k[p]),Array.prototype.splice.call(k,p,1),k.length==0&&(delete u.g[m],u.h--)))):u&&(u=Tr(u))&&(m=u.g[m.toString()],u=-1,m&&(u=wa(m,p,T,z)),(p=-1<u?m[u]:null)&&Er(p))}function Er(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Re])Ra(m.i,u);else{var p=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(p,T,u.capture):m.detachEvent?m.detachEvent(Ca(p),T):m.addListener&&m.removeListener&&m.removeListener(T),(p=Tr(m))?(Ra(p,u),p.h==0&&(p.src=null,m[Ia]=null)):Ui(u)}}}function Ca(u){return u in Ds?Ds[u]:Ds[u]="on"+u}function Rc(u,m){if(u.da)u=!0;else{m=new wt(m,this);var p=u.listener,T=u.ha||u.src;u.fa&&Er(u),u=p.call(T,m)}return u}function Tr(u){return u=u[Ia],u instanceof ai?u:null}var Vs="__closure_events_fn_"+(1e9*Math.random()>>>0);function co(u){return typeof u=="function"?u:(u[Vs]||(u[Vs]=function(m){return u.handleEvent(m)}),u[Vs])}function re(){it.call(this),this.i=new ai(this),this.M=this,this.F=null}F(re,it),re.prototype[Re]=!0,re.prototype.removeEventListener=function(u,m,p,T){Ns(this,u,m,p,T)};function Ht(u,m){var p,T=u.F;if(T)for(p=[];T;T=T.F)p.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new tt(m,u);else if(m instanceof tt)m.target=m.target||u;else{var z=m;m=new tt(T,u),V(m,z)}if(z=!0,p)for(var k=p.length-1;0<=k;k--){var et=m.g=p[k];z=nn(et,T,!0,m)&&z}if(et=m.g=u,z=nn(et,T,!0,m)&&z,z=nn(et,T,!1,m)&&z,p)for(k=0;k<p.length;k++)et=m.g=p[k],z=nn(et,T,!1,m)&&z}re.prototype.N=function(){if(re.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var p=u.g[m],T=0;T<p.length;T++)Ui(p[T]);delete u.g[m],u.h--}}this.F=null},re.prototype.K=function(u,m,p,T){return this.i.add(String(u),m,!1,p,T)},re.prototype.L=function(u,m,p,T){return this.i.add(String(u),m,!0,p,T)};function nn(u,m,p,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var z=!0,k=0;k<m.length;++k){var et=m[k];if(et&&!et.da&&et.capture==p){var Ot=et.listener,Ee=et.ha||et.src;et.fa&&Ra(u.i,et),z=Ot.call(Ee,T)!==!1&&z}}return z&&!T.defaultPrevented}function ke(u,m,p){if(typeof u=="function")p&&(u=N(u,p));else if(u&&typeof u.handleEvent=="function")u=N(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:g.setTimeout(u,m||0)}function ho(u){u.g=ke(()=>{u.g=null,u.i&&(u.i=!1,ho(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class wc extends it{constructor(m,p){super(),this.m=m,this.l=p,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:ho(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Da(u){it.call(this),this.h=u,this.g={}}F(Da,it);var Na=[];function Va(u){Pt(u.g,function(m,p){this.g.hasOwnProperty(p)&&Er(m)},u),u.g={}}Da.prototype.N=function(){Da.aa.N.call(this),Va(this)},Da.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Cn=g.JSON.stringify,Ar=g.JSON.parse,Oa=class{stringify(u){return g.JSON.stringify(u,void 0)}parse(u){return g.JSON.parse(u,void 0)}};function Os(){}Os.prototype.h=null;function Ms(u){return u.h||(u.h=u.i())}function xs(){}var ri={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function si(){tt.call(this,"d")}F(si,tt);function Us(){tt.call(this,"c")}F(Us,tt);var Ln={},zs=null;function zi(){return zs=zs||new re}Ln.La="serverreachability";function Sr(u){tt.call(this,Ln.La,u)}F(Sr,tt);function Li(u){const m=zi();Ht(m,new Sr(m))}Ln.STAT_EVENT="statevent";function fo(u,m){tt.call(this,Ln.STAT_EVENT,u),this.stat=m}F(fo,tt);function te(u){const m=zi();Ht(m,new fo(m,u))}Ln.Ma="timingevent";function ve(u,m){tt.call(this,Ln.Ma,u),this.size=m}F(ve,tt);function fe(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){u()},m)}function mn(){this.g=!0}mn.prototype.xa=function(){this.g=!1};function Ls(u,m,p,T,z,k){u.info(function(){if(u.g)if(k)for(var et="",Ot=k.split("&"),Ee=0;Ee<Ot.length;Ee++){var Mt=Ot[Ee].split("=");if(1<Mt.length){var Ie=Mt[0];Mt=Mt[1];var Te=Ie.split("_");et=2<=Te.length&&Te[1]=="type"?et+(Ie+"="+Mt+"&"):et+(Ie+"=redacted&")}}else et=null;else et=k;return"XMLHTTP REQ ("+T+") [attempt "+z+"]: "+m+`
`+p+`
`+et})}function Ic(u,m,p,T,z,k,et){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+z+"]: "+m+`
`+p+`
`+k+" "+et})}function Pi(u,m,p,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Ma(u,p)+(T?" "+T:"")})}function mo(u,m){u.info(function(){return"TIMEOUT: "+m})}mn.prototype.info=function(){};function Ma(u,m){if(!u.g)return m;if(!m)return null;try{var p=JSON.parse(m);if(p){for(u=0;u<p.length;u++)if(Array.isArray(p[u])){var T=p[u];if(!(2>T.length)){var z=T[1];if(Array.isArray(z)&&!(1>z.length)){var k=z[0];if(k!="noop"&&k!="stop"&&k!="close")for(var et=1;et<z.length;et++)z[et]=""}}}}return Cn(p)}catch{return m}}var Bi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},li={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Pn;function Bn(){}F(Bn,Os),Bn.prototype.g=function(){return new XMLHttpRequest},Bn.prototype.i=function(){return{}},Pn=new Bn;function Ye(u,m,p,T){this.j=u,this.i=m,this.l=p,this.R=T||1,this.U=new Da(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new oe}function oe(){this.i=null,this.g="",this.h=!1}var Ps={},br={};function Dn(u,m,p){u.L=1,u.v=Pa(an(m)),u.m=p,u.P=!0,oi(u,null)}function oi(u,m){u.F=Date.now(),xa(u),u.A=an(u.v);var p=u.A,T=u.R;Array.isArray(T)||(T=[String(T)]),Gs(p.i,"t",T),u.C=0,p=u.j.J,u.h=new oe,u.g=No(u.j,p?m:null,!u.m),0<u.O&&(u.M=new wc(N(u.Y,u,u.g),u.O)),m=u.U,p=u.g,T=u.ca;var z="readystatechange";Array.isArray(z)||(z&&(Na[0]=z.toString()),z=Na);for(var k=0;k<z.length;k++){var et=uo(p,z[k],T||m.handleEvent,!1,m.h||m);if(!et)break;m.g[et.key]=et}m=u.H?S(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),Li(),Ls(u.i,u.u,u.A,u.l,u.R,u.m)}Ye.prototype.ca=function(u){u=u.target;const m=this.M;m&&_n(u)==3?m.j():this.Y(u)},Ye.prototype.Y=function(u){try{if(u==this.g)t:{const Te=_n(this.g);var m=this.g.Ba();const pi=this.g.Z();if(!(3>Te)&&(Te!=3||this.g&&(this.h.h||this.g.oa()||Ao(this.g)))){this.J||Te!=4||m==7||(m==8||0>=pi?Li(3):Li(2)),ji(this);var p=this.g.Z();this.X=p;e:if(go(this)){var T=Ao(this.g);u="";var z=T.length,k=_n(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Me(this),jn(this);var et="";break e}this.h.i=new g.TextDecoder}for(m=0;m<z;m++)this.h.h=!0,u+=this.h.i.decode(T[m],{stream:!(k&&m==z-1)});T.length=0,this.h.g+=u,this.C=0,et=this.h.g}else et=this.g.oa();if(this.o=p==200,Ic(this.i,this.u,this.A,this.l,this.R,Te,p),this.o){if(this.T&&!this.K){e:{if(this.g){var Ot,Ee=this.g;if((Ot=Ee.g?Ee.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!at(Ot)){var Mt=Ot;break e}}Mt=null}if(p=Mt)Pi(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ua(this,p);else{this.o=!1,this.s=3,te(12),Me(this),jn(this);break t}}if(this.P){p=!0;let xe;for(;!this.J&&this.C<et.length;)if(xe=po(this,et),xe==br){Te==4&&(this.s=4,te(14),p=!1),Pi(this.i,this.l,null,"[Incomplete Response]");break}else if(xe==Ps){this.s=4,te(15),Pi(this.i,this.l,et,"[Invalid Chunk]"),p=!1;break}else Pi(this.i,this.l,xe,null),Ua(this,xe);if(go(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Te!=4||et.length!=0||this.h.h||(this.s=1,te(16),p=!1),this.o=this.o&&p,!p)Pi(this.i,this.l,et,"[Invalid Chunked Response]"),Me(this),jn(this);else if(0<et.length&&!this.W){this.W=!0;var Ie=this.j;Ie.g==this&&Ie.ba&&!Ie.M&&(Ie.j.info("Great, no buffering proxy detected. Bytes received: "+et.length),Qa(Ie),Ie.M=!0,te(11))}}else Pi(this.i,this.l,et,null),Ua(this,et);Te==4&&Me(this),this.o&&!this.J&&(Te==4?Io(this.j,this):(this.o=!1,xa(this)))}else Oc(this.g),p==400&&0<et.indexOf("Unknown SID")?(this.s=3,te(12)):(this.s=0,te(13)),Me(this),jn(this)}}}catch{}finally{}};function go(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function po(u,m){var p=u.C,T=m.indexOf(`
`,p);return T==-1?br:(p=Number(m.substring(p,T)),isNaN(p)?Ps:(T+=1,T+p>m.length?br:(m=m.slice(T,T+p),u.C=T+p,m)))}Ye.prototype.cancel=function(){this.J=!0,Me(this)};function xa(u){u.S=Date.now()+u.I,yo(u,u.I)}function yo(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=fe(N(u.ba,u),m)}function ji(u){u.B&&(g.clearTimeout(u.B),u.B=null)}Ye.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(mo(this.i,this.A),this.L!=2&&(Li(),te(17)),Me(this),this.s=2,jn(this)):yo(this,this.S-u)};function jn(u){u.j.G==0||u.J||Io(u.j,u)}function Me(u){ji(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,Va(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function Ua(u,m){try{var p=u.j;if(p.G!=0&&(p.g==u||Bs(p.h,u))){if(!u.K&&Bs(p.h,u)&&p.G==3){try{var T=p.Da.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var z=T;if(z[0]==0){t:if(!p.u){if(p.g)if(p.g.F+3e3<u.F)zr(p),xr(p);else break t;Xs(p),te(18)}}else p.za=z[1],0<p.za-p.T&&37500>z[2]&&p.F&&p.v==0&&!p.C&&(p.C=fe(N(p.Za,p),6e3));if(1>=wr(p.h)&&p.ca){try{p.ca()}catch{}p.ca=void 0}}else gi(p,11)}else if((u.K||p.g==u)&&zr(p),!at(m))for(z=p.Da.g.parse(m),m=0;m<z.length;m++){let Mt=z[m];if(p.T=Mt[0],Mt=Mt[1],p.G==2)if(Mt[0]=="c"){p.K=Mt[1],p.ia=Mt[2];const Ie=Mt[3];Ie!=null&&(p.la=Ie,p.j.info("VER="+p.la));const Te=Mt[4];Te!=null&&(p.Aa=Te,p.j.info("SVER="+p.Aa));const pi=Mt[5];pi!=null&&typeof pi=="number"&&0<pi&&(T=1.5*pi,p.L=T,p.j.info("backChannelRequestTimeoutMs_="+T)),T=p;const xe=u.g;if(xe){const Yn=xe.g?xe.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Yn){var k=T.h;k.g||Yn.indexOf("spdy")==-1&&Yn.indexOf("quic")==-1&&Yn.indexOf("h2")==-1||(k.j=k.l,k.g=new Set,k.h&&(Ir(k,k.h),k.h=null))}if(T.D){const Zs=xe.g?xe.g.getResponseHeader("X-HTTP-Session-Id"):null;Zs&&(T.ya=Zs,Qt(T.I,T.D,Zs))}}p.G=3,p.l&&p.l.ua(),p.ba&&(p.R=Date.now()-u.F,p.j.info("Handshake RTT: "+p.R+"ms")),T=p;var et=u;if(T.qa=Do(T,T.J?T.ia:null,T.W),et.K){Ke(T.h,et);var Ot=et,Ee=T.L;Ee&&(Ot.I=Ee),Ot.B&&(ji(Ot),xa(Ot)),T.g=et}else Ro(T);0<p.i.length&&Ur(p)}else Mt[0]!="stop"&&Mt[0]!="close"||gi(p,7);else p.G==3&&(Mt[0]=="stop"||Mt[0]=="close"?Mt[0]=="stop"?gi(p,7):Ys(p):Mt[0]!="noop"&&p.l&&p.l.ta(Mt),p.v=0)}}Li(4)}catch{}}var _o=class{constructor(u,m){this.g=u,this.map=m}};function ui(u){this.l=u||10,g.PerformanceNavigationTiming?(u=g.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Rr(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function wr(u){return u.h?1:u.g?u.g.size:0}function Bs(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Ir(u,m){u.g?u.g.add(m):u.h=m}function Ke(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}ui.prototype.cancel=function(){if(this.i=js(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function js(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const p of u.g.values())m=m.concat(p.D);return m}return Q(u.i)}function Cc(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(_(u)){for(var m=[],p=u.length,T=0;T<p;T++)m.push(u[T]);return m}m=[],p=0;for(T in u)m[p++]=u[T];return m}function Cr(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(_(u)||typeof u=="string"){var m=[];u=u.length;for(var p=0;p<u;p++)m.push(p);return m}m=[],p=0;for(const T in u)m[p++]=T;return m}}}function ks(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(_(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var p=Cr(u),T=Cc(u),z=T.length,k=0;k<z;k++)m.call(void 0,T[k],p&&p[k],u)}var za=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Dc(u,m){if(u){u=u.split("&");for(var p=0;p<u.length;p++){var T=u[p].indexOf("="),z=null;if(0<=T){var k=u[p].substring(0,T);z=u[p].substring(T+1)}else k=u[p];m(k,z?decodeURIComponent(z.replace(/\+/g," ")):"")}}}function de(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof de){this.h=u.h,La(this,u.j),this.o=u.o,this.g=u.g,ki(this,u.s),this.l=u.l;var m=u.i,p=new hi;p.i=m.i,m.g&&(p.g=new Map(m.g),p.h=m.h),ci(this,p),this.m=u.m}else u&&(m=String(u).match(za))?(this.h=!1,La(this,m[1]||"",!0),this.o=gn(m[2]||""),this.g=gn(m[3]||"",!0),ki(this,m[4]),this.l=gn(m[5]||"",!0),ci(this,m[6]||"",!0),this.m=gn(m[7]||"")):(this.h=!1,this.i=new hi(null,this.h))}de.prototype.toString=function(){var u=[],m=this.j;m&&u.push(Ba(m,qs,!0),":");var p=this.g;return(p||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Ba(m,qs,!0),"@"),u.push(encodeURIComponent(String(p)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.s,p!=null&&u.push(":",String(p))),(p=this.l)&&(this.g&&p.charAt(0)!="/"&&u.push("/"),u.push(Ba(p,p.charAt(0)=="/"?Nc:Hs,!0))),(p=this.i.toString())&&u.push("?",p),(p=this.m)&&u.push("#",Ba(p,Dr)),u.join("")};function an(u){return new de(u)}function La(u,m,p){u.j=p?gn(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function ki(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function ci(u,m,p){m instanceof hi?(u.i=m,Eo(u.i,u.h)):(p||(m=Ba(m,Vc)),u.i=new hi(m,u.h))}function Qt(u,m,p){u.i.set(m,p)}function Pa(u){return Qt(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function gn(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Ba(u,m,p){return typeof u=="string"?(u=encodeURI(u).replace(m,vo),p&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function vo(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var qs=/[#\/\?@]/g,Hs=/[#\?:]/g,Nc=/[#\?]/g,Vc=/[#\?@]/g,Dr=/#/g;function hi(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function pn(u){u.g||(u.g=new Map,u.h=0,u.i&&Dc(u.i,function(m,p){u.add(decodeURIComponent(m.replace(/\+/g," ")),p)}))}r=hi.prototype,r.add=function(u,m){pn(this),this.i=null,u=kn(this,u);var p=this.g.get(u);return p||this.g.set(u,p=[]),p.push(m),this.h+=1,this};function fi(u,m){pn(u),m=kn(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function di(u,m){return pn(u),m=kn(u,m),u.g.has(m)}r.forEach=function(u,m){pn(this),this.g.forEach(function(p,T){p.forEach(function(z){u.call(m,z,T,this)},this)},this)},r.na=function(){pn(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),p=[];for(let T=0;T<m.length;T++){const z=u[T];for(let k=0;k<z.length;k++)p.push(m[T])}return p},r.V=function(u){pn(this);let m=[];if(typeof u=="string")di(this,u)&&(m=m.concat(this.g.get(kn(this,u))));else{u=Array.from(this.g.values());for(let p=0;p<u.length;p++)m=m.concat(u[p])}return m},r.set=function(u,m){return pn(this),this.i=null,u=kn(this,u),di(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function Gs(u,m,p){fi(u,m),0<p.length&&(u.i=null,u.g.set(kn(u,m),Q(p)),u.h+=p.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var p=0;p<m.length;p++){var T=m[p];const k=encodeURIComponent(String(T)),et=this.V(T);for(T=0;T<et.length;T++){var z=k;et[T]!==""&&(z+="="+encodeURIComponent(String(et[T]))),u.push(z)}}return this.i=u.join("&")};function kn(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Eo(u,m){m&&!u.j&&(pn(u),u.i=null,u.g.forEach(function(p,T){var z=T.toLowerCase();T!=z&&(fi(this,T),Gs(this,z,p))},u)),u.j=m}function ja(u,m){const p=new mn;if(g.Image){const T=new Image;T.onload=q(yn,p,"TestLoadImage: loaded",!0,m,T),T.onerror=q(yn,p,"TestLoadImage: error",!1,m,T),T.onabort=q(yn,p,"TestLoadImage: abort",!1,m,T),T.ontimeout=q(yn,p,"TestLoadImage: timeout",!1,m,T),g.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function Nn(u,m){const p=new mn,T=new AbortController,z=setTimeout(()=>{T.abort(),yn(p,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(k=>{clearTimeout(z),k.ok?yn(p,"TestPingServer: ok",!0,m):yn(p,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(z),yn(p,"TestPingServer: error",!1,m)})}function yn(u,m,p,T,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),T(p)}catch{}}function ka(){this.g=new Oa}function qn(u,m,p){const T=p||"";try{ks(u,function(z,k){let et=z;v(z)&&(et=Cn(z)),m.push(T+k+"="+encodeURIComponent(et))})}catch(z){throw m.push(T+"type="+encodeURIComponent("_badmap")),z}}function qi(u){this.l=u.Ub||null,this.j=u.eb||!1}F(qi,Os),qi.prototype.g=function(){return new mi(this.l,this.j)},qi.prototype.i=function(u){return function(){return u}}({});function mi(u,m){re.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}F(mi,re),r=mi.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,Gn(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||g).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Hn(this)),this.readyState=0},r.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Gn(this)),this.g&&(this.readyState=3,Gn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Fs(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function Fs(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}r.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Hn(this):Gn(this),this.readyState==3&&Fs(this)}},r.Ra=function(u){this.g&&(this.response=this.responseText=u,Hn(this))},r.Qa=function(u){this.g&&(this.response=u,Hn(this))},r.ga=function(){this.g&&Hn(this)};function Hn(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Gn(u)}r.setRequestHeader=function(u,m){this.u.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var p=m.next();!p.done;)p=p.value,u.push(p[0]+": "+p[1]),p=m.next();return u.join(`\r
`)};function Gn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(mi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Qs(u){let m="";return Pt(u,function(p,T){m+=T,m+=":",m+=p,m+=`\r
`}),m}function we(u,m,p){t:{for(T in p){var T=!1;break t}T=!0}T||(p=Qs(p),typeof u=="string"?p!=null&&encodeURIComponent(String(p)):Qt(u,m,p))}function kt(u){re.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}F(kt,re);var Nr=/^https?$/i,qa=["POST","PUT"];r=kt.prototype,r.Ha=function(u){this.J=u},r.ea=function(u,m,p,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Pn.g(),this.v=this.o?Ms(this.o):Ms(Pn),this.g.onreadystatechange=N(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(k){To(this,k);return}if(u=p||"",p=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var z in T)p.set(z,T[z]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const k of T.keys())p.set(k,T.get(k));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(p.keys()).find(k=>k.toLowerCase()=="content-type"),z=g.FormData&&u instanceof g.FormData,!(0<=Array.prototype.indexOf.call(qa,m,void 0))||T||z||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[k,et]of p)this.g.setRequestHeader(k,et);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ha(this),this.u=!0,this.g.send(u),this.u=!1}catch(k){To(this,k)}};function To(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,Vr(u),Fn(u)}function Vr(u){u.A||(u.A=!0,Ht(u,"complete"),Ht(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Ht(this,"complete"),Ht(this,"abort"),Fn(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Fn(this,!0)),kt.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Or(this):this.bb())},r.bb=function(){Or(this)};function Or(u){if(u.h&&typeof d<"u"&&(!u.v[1]||_n(u)!=4||u.Z()!=2)){if(u.u&&_n(u)==4)ke(u.Ea,0,u);else if(Ht(u,"readystatechange"),_n(u)==4){u.h=!1;try{const et=u.Z();t:switch(et){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var p;if(!(p=m)){var T;if(T=et===0){var z=String(u.D).match(za)[1]||null;!z&&g.self&&g.self.location&&(z=g.self.location.protocol.slice(0,-1)),T=!Nr.test(z?z.toLowerCase():"")}p=T}if(p)Ht(u,"complete"),Ht(u,"success");else{u.m=6;try{var k=2<_n(u)?u.g.statusText:""}catch{k=""}u.l=k+" ["+u.Z()+"]",Vr(u)}}finally{Fn(u)}}}}function Fn(u,m){if(u.g){Ha(u);const p=u.g,T=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||Ht(u,"ready");try{p.onreadystatechange=T}catch{}}}function Ha(u){u.I&&(g.clearTimeout(u.I),u.I=null)}r.isActive=function(){return!!this.g};function _n(u){return u.g?u.g.readyState:0}r.Z=function(){try{return 2<_n(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Ar(m)}};function Ao(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Oc(u){const m={};u=(u.g&&2<=_n(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(at(u[T]))continue;var p=M(u[T]);const z=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();const k=m[z]||[];m[z]=k,k.push(p)}O(m,function(T){return T.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ga(u,m,p){return p&&p.internalChannelParams&&p.internalChannelParams[u]||m}function Mr(u){this.Aa=0,this.i=[],this.j=new mn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ga("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ga("baseRetryDelayMs",5e3,u),this.cb=Ga("retryDelaySeedMs",1e4,u),this.Wa=Ga("forwardChannelMaxRetries",2,u),this.wa=Ga("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new ui(u&&u.concurrentRequestLimit),this.Da=new ka,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=Mr.prototype,r.la=8,r.G=1,r.connect=function(u,m,p,T){te(0),this.W=u,this.H=m||{},p&&T!==void 0&&(this.H.OSID=p,this.H.OAID=T),this.F=this.X,this.I=Do(this,null,this.W),Ur(this)};function Ys(u){if(So(u),u.G==3){var m=u.U++,p=an(u.I);if(Qt(p,"SID",u.K),Qt(p,"RID",m),Qt(p,"TYPE","terminate"),Fa(u,p),m=new Ye(u,u.j,m),m.L=2,m.v=Pa(an(p)),p=!1,g.navigator&&g.navigator.sendBeacon)try{p=g.navigator.sendBeacon(m.v.toString(),"")}catch{}!p&&g.Image&&(new Image().src=m.v,p=!0),p||(m.g=No(m.j,null),m.g.ea(m.v)),m.F=Date.now(),xa(m)}Co(u)}function xr(u){u.g&&(Qa(u),u.g.cancel(),u.g=null)}function So(u){xr(u),u.u&&(g.clearTimeout(u.u),u.u=null),zr(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&g.clearTimeout(u.s),u.s=null)}function Ur(u){if(!Rr(u.h)&&!u.s){u.s=!0;var m=u.Ga;nt||C(),ht||(nt(),ht=!0),Bt.add(m,u),u.B=0}}function Mc(u,m){return wr(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=fe(N(u.Ga,u,m),$s(u,u.B)),u.B++,!0)}r.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const z=new Ye(this,this.j,u);let k=this.o;if(this.S&&(k?(k=S(k),V(k,this.S)):k=this.S),this.m!==null||this.O||(z.H=k,k=null),this.P)t:{for(var m=0,p=0;p<this.i.length;p++){e:{var T=this.i[p];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,4096<m){m=p;break t}if(m===4096||p===this.i.length-1){m=p+1;break t}}m=1e3}else m=1e3;m=bo(this,z,m),p=an(this.I),Qt(p,"RID",u),Qt(p,"CVER",22),this.D&&Qt(p,"X-HTTP-Session-Id",this.D),Fa(this,p),k&&(this.O?m="headers="+encodeURIComponent(String(Qs(k)))+"&"+m:this.m&&we(p,this.m,k)),Ir(this.h,z),this.Ua&&Qt(p,"TYPE","init"),this.P?(Qt(p,"$req",m),Qt(p,"SID","null"),z.T=!0,Dn(z,p,null)):Dn(z,p,m),this.G=2}}else this.G==3&&(u?Ks(this,u):this.i.length==0||Rr(this.h)||Ks(this))};function Ks(u,m){var p;m?p=m.l:p=u.U++;const T=an(u.I);Qt(T,"SID",u.K),Qt(T,"RID",p),Qt(T,"AID",u.T),Fa(u,T),u.m&&u.o&&we(T,u.m,u.o),p=new Ye(u,u.j,p,u.B+1),u.m===null&&(p.H=u.o),m&&(u.i=m.D.concat(u.i)),m=bo(u,p,1e3),p.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Ir(u.h,p),Dn(p,T,m)}function Fa(u,m){u.H&&Pt(u.H,function(p,T){Qt(m,T,p)}),u.l&&ks({},function(p,T){Qt(m,T,p)})}function bo(u,m,p){p=Math.min(u.i.length,p);var T=u.l?N(u.l.Na,u.l,u):null;t:{var z=u.i;let k=-1;for(;;){const et=["count="+p];k==-1?0<p?(k=z[0].g,et.push("ofs="+k)):k=0:et.push("ofs="+k);let Ot=!0;for(let Ee=0;Ee<p;Ee++){let Mt=z[Ee].g;const Ie=z[Ee].map;if(Mt-=k,0>Mt)k=Math.max(0,z[Ee].g-100),Ot=!1;else try{qn(Ie,et,"req"+Mt+"_")}catch{T&&T(Ie)}}if(Ot){T=et.join("&");break t}}}return u=u.i.splice(0,p),m.D=u,T}function Ro(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;nt||C(),ht||(nt(),ht=!0),Bt.add(m,u),u.v=0}}function Xs(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=fe(N(u.Fa,u),$s(u,u.v)),u.v++,!0)}r.Fa=function(){if(this.u=null,wo(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=fe(N(this.ab,this),u)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,te(10),xr(this),wo(this))};function Qa(u){u.A!=null&&(g.clearTimeout(u.A),u.A=null)}function wo(u){u.g=new Ye(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=an(u.qa);Qt(m,"RID","rpc"),Qt(m,"SID",u.K),Qt(m,"AID",u.T),Qt(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&Qt(m,"TO",u.ja),Qt(m,"TYPE","xmlhttp"),Fa(u,m),u.m&&u.o&&we(m,u.m,u.o),u.L&&(u.g.I=u.L);var p=u.g;u=u.ia,p.L=1,p.v=Pa(an(m)),p.m=null,p.P=!0,oi(p,u)}r.Za=function(){this.C!=null&&(this.C=null,xr(this),Xs(this),te(19))};function zr(u){u.C!=null&&(g.clearTimeout(u.C),u.C=null)}function Io(u,m){var p=null;if(u.g==m){zr(u),Qa(u),u.g=null;var T=2}else if(Bs(u.h,m))p=m.D,Ke(u.h,m),T=1;else return;if(u.G!=0){if(m.o)if(T==1){p=m.m?m.m.length:0,m=Date.now()-m.F;var z=u.B;T=zi(),Ht(T,new ve(T,p)),Ur(u)}else Ro(u);else if(z=m.s,z==3||z==0&&0<m.X||!(T==1&&Mc(u,m)||T==2&&Xs(u)))switch(p&&0<p.length&&(m=u.h,m.i=m.i.concat(p)),z){case 1:gi(u,5);break;case 4:gi(u,10);break;case 3:gi(u,6);break;default:gi(u,2)}}}function $s(u,m){let p=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(p*=2),p*m}function gi(u,m){if(u.j.info("Error code "+m),m==2){var p=N(u.fb,u),T=u.Xa;const z=!T;T=new de(T||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||La(T,"https"),Pa(T),z?ja(T.toString(),p):Nn(T.toString(),p)}else te(2);u.G=0,u.l&&u.l.sa(m),Co(u),So(u)}r.fb=function(u){u?(this.j.info("Successfully pinged google.com"),te(2)):(this.j.info("Failed to ping google.com"),te(1))};function Co(u){if(u.G=0,u.ka=[],u.l){const m=js(u.h);(m.length!=0||u.i.length!=0)&&(Y(u.ka,m),Y(u.ka,u.i),u.h.i.length=0,Q(u.i),u.i.length=0),u.l.ra()}}function Do(u,m,p){var T=p instanceof de?an(p):new de(p);if(T.g!="")m&&(T.g=m+"."+T.g),ki(T,T.s);else{var z=g.location;T=z.protocol,m=m?m+"."+z.hostname:z.hostname,z=+z.port;var k=new de(null);T&&La(k,T),m&&(k.g=m),z&&ki(k,z),p&&(k.l=p),T=k}return p=u.D,m=u.ya,p&&m&&Qt(T,p,m),Qt(T,"VER",u.la),Fa(u,T),T}function No(u,m,p){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new kt(new qi({eb:p})):new kt(u.pa),m.Ha(u.J),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Vo(){}r=Vo.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function Lr(){}Lr.prototype.g=function(u,m){return new Xe(u,m)};function Xe(u,m){re.call(this),this.g=new Mr(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!at(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!at(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Qn(this)}F(Xe,re),Xe.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Xe.prototype.close=function(){Ys(this.g)},Xe.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var p={};p.__data__=u,u=p}else this.u&&(p={},p.__data__=Cn(u),u=p);m.i.push(new _o(m.Ya++,u)),m.G==3&&Ur(m)},Xe.prototype.N=function(){this.g.l=null,delete this.j,Ys(this.g),delete this.g,Xe.aa.N.call(this)};function Oo(u){si.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const p in m){u=p;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}F(Oo,si);function Mo(){Us.call(this),this.status=1}F(Mo,Us);function Qn(u){this.g=u}F(Qn,Vo),Qn.prototype.ua=function(){Ht(this.g,"a")},Qn.prototype.ta=function(u){Ht(this.g,new Oo(u))},Qn.prototype.sa=function(u){Ht(this.g,new Mo)},Qn.prototype.ra=function(){Ht(this.g,"b")},Lr.prototype.createWebChannel=Lr.prototype.g,Xe.prototype.send=Xe.prototype.o,Xe.prototype.open=Xe.prototype.m,Xe.prototype.close=Xe.prototype.close,cv=function(){return new Lr},uv=function(){return zi()},ov=Ln,Yf={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Bi.NO_ERROR=0,Bi.TIMEOUT=8,Bi.HTTP_ERROR=6,ju=Bi,li.COMPLETE="complete",lv=li,xs.EventType=ri,ri.OPEN="a",ri.CLOSE="b",ri.ERROR="c",ri.MESSAGE="d",re.prototype.listen=re.prototype.K,Bl=xs,kt.prototype.listenOnce=kt.prototype.L,kt.prototype.getLastError=kt.prototype.Ka,kt.prototype.getLastErrorCode=kt.prototype.Ba,kt.prototype.getStatus=kt.prototype.Z,kt.prototype.getResponseJson=kt.prototype.Oa,kt.prototype.getResponseText=kt.prototype.oa,kt.prototype.send=kt.prototype.ea,kt.prototype.setWithCredentials=kt.prototype.Ha,sv=kt}).apply(typeof xu<"u"?xu:typeof self<"u"?self:typeof window<"u"?window:{});const zy="@firebase/firestore",Ly="4.7.14";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Fe.UNAUTHENTICATED=new Fe(null),Fe.GOOGLE_CREDENTIALS=new Fe("google-credentials-uid"),Fe.FIRST_PARTY=new Fe("first-party-uid"),Fe.MOCK_USER=new Fe("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bs="11.7.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hr=new md("@firebase/firestore");function fs(){return hr.logLevel}function st(r,...e){if(hr.logLevel<=zt.DEBUG){const i=e.map(pd);hr.debug(`Firestore (${bs}): ${r}`,...i)}}function Mi(r,...e){if(hr.logLevel<=zt.ERROR){const i=e.map(pd);hr.error(`Firestore (${bs}): ${r}`,...i)}}function ys(r,...e){if(hr.logLevel<=zt.WARN){const i=e.map(pd);hr.warn(`Firestore (${bs}): ${r}`,...i)}}function pd(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(i){return JSON.stringify(i)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pt(r,e,i){let s="Unexpected state";typeof e=="string"?s=e:i=e,hv(r,s,i)}function hv(r,e,i){let s=`FIRESTORE (${bs}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(i!==void 0)try{s+=" CONTEXT: "+JSON.stringify(i)}catch{s+=" CONTEXT: "+i}throw Mi(s),new Error(s)}function qt(r,e,i,s){let o="Unexpected state";typeof i=="string"?o=i:s=i,r||hv(e,o,s)}function Tt(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class lt extends ba{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma{constructor(){this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fv{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class wA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable(()=>i(Fe.UNAUTHENTICATED))}shutdown(){}}class IA{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class CA{constructor(e){this.t=e,this.currentUser=Fe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){qt(this.o===void 0,42304);let s=this.i;const o=_=>this.i!==s?(s=this.i,i(_)):Promise.resolve();let h=new ma;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new ma,e.enqueueRetryable(()=>o(this.currentUser))};const d=()=>{const _=h;e.enqueueRetryable(async()=>{await _.promise,await o(this.currentUser)})},g=_=>{st("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(_=>g(_)),setTimeout(()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?g(_):(st("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new ma)}},0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(s=>this.i!==e?(st("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(qt(typeof s.accessToken=="string",31837,{l:s}),new fv(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return qt(e===null||typeof e=="string",2055,{h:e}),new Fe(e)}}class DA{constructor(e,i,s){this.P=e,this.T=i,this.I=s,this.type="FirstParty",this.user=Fe.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class NA{constructor(e,i,s){this.P=e,this.T=i,this.I=s}getToken(){return Promise.resolve(new DA(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable(()=>i(Fe.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Py{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class VA{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,fA(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){qt(this.o===void 0,3512);const s=h=>{h.error!=null&&st("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const d=h.token!==this.m;return this.m=h.token,st("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(h.token):Promise.resolve()};this.o=h=>{e.enqueueRetryable(()=>s(h))};const o=h=>{st("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(h=>o(h)),setTimeout(()=>{if(!this.appCheck){const h=this.V.getImmediate({optional:!0});h?o(h):st("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Py(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(i=>i?(qt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new Py(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OA(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let s=0;s<r;s++)i[s]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dv(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mv{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=OA(40);for(let h=0;h<o.length;++h)s.length<20&&o[h]<i&&(s+=e.charAt(o[h]%62))}return s}}function Rt(r,e){return r<e?-1:r>e?1:0}function Kf(r,e){let i=0;for(;i<r.length&&i<e.length;){const s=r.codePointAt(i),o=e.codePointAt(i);if(s!==o){if(s<128&&o<128)return Rt(s,o);{const h=dv(),d=MA(h.encode(By(r,i)),h.encode(By(e,i)));return d!==0?d:Rt(s,o)}}i+=s>65535?2:1}return Rt(r.length,e.length)}function By(r,e){return r.codePointAt(e)>65535?r.substring(e,e+2):r.substring(e,e+1)}function MA(r,e){for(let i=0;i<r.length&&i<e.length;++i)if(r[i]!==e[i])return Rt(r[i],e[i]);return Rt(r.length,e.length)}function _s(r,e,i){return r.length===e.length&&r.every((s,o)=>i(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jy=-62135596800,ky=1e6;class _e{static now(){return _e.fromMillis(Date.now())}static fromDate(e){return _e.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),s=Math.floor((e-1e3*i)*ky);return new _e(i,s)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new lt(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new lt(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<jy)throw new lt(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new lt(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/ky}_compareTo(e){return this.seconds===e.seconds?Rt(this.nanoseconds,e.nanoseconds):Rt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-jy;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{static fromTimestamp(e){return new Et(e)}static min(){return new Et(new _e(0,0))}static max(){return new Et(new _e(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qy="__name__";class Wn{constructor(e,i,s){i===void 0?i=0:i>e.length&&pt(637,{offset:i,range:e.length}),s===void 0?s=e.length-i:s>e.length-i&&pt(1746,{length:s,range:e.length-i}),this.segments=e,this.offset=i,this.len=s}get length(){return this.len}isEqual(e){return Wn.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof Wn?e.forEach(s=>{i.push(s)}):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,s=this.limit();i<s;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const s=Math.min(e.length,i.length);for(let o=0;o<s;o++){const h=Wn.compareSegments(e.get(o),i.get(o));if(h!==0)return h}return Rt(e.length,i.length)}static compareSegments(e,i){const s=Wn.isNumericId(e),o=Wn.isNumericId(i);return s&&!o?-1:!s&&o?1:s&&o?Wn.extractNumericId(e).compare(Wn.extractNumericId(i)):Kf(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return da.fromString(e.substring(4,e.length-2))}}class Wt extends Wn{construct(e,i,s){return new Wt(e,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const s of e){if(s.indexOf("//")>=0)throw new lt(J.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter(o=>o.length>0))}return new Wt(i)}static emptyPath(){return new Wt([])}}const xA=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Be extends Wn{construct(e,i,s){return new Be(e,i,s)}static isValidIdentifier(e){return xA.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Be.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===qy}static keyField(){return new Be([qy])}static fromServerFormat(e){const i=[];let s="",o=0;const h=()=>{if(s.length===0)throw new lt(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let d=!1;for(;o<e.length;){const g=e[o];if(g==="\\"){if(o+1===e.length)throw new lt(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[o+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new lt(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=_,o+=2}else g==="`"?(d=!d,o++):g!=="."||d?(s+=g,o++):(h(),o++)}if(h(),d)throw new lt(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Be(i)}static emptyPath(){return new Be([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft{constructor(e){this.path=e}static fromPath(e){return new ft(Wt.fromString(e))}static fromName(e){return new ft(Wt.fromString(e).popFirst(5))}static empty(){return new ft(Wt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Wt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return Wt.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ft(new Wt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $l=-1;function UA(r,e){const i=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Et.fromTimestamp(s===1e9?new _e(i+1,0):new _e(i,s));return new _a(o,ft.empty(),e)}function zA(r){return new _a(r.readTime,r.key,$l)}class _a{constructor(e,i,s){this.readTime=e,this.documentKey=i,this.largestBatchId=s}static min(){return new _a(Et.min(),ft.empty(),$l)}static max(){return new _a(Et.max(),ft.empty(),$l)}}function LA(r,e){let i=r.readTime.compareTo(e.readTime);return i!==0?i:(i=ft.comparator(r.documentKey,e.documentKey),i!==0?i:Rt(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class BA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rs(r){if(r.code!==J.FAILED_PRECONDITION||r.message!==PA)throw r;st("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&pt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new Z((s,o)=>{this.nextCallback=h=>{this.wrapSuccess(e,h).next(s,o)},this.catchCallback=h=>{this.wrapFailure(i,h).next(s,o)}})}toPromise(){return new Promise((e,i)=>{this.next(e,i)})}wrapUserFunction(e){try{const i=e();return i instanceof Z?i:Z.resolve(i)}catch(i){return Z.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction(()=>e(i)):Z.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction(()=>e(i)):Z.reject(i)}static resolve(e){return new Z((i,s)=>{i(e)})}static reject(e){return new Z((i,s)=>{s(e)})}static waitFor(e){return new Z((i,s)=>{let o=0,h=0,d=!1;e.forEach(g=>{++o,g.next(()=>{++h,d&&h===o&&i()},_=>s(_))}),d=!0,h===o&&i()})}static or(e){let i=Z.resolve(!1);for(const s of e)i=i.next(o=>o?Z.resolve(o):s());return i}static forEach(e,i){const s=[];return e.forEach((o,h)=>{s.push(i.call(this,o,h))}),this.waitFor(s)}static mapArray(e,i){return new Z((s,o)=>{const h=e.length,d=new Array(h);let g=0;for(let _=0;_<h;_++){const v=_;i(e[v]).next(A=>{d[v]=A,++g,g===h&&s(d)},A=>o(A))}})}static doWhile(e,i){return new Z((s,o)=>{const h=()=>{e()===!0?i().next(()=>{h()},o):s()};h()})}}function jA(r){const e=r.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function ws(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uc{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=s=>this.ue(s),this.ce=s=>i.writeSequenceNumber(s))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}uc.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yd=-1;function cc(r){return r==null}function Ku(r){return r===0&&1/r==-1/0}function kA(r){return typeof r=="number"&&Number.isInteger(r)&&!Ku(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gv="";function qA(r){let e="";for(let i=0;i<r.length;i++)e.length>0&&(e=Hy(e)),e=HA(r.get(i),e);return Hy(e)}function HA(r,e){let i=e;const s=r.length;for(let o=0;o<s;o++){const h=r.charAt(o);switch(h){case"\0":i+="";break;case gv:i+="";break;default:i+=h}}return i}function Hy(r){return r+gv+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gy(r){let e=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e++;return e}function gr(r,e){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e(i,r[i])}function pv(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(e,i){this.comparator=e,this.root=i||Pe.EMPTY}insert(e,i){return new ie(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,Pe.BLACK,null,null))}remove(e){return new ie(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Pe.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(e){let i=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return i+s.left.size;o<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((i,s)=>(e(i,s),!1))}toString(){const e=[];return this.inorderTraversal((i,s)=>(e.push(`${i}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Uu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Uu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Uu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Uu(this.root,e,this.comparator,!0)}}class Uu{constructor(e,i,s,o){this.isReverse=o,this.nodeStack=[];let h=1;for(;!e.isEmpty();)if(h=i?s(e.key,i):1,i&&o&&(h*=-1),h<0)e=this.isReverse?e.left:e.right;else{if(h===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Pe{constructor(e,i,s,o,h){this.key=e,this.value=i,this.color=s??Pe.RED,this.left=o??Pe.EMPTY,this.right=h??Pe.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,s,o,h){return new Pe(e??this.key,i??this.value,s??this.color,o??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,s){let o=this;const h=s(e,o.key);return o=h<0?o.copy(null,null,null,o.left.insert(e,i,s),null):h===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Pe.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let s,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return Pe.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Pe.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Pe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw pt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw pt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw pt(27949);return e+(this.isRed()?0:1)}}Pe.EMPTY=null,Pe.RED=!0,Pe.BLACK=!1;Pe.EMPTY=new class{constructor(){this.size=0}get key(){throw pt(57766)}get value(){throw pt(16141)}get color(){throw pt(16727)}get left(){throw pt(29726)}get right(){throw pt(36894)}copy(e,i,s,o,h){return this}insert(e,i,s){return new Pe(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{constructor(e){this.comparator=e,this.data=new ie(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((i,s)=>(e(i),!1))}forEachInRange(e,i){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let s;for(s=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new Fy(this.data.getIterator())}getIteratorFrom(e){return new Fy(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach(s=>{i=i.add(s)}),i}isEqual(e){if(!(e instanceof be)||this.size!==e.size)return!1;const i=this.data.getIterator(),s=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=s.getNext().key;if(this.comparator(o,h)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(i=>{e.push(i)}),e}toString(){const e=[];return this.forEach(i=>e.push(i)),"SortedSet("+e.toString()+")"}copy(e){const i=new be(this.comparator);return i.data=e,i}}class Fy{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(e){this.fields=e,e.sort(Be.comparator)}static empty(){return new xn([])}unionWith(e){let i=new be(Be.comparator);for(const s of this.fields)i=i.add(s);for(const s of e)i=i.add(s);return new xn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return _s(this.fields,e.fields,(i,s)=>i.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yv extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class je{constructor(e){this.binaryString=e}static fromBase64String(e){const i=function(o){try{return atob(o)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new yv("Invalid base64 string: "+h):h}}(e);return new je(i)}static fromUint8Array(e){const i=function(o){let h="";for(let d=0;d<o.length;++d)h+=String.fromCharCode(o[d]);return h}(e);return new je(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(i){return btoa(i)}(this.binaryString)}toUint8Array(){return function(i){const s=new Uint8Array(i.length);for(let o=0;o<i.length;o++)s[o]=i.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Rt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}je.EMPTY_BYTE_STRING=new je("");const GA=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function va(r){if(qt(!!r,39018),typeof r=="string"){let e=0;const i=GA.exec(r);if(qt(!!i,46558,{timestamp:r}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:he(r.seconds),nanos:he(r.nanos)}}function he(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Ea(r){return typeof r=="string"?je.fromBase64String(r):je.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _v="server_timestamp",vv="__type__",Ev="__previous_value__",Tv="__local_write_time__";function _d(r){var e,i;return((i=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[vv])===null||i===void 0?void 0:i.stringValue)===_v}function hc(r){const e=r.mapValue.fields[Ev];return _d(e)?hc(e):e}function Zl(r){const e=va(r.mapValue.fields[Tv].timestampValue);return new _e(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FA{constructor(e,i,s,o,h,d,g,_,v,A){this.databaseId=e,this.appId=i,this.persistenceKey=s,this.host=o,this.ssl=h,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=_,this.useFetchStreams=v,this.isUsingEmulator=A}}const Xu="(default)";class Jl{constructor(e,i){this.projectId=e,this.database=i||Xu}static empty(){return new Jl("","")}get isDefaultDatabase(){return this.database===Xu}isEqual(e){return e instanceof Jl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Av="__type__",QA="__max__",zu={mapValue:{}},Sv="__vector__",$u="value";function Ta(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?_d(r)?4:KA(r)?9007199254740991:YA(r)?10:11:pt(28295,{value:r})}function ii(r,e){if(r===e)return!0;const i=Ta(r);if(i!==Ta(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Zl(r).isEqual(Zl(e));case 3:return function(o,h){if(typeof o.timestampValue=="string"&&typeof h.timestampValue=="string"&&o.timestampValue.length===h.timestampValue.length)return o.timestampValue===h.timestampValue;const d=va(o.timestampValue),g=va(h.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(o,h){return Ea(o.bytesValue).isEqual(Ea(h.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(o,h){return he(o.geoPointValue.latitude)===he(h.geoPointValue.latitude)&&he(o.geoPointValue.longitude)===he(h.geoPointValue.longitude)}(r,e);case 2:return function(o,h){if("integerValue"in o&&"integerValue"in h)return he(o.integerValue)===he(h.integerValue);if("doubleValue"in o&&"doubleValue"in h){const d=he(o.doubleValue),g=he(h.doubleValue);return d===g?Ku(d)===Ku(g):isNaN(d)&&isNaN(g)}return!1}(r,e);case 9:return _s(r.arrayValue.values||[],e.arrayValue.values||[],ii);case 10:case 11:return function(o,h){const d=o.mapValue.fields||{},g=h.mapValue.fields||{};if(Gy(d)!==Gy(g))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(g[_]===void 0||!ii(d[_],g[_])))return!1;return!0}(r,e);default:return pt(52216,{left:r})}}function Wl(r,e){return(r.values||[]).find(i=>ii(i,e))!==void 0}function vs(r,e){if(r===e)return 0;const i=Ta(r),s=Ta(e);if(i!==s)return Rt(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return Rt(r.booleanValue,e.booleanValue);case 2:return function(h,d){const g=he(h.integerValue||h.doubleValue),_=he(d.integerValue||d.doubleValue);return g<_?-1:g>_?1:g===_?0:isNaN(g)?isNaN(_)?0:-1:1}(r,e);case 3:return Qy(r.timestampValue,e.timestampValue);case 4:return Qy(Zl(r),Zl(e));case 5:return Kf(r.stringValue,e.stringValue);case 6:return function(h,d){const g=Ea(h),_=Ea(d);return g.compareTo(_)}(r.bytesValue,e.bytesValue);case 7:return function(h,d){const g=h.split("/"),_=d.split("/");for(let v=0;v<g.length&&v<_.length;v++){const A=Rt(g[v],_[v]);if(A!==0)return A}return Rt(g.length,_.length)}(r.referenceValue,e.referenceValue);case 8:return function(h,d){const g=Rt(he(h.latitude),he(d.latitude));return g!==0?g:Rt(he(h.longitude),he(d.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return Yy(r.arrayValue,e.arrayValue);case 10:return function(h,d){var g,_,v,A;const I=h.fields||{},N=d.fields||{},q=(g=I[$u])===null||g===void 0?void 0:g.arrayValue,F=(_=N[$u])===null||_===void 0?void 0:_.arrayValue,Q=Rt(((v=q==null?void 0:q.values)===null||v===void 0?void 0:v.length)||0,((A=F==null?void 0:F.values)===null||A===void 0?void 0:A.length)||0);return Q!==0?Q:Yy(q,F)}(r.mapValue,e.mapValue);case 11:return function(h,d){if(h===zu.mapValue&&d===zu.mapValue)return 0;if(h===zu.mapValue)return 1;if(d===zu.mapValue)return-1;const g=h.fields||{},_=Object.keys(g),v=d.fields||{},A=Object.keys(v);_.sort(),A.sort();for(let I=0;I<_.length&&I<A.length;++I){const N=Kf(_[I],A[I]);if(N!==0)return N;const q=vs(g[_[I]],v[A[I]]);if(q!==0)return q}return Rt(_.length,A.length)}(r.mapValue,e.mapValue);default:throw pt(23264,{Pe:i})}}function Qy(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Rt(r,e);const i=va(r),s=va(e),o=Rt(i.seconds,s.seconds);return o!==0?o:Rt(i.nanos,s.nanos)}function Yy(r,e){const i=r.values||[],s=e.values||[];for(let o=0;o<i.length&&o<s.length;++o){const h=vs(i[o],s[o]);if(h)return h}return Rt(i.length,s.length)}function Es(r){return Xf(r)}function Xf(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(i){const s=va(i);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(i){return Ea(i).toBase64()}(r.bytesValue):"referenceValue"in r?function(i){return ft.fromName(i).toString()}(r.referenceValue):"geoPointValue"in r?function(i){return`geo(${i.latitude},${i.longitude})`}(r.geoPointValue):"arrayValue"in r?function(i){let s="[",o=!0;for(const h of i.values||[])o?o=!1:s+=",",s+=Xf(h);return s+"]"}(r.arrayValue):"mapValue"in r?function(i){const s=Object.keys(i.fields||{}).sort();let o="{",h=!0;for(const d of s)h?h=!1:o+=",",o+=`${d}:${Xf(i.fields[d])}`;return o+"}"}(r.mapValue):pt(61005,{value:r})}function ku(r){switch(Ta(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=hc(r);return e?16+ku(e):16;case 5:return 2*r.stringValue.length;case 6:return Ea(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,h)=>o+ku(h),0)}(r.arrayValue);case 10:case 11:return function(s){let o=0;return gr(s.fields,(h,d)=>{o+=h.length+ku(d)}),o}(r.mapValue);default:throw pt(13486,{value:r})}}function Ky(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function $f(r){return!!r&&"integerValue"in r}function vd(r){return!!r&&"arrayValue"in r}function Xy(r){return!!r&&"nullValue"in r}function $y(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function qu(r){return!!r&&"mapValue"in r}function YA(r){var e,i;return((i=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[Av])===null||i===void 0?void 0:i.stringValue)===Sv}function Hl(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return gr(r.mapValue.fields,(i,s)=>e.mapValue.fields[i]=Hl(s)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Hl(r.arrayValue.values[i]);return e}return Object.assign({},r)}function KA(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===QA}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e){this.value=e}static empty(){return new wn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let s=0;s<e.length-1;++s)if(i=(i.mapValue.fields||{})[e.get(s)],!qu(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Hl(i)}setAll(e){let i=Be.emptyPath(),s={},o=[];e.forEach((d,g)=>{if(!i.isImmediateParentOf(g)){const _=this.getFieldsMap(i);this.applyChanges(_,s,o),s={},o=[],i=g.popLast()}d?s[g.lastSegment()]=Hl(d):o.push(g.lastSegment())});const h=this.getFieldsMap(i);this.applyChanges(h,s,o)}delete(e){const i=this.field(e.popLast());qu(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return ii(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=i.mapValue.fields[e.get(s)];qu(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(s)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,s){gr(i,(o,h)=>e[o]=h);for(const o of s)delete e[o]}clone(){return new wn(Hl(this.value))}}function bv(r){const e=[];return gr(r.fields,(i,s)=>{const o=new Be([i]);if(qu(s)){const h=bv(s.mapValue).fields;if(h.length===0)e.push(o);else for(const d of h)e.push(o.child(d))}else e.push(o)}),new xn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(e,i,s,o,h,d,g){this.key=e,this.documentType=i,this.version=s,this.readTime=o,this.createTime=h,this.data=d,this.documentState=g}static newInvalidDocument(e){return new Qe(e,0,Et.min(),Et.min(),Et.min(),wn.empty(),0)}static newFoundDocument(e,i,s,o){return new Qe(e,1,i,Et.min(),s,o,0)}static newNoDocument(e,i){return new Qe(e,2,i,Et.min(),Et.min(),wn.empty(),0)}static newUnknownDocument(e,i){return new Qe(e,3,i,Et.min(),Et.min(),wn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(Et.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=wn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=wn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Et.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Qe&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Qe(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zu{constructor(e,i){this.position=e,this.inclusive=i}}function Zy(r,e,i){let s=0;for(let o=0;o<r.position.length;o++){const h=e[o],d=r.position[o];if(h.field.isKeyField()?s=ft.comparator(ft.fromName(d.referenceValue),i.key):s=vs(d,i.data.field(h.field)),h.dir==="desc"&&(s*=-1),s!==0)break}return s}function Jy(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!ii(r.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to{constructor(e,i="asc"){this.field=e,this.dir=i}}function XA(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rv{}class ye extends Rv{constructor(e,i,s){super(),this.field=e,this.op=i,this.value=s}static create(e,i,s){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,s):new ZA(e,i,s):i==="array-contains"?new tS(e,s):i==="in"?new eS(e,s):i==="not-in"?new nS(e,s):i==="array-contains-any"?new iS(e,s):new ye(e,i,s)}static createKeyFieldInFilter(e,i,s){return i==="in"?new JA(e,s):new WA(e,s)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(vs(i,this.value)):i!==null&&Ta(this.value)===Ta(i)&&this.matchesComparison(vs(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return pt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Un extends Rv{constructor(e,i){super(),this.filters=e,this.op=i,this.Te=null}static create(e,i){return new Un(e,i)}matches(e){return wv(this)?this.filters.find(i=>!i.matches(e))===void 0:this.filters.find(i=>i.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,i)=>e.concat(i.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function wv(r){return r.op==="and"}function Iv(r){return $A(r)&&wv(r)}function $A(r){for(const e of r.filters)if(e instanceof Un)return!1;return!0}function Zf(r){if(r instanceof ye)return r.field.canonicalString()+r.op.toString()+Es(r.value);if(Iv(r))return r.filters.map(e=>Zf(e)).join(",");{const e=r.filters.map(i=>Zf(i)).join(",");return`${r.op}(${e})`}}function Cv(r,e){return r instanceof ye?function(s,o){return o instanceof ye&&s.op===o.op&&s.field.isEqual(o.field)&&ii(s.value,o.value)}(r,e):r instanceof Un?function(s,o){return o instanceof Un&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((h,d,g)=>h&&Cv(d,o.filters[g]),!0):!1}(r,e):void pt(19439)}function Dv(r){return r instanceof ye?function(i){return`${i.field.canonicalString()} ${i.op} ${Es(i.value)}`}(r):r instanceof Un?function(i){return i.op.toString()+" {"+i.getFilters().map(Dv).join(" ,")+"}"}(r):"Filter"}class ZA extends ye{constructor(e,i,s){super(e,i,s),this.key=ft.fromName(s.referenceValue)}matches(e){const i=ft.comparator(e.key,this.key);return this.matchesComparison(i)}}class JA extends ye{constructor(e,i){super(e,"in",i),this.keys=Nv("in",i)}matches(e){return this.keys.some(i=>i.isEqual(e.key))}}class WA extends ye{constructor(e,i){super(e,"not-in",i),this.keys=Nv("not-in",i)}matches(e){return!this.keys.some(i=>i.isEqual(e.key))}}function Nv(r,e){var i;return(((i=e.arrayValue)===null||i===void 0?void 0:i.values)||[]).map(s=>ft.fromName(s.referenceValue))}class tS extends ye{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return vd(i)&&Wl(i.arrayValue,this.value)}}class eS extends ye{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&Wl(this.value.arrayValue,i)}}class nS extends ye{constructor(e,i){super(e,"not-in",i)}matches(e){if(Wl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Wl(this.value.arrayValue,i)}}class iS extends ye{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!vd(i)||!i.arrayValue.values)&&i.arrayValue.values.some(s=>Wl(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aS{constructor(e,i=null,s=[],o=[],h=null,d=null,g=null){this.path=e,this.collectionGroup=i,this.orderBy=s,this.filters=o,this.limit=h,this.startAt=d,this.endAt=g,this.Ie=null}}function Wy(r,e=null,i=[],s=[],o=null,h=null,d=null){return new aS(r,e,i,s,o,h,d)}function Ed(r){const e=Tt(r);if(e.Ie===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map(s=>Zf(s)).join(","),i+="|ob:",i+=e.orderBy.map(s=>function(h){return h.field.canonicalString()+h.dir}(s)).join(","),cc(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(s=>Es(s)).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(s=>Es(s)).join(",")),e.Ie=i}return e.Ie}function Td(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!XA(r.orderBy[i],e.orderBy[i]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!Cv(r.filters[i],e.filters[i]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!Jy(r.startAt,e.startAt)&&Jy(r.endAt,e.endAt)}function Jf(r){return ft.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is{constructor(e,i=null,s=[],o=[],h=null,d="F",g=null,_=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=o,this.limit=h,this.limitType=d,this.startAt=g,this.endAt=_,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function rS(r,e,i,s,o,h,d,g){return new Is(r,e,i,s,o,h,d,g)}function Vv(r){return new Is(r)}function t_(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function Ov(r){return r.collectionGroup!==null}function Gl(r){const e=Tt(r);if(e.Ee===null){e.Ee=[];const i=new Set;for(const h of e.explicitOrderBy)e.Ee.push(h),i.add(h.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new be(Be.comparator);return d.filters.forEach(_=>{_.getFlattenedFilters().forEach(v=>{v.isInequality()&&(g=g.add(v.field))})}),g})(e).forEach(h=>{i.has(h.canonicalString())||h.isKeyField()||e.Ee.push(new to(h,s))}),i.has(Be.keyField().canonicalString())||e.Ee.push(new to(Be.keyField(),s))}return e.Ee}function ei(r){const e=Tt(r);return e.de||(e.de=sS(e,Gl(r))),e.de}function sS(r,e){if(r.limitType==="F")return Wy(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(o=>{const h=o.dir==="desc"?"asc":"desc";return new to(o.field,h)});const i=r.endAt?new Zu(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Zu(r.startAt.position,r.startAt.inclusive):null;return Wy(r.path,r.collectionGroup,e,r.filters,r.limit,i,s)}}function Wf(r,e){const i=r.filters.concat([e]);return new Is(r.path,r.collectionGroup,r.explicitOrderBy.slice(),i,r.limit,r.limitType,r.startAt,r.endAt)}function td(r,e,i){return new Is(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,i,r.startAt,r.endAt)}function fc(r,e){return Td(ei(r),ei(e))&&r.limitType===e.limitType}function Mv(r){return`${Ed(ei(r))}|lt:${r.limitType}`}function ds(r){return`Query(target=${function(i){let s=i.path.canonicalString();return i.collectionGroup!==null&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map(o=>Dv(o)).join(", ")}]`),cc(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map(o=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(o)).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map(o=>Es(o)).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map(o=>Es(o)).join(",")),`Target(${s})`}(ei(r))}; limitType=${r.limitType})`}function dc(r,e){return e.isFoundDocument()&&function(s,o){const h=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(h):ft.isDocumentKey(s.path)?s.path.isEqual(h):s.path.isImmediateParentOf(h)}(r,e)&&function(s,o){for(const h of Gl(s))if(!h.field.isKeyField()&&o.data.field(h.field)===null)return!1;return!0}(r,e)&&function(s,o){for(const h of s.filters)if(!h.matches(o))return!1;return!0}(r,e)&&function(s,o){return!(s.startAt&&!function(d,g,_){const v=Zy(d,g,_);return d.inclusive?v<=0:v<0}(s.startAt,Gl(s),o)||s.endAt&&!function(d,g,_){const v=Zy(d,g,_);return d.inclusive?v>=0:v>0}(s.endAt,Gl(s),o))}(r,e)}function lS(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function xv(r){return(e,i)=>{let s=!1;for(const o of Gl(r)){const h=oS(o,e,i);if(h!==0)return h;s=s||o.field.isKeyField()}return 0}}function oS(r,e,i){const s=r.field.isKeyField()?ft.comparator(e.key,i.key):function(h,d,g){const _=d.data.field(h),v=g.data.field(h);return _!==null&&v!==null?vs(_,v):pt(42886)}(r.field,e,i);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return pt(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s!==void 0){for(const[o,h]of s)if(this.equalsFn(o,e))return h}}has(e){return this.get(e)!==void 0}set(e,i){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,i]],void this.innerSize++;for(let h=0;h<o.length;h++)if(this.equalsFn(o[h][0],e))return void(o[h]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[i]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){gr(this.inner,(i,s)=>{for(const[o,h]of s)e(o,h)})}isEmpty(){return pv(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uS=new ie(ft.comparator);function xi(){return uS}const Uv=new ie(ft.comparator);function jl(...r){let e=Uv;for(const i of r)e=e.insert(i.key,i);return e}function zv(r){let e=Uv;return r.forEach((i,s)=>e=e.insert(i,s.overlayedDocument)),e}function ur(){return Fl()}function Lv(){return Fl()}function Fl(){return new pr(r=>r.toString(),(r,e)=>r.isEqual(e))}const cS=new ie(ft.comparator),hS=new be(ft.comparator);function Vt(...r){let e=hS;for(const i of r)e=e.add(i);return e}const fS=new be(Rt);function dS(){return fS}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ad(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ku(e)?"-0":e}}function Pv(r){return{integerValue:""+r}}function mS(r,e){return kA(e)?Pv(e):Ad(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mc{constructor(){this._=void 0}}function gS(r,e,i){return r instanceof Ju?function(o,h){const d={fields:{[vv]:{stringValue:_v},[Tv]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return h&&_d(h)&&(h=hc(h)),h&&(d.fields[Ev]=h),{mapValue:d}}(i,e):r instanceof eo?jv(r,e):r instanceof no?kv(r,e):function(o,h){const d=Bv(o,h),g=e_(d)+e_(o.Re);return $f(d)&&$f(o.Re)?Pv(g):Ad(o.serializer,g)}(r,e)}function pS(r,e,i){return r instanceof eo?jv(r,e):r instanceof no?kv(r,e):i}function Bv(r,e){return r instanceof Wu?function(s){return $f(s)||function(h){return!!h&&"doubleValue"in h}(s)}(e)?e:{integerValue:0}:null}class Ju extends mc{}class eo extends mc{constructor(e){super(),this.elements=e}}function jv(r,e){const i=qv(e);for(const s of r.elements)i.some(o=>ii(o,s))||i.push(s);return{arrayValue:{values:i}}}class no extends mc{constructor(e){super(),this.elements=e}}function kv(r,e){let i=qv(e);for(const s of r.elements)i=i.filter(o=>!ii(o,s));return{arrayValue:{values:i}}}class Wu extends mc{constructor(e,i){super(),this.serializer=e,this.Re=i}}function e_(r){return he(r.integerValue||r.doubleValue)}function qv(r){return vd(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function yS(r,e){return r.field.isEqual(e.field)&&function(s,o){return s instanceof eo&&o instanceof eo||s instanceof no&&o instanceof no?_s(s.elements,o.elements,ii):s instanceof Wu&&o instanceof Wu?ii(s.Re,o.Re):s instanceof Ju&&o instanceof Ju}(r.transform,e.transform)}class _S{constructor(e,i){this.version=e,this.transformResults=i}}class Ni{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new Ni}static exists(e){return new Ni(void 0,e)}static updateTime(e){return new Ni(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Hu(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class gc{}function Hv(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Fv(r.key,Ni.none()):new ro(r.key,r.data,Ni.none());{const i=r.data,s=wn.empty();let o=new be(Be.comparator);for(let h of e.fields)if(!o.has(h)){let d=i.field(h);d===null&&h.length>1&&(h=h.popLast(),d=i.field(h)),d===null?s.delete(h):s.set(h,d),o=o.add(h)}return new yr(r.key,s,new xn(o.toArray()),Ni.none())}}function vS(r,e,i){r instanceof ro?function(o,h,d){const g=o.value.clone(),_=i_(o.fieldTransforms,h,d.transformResults);g.setAll(_),h.convertToFoundDocument(d.version,g).setHasCommittedMutations()}(r,e,i):r instanceof yr?function(o,h,d){if(!Hu(o.precondition,h))return void h.convertToUnknownDocument(d.version);const g=i_(o.fieldTransforms,h,d.transformResults),_=h.data;_.setAll(Gv(o)),_.setAll(g),h.convertToFoundDocument(d.version,_).setHasCommittedMutations()}(r,e,i):function(o,h,d){h.convertToNoDocument(d.version).setHasCommittedMutations()}(0,e,i)}function Ql(r,e,i,s){return r instanceof ro?function(h,d,g,_){if(!Hu(h.precondition,d))return g;const v=h.value.clone(),A=a_(h.fieldTransforms,_,d);return v.setAll(A),d.convertToFoundDocument(d.version,v).setHasLocalMutations(),null}(r,e,i,s):r instanceof yr?function(h,d,g,_){if(!Hu(h.precondition,d))return g;const v=a_(h.fieldTransforms,_,d),A=d.data;return A.setAll(Gv(h)),A.setAll(v),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),g===null?null:g.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map(I=>I.field))}(r,e,i,s):function(h,d,g){return Hu(h.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g}(r,e,i)}function ES(r,e){let i=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),h=Bv(s.transform,o||null);h!=null&&(i===null&&(i=wn.empty()),i.set(s.field,h))}return i||null}function n_(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&_s(s,o,(h,d)=>yS(h,d))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class ro extends gc{constructor(e,i,s,o=[]){super(),this.key=e,this.value=i,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class yr extends gc{constructor(e,i,s,o,h=[]){super(),this.key=e,this.data=i,this.fieldMask=s,this.precondition=o,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function Gv(r){const e=new Map;return r.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const s=r.data.field(i);e.set(i,s)}}),e}function i_(r,e,i){const s=new Map;qt(r.length===i.length,32656,{Ve:i.length,me:r.length});for(let o=0;o<i.length;o++){const h=r[o],d=h.transform,g=e.data.field(h.field);s.set(h.field,pS(d,g,i[o]))}return s}function a_(r,e,i){const s=new Map;for(const o of r){const h=o.transform,d=i.data.field(o.field);s.set(o.field,gS(h,d,e))}return s}class Fv extends gc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class TS extends gc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AS{constructor(e,i,s,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,i){const s=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const h=this.mutations[o];h.key.isEqual(e.key)&&vS(h,e,s[o])}}applyToLocalView(e,i){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(i=Ql(s,e,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(i=Ql(s,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const s=Lv();return this.mutations.forEach(o=>{const h=e.get(o.key),d=h.overlayedDocument;let g=this.applyToLocalView(d,h.mutatedFields);g=i.has(o.key)?null:g;const _=Hv(d,g);_!==null&&s.set(o.key,_),d.isValidDocument()||d.convertToNoDocument(Et.min())}),s}keys(){return this.mutations.reduce((e,i)=>e.add(i.key),Vt())}isEqual(e){return this.batchId===e.batchId&&_s(this.mutations,e.mutations,(i,s)=>n_(i,s))&&_s(this.baseMutations,e.baseMutations,(i,s)=>n_(i,s))}}class Sd{constructor(e,i,s,o){this.batch=e,this.commitVersion=i,this.mutationResults=s,this.docVersions=o}static from(e,i,s){qt(e.mutations.length===s.length,58842,{fe:e.mutations.length,ge:s.length});let o=function(){return cS}();const h=e.mutations;for(let d=0;d<h.length;d++)o=o.insert(h[d].key,s[d].version);return new Sd(e,i,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SS{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bS{constructor(e,i){this.count=e,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pe,Ut;function RS(r){switch(r){case J.OK:return pt(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return pt(15467,{code:r})}}function Qv(r){if(r===void 0)return Mi("GRPC error has no .code"),J.UNKNOWN;switch(r){case pe.OK:return J.OK;case pe.CANCELLED:return J.CANCELLED;case pe.UNKNOWN:return J.UNKNOWN;case pe.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case pe.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case pe.INTERNAL:return J.INTERNAL;case pe.UNAVAILABLE:return J.UNAVAILABLE;case pe.UNAUTHENTICATED:return J.UNAUTHENTICATED;case pe.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case pe.NOT_FOUND:return J.NOT_FOUND;case pe.ALREADY_EXISTS:return J.ALREADY_EXISTS;case pe.PERMISSION_DENIED:return J.PERMISSION_DENIED;case pe.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case pe.ABORTED:return J.ABORTED;case pe.OUT_OF_RANGE:return J.OUT_OF_RANGE;case pe.UNIMPLEMENTED:return J.UNIMPLEMENTED;case pe.DATA_LOSS:return J.DATA_LOSS;default:return pt(39323,{code:r})}}(Ut=pe||(pe={}))[Ut.OK=0]="OK",Ut[Ut.CANCELLED=1]="CANCELLED",Ut[Ut.UNKNOWN=2]="UNKNOWN",Ut[Ut.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ut[Ut.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ut[Ut.NOT_FOUND=5]="NOT_FOUND",Ut[Ut.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ut[Ut.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ut[Ut.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ut[Ut.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ut[Ut.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ut[Ut.ABORTED=10]="ABORTED",Ut[Ut.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ut[Ut.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ut[Ut.INTERNAL=13]="INTERNAL",Ut[Ut.UNAVAILABLE=14]="UNAVAILABLE",Ut[Ut.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wS=new da([4294967295,4294967295],0);function r_(r){const e=dv().encode(r),i=new rv;return i.update(e),new Uint8Array(i.digest())}function s_(r){const e=new DataView(r.buffer),i=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),h=e.getUint32(12,!0);return[new da([i,s],0),new da([o,h],0)]}class bd{constructor(e,i,s){if(this.bitmap=e,this.padding=i,this.hashCount=s,i<0||i>=8)throw new kl(`Invalid padding: ${i}`);if(s<0)throw new kl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new kl(`Invalid hash count: ${s}`);if(e.length===0&&i!==0)throw new kl(`Invalid padding when bitmap length is 0: ${i}`);this.pe=8*e.length-i,this.ye=da.fromNumber(this.pe)}we(e,i,s){let o=e.add(i.multiply(da.fromNumber(s)));return o.compare(wS)===1&&(o=new da([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const i=r_(e),[s,o]=s_(i);for(let h=0;h<this.hashCount;h++){const d=this.we(s,o,h);if(!this.be(d))return!1}return!0}static create(e,i,s){const o=e%8==0?0:8-e%8,h=new Uint8Array(Math.ceil(e/8)),d=new bd(h,o,i);return s.forEach(g=>d.insert(g)),d}insert(e){if(this.pe===0)return;const i=r_(e),[s,o]=s_(i);for(let h=0;h<this.hashCount;h++){const d=this.we(s,o,h);this.Se(d)}}Se(e){const i=Math.floor(e/8),s=e%8;this.bitmap[i]|=1<<s}}class kl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc{constructor(e,i,s,o,h){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(e,i,s){const o=new Map;return o.set(e,so.createSynthesizedTargetChangeForCurrentChange(e,i,s)),new pc(Et.min(),o,new ie(Rt),xi(),Vt())}}class so{constructor(e,i,s,o,h){this.resumeToken=e,this.current=i,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(e,i,s){return new so(s,i,Vt(),Vt(),Vt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gu{constructor(e,i,s,o){this.De=e,this.removedTargetIds=i,this.key=s,this.ve=o}}class Yv{constructor(e,i){this.targetId=e,this.Ce=i}}class Kv{constructor(e,i,s=je.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=s,this.cause=o}}class l_{constructor(){this.Fe=0,this.Me=o_(),this.xe=je.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=Vt(),i=Vt(),s=Vt();return this.Me.forEach((o,h)=>{switch(h){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:s=s.add(o);break;default:pt(38017,{changeType:h})}}),new so(this.xe,this.Oe,e,i,s)}Qe(){this.Ne=!1,this.Me=o_()}$e(e,i){this.Ne=!0,this.Me=this.Me.insert(e,i)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,qt(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class IS{constructor(e){this.ze=e,this.je=new Map,this.He=xi(),this.Je=Lu(),this.Ye=Lu(),this.Ze=new ie(Rt)}Xe(e){for(const i of e.De)e.ve&&e.ve.isFoundDocument()?this.et(i,e.ve):this.tt(i,e.key,e.ve);for(const i of e.removedTargetIds)this.tt(i,e.key,e.ve)}nt(e){this.forEachTarget(e,i=>{const s=this.rt(i);switch(e.state){case 0:this.it(i)&&s.ke(e.resumeToken);break;case 1:s.We(),s.Be||s.Qe(),s.ke(e.resumeToken);break;case 2:s.We(),s.Be||this.removeTarget(i);break;case 3:this.it(i)&&(s.Ge(),s.ke(e.resumeToken));break;case 4:this.it(i)&&(this.st(i),s.ke(e.resumeToken));break;default:pt(56790,{state:e.state})}})}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.je.forEach((s,o)=>{this.it(o)&&i(o)})}ot(e){const i=e.targetId,s=e.Ce.count,o=this._t(i);if(o){const h=o.target;if(Jf(h))if(s===0){const d=new ft(h.path);this.tt(i,d,Qe.newNoDocument(d,Et.min()))}else qt(s===1,20013,{expectedCount:s});else{const d=this.ut(i);if(d!==s){const g=this.ct(e),_=g?this.lt(g,e,d):1;if(_!==0){this.st(i);const v=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(i,v)}}}}}ct(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:h=0}=i;let d,g;try{d=Ea(s).toUint8Array()}catch(_){if(_ instanceof yv)return ys("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{g=new bd(d,o,h)}catch(_){return ys(_ instanceof kl?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return g.pe===0?null:g}lt(e,i,s){return i.Ce.count===s-this.Tt(e,i.targetId)?0:2}Tt(e,i){const s=this.ze.getRemoteKeysForTarget(i);let o=0;return s.forEach(h=>{const d=this.ze.Pt(),g=`projects/${d.projectId}/databases/${d.database}/documents/${h.path.canonicalString()}`;e.mightContain(g)||(this.tt(i,h,null),o++)}),o}It(e){const i=new Map;this.je.forEach((h,d)=>{const g=this._t(d);if(g){if(h.current&&Jf(g.target)){const _=new ft(g.target.path);this.Et(_).has(d)||this.dt(d,_)||this.tt(d,_,Qe.newNoDocument(_,e))}h.Le&&(i.set(d,h.qe()),h.Qe())}});let s=Vt();this.Ye.forEach((h,d)=>{let g=!0;d.forEachWhile(_=>{const v=this._t(_);return!v||v.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)}),g&&(s=s.add(h))}),this.He.forEach((h,d)=>d.setReadTime(e));const o=new pc(e,i,this.Ze,this.He,s);return this.He=xi(),this.Je=Lu(),this.Ye=Lu(),this.Ze=new ie(Rt),o}et(e,i){if(!this.it(e))return;const s=this.dt(e,i.key)?2:0;this.rt(e).$e(i.key,s),this.He=this.He.insert(i.key,i),this.Je=this.Je.insert(i.key,this.Et(i.key).add(e)),this.Ye=this.Ye.insert(i.key,this.At(i.key).add(e))}tt(e,i,s){if(!this.it(e))return;const o=this.rt(e);this.dt(e,i)?o.$e(i,1):o.Ue(i),this.Ye=this.Ye.insert(i,this.At(i).delete(e)),this.Ye=this.Ye.insert(i,this.At(i).add(e)),s&&(this.He=this.He.insert(i,s))}removeTarget(e){this.je.delete(e)}ut(e){const i=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let i=this.je.get(e);return i||(i=new l_,this.je.set(e,i)),i}At(e){let i=this.Ye.get(e);return i||(i=new be(Rt),this.Ye=this.Ye.insert(e,i)),i}Et(e){let i=this.Je.get(e);return i||(i=new be(Rt),this.Je=this.Je.insert(e,i)),i}it(e){const i=this._t(e)!==null;return i||st("WatchChangeAggregator","Detected inactive target",e),i}_t(e){const i=this.je.get(e);return i&&i.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new l_),this.ze.getRemoteKeysForTarget(e).forEach(i=>{this.tt(e,i,null)})}dt(e,i){return this.ze.getRemoteKeysForTarget(e).has(i)}}function Lu(){return new ie(ft.comparator)}function o_(){return new ie(ft.comparator)}const CS={asc:"ASCENDING",desc:"DESCENDING"},DS={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},NS={and:"AND",or:"OR"};class VS{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function ed(r,e){return r.useProto3Json||cc(e)?e:{value:e}}function tc(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Xv(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function OS(r,e){return tc(r,e.toTimestamp())}function ni(r){return qt(!!r,49232),Et.fromTimestamp(function(i){const s=va(i);return new _e(s.seconds,s.nanos)}(r))}function Rd(r,e){return nd(r,e).canonicalString()}function nd(r,e){const i=function(o){return new Wt(["projects",o.projectId,"databases",o.database])}(r).child("documents");return e===void 0?i:i.child(e)}function $v(r){const e=Wt.fromString(r);return qt(e0(e),10190,{key:e.toString()}),e}function id(r,e){return Rd(r.databaseId,e.path)}function Uf(r,e){const i=$v(e);if(i.get(1)!==r.databaseId.projectId)throw new lt(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new lt(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new ft(Jv(i))}function Zv(r,e){return Rd(r.databaseId,e)}function MS(r){const e=$v(r);return e.length===4?Wt.emptyPath():Jv(e)}function ad(r){return new Wt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function Jv(r){return qt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function u_(r,e,i){return{name:id(r,e),fields:i.value.mapValue.fields}}function xS(r,e){let i;if("targetChange"in e){e.targetChange;const s=function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:pt(39313,{state:v})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],h=function(v,A){return v.useProto3Json?(qt(A===void 0||typeof A=="string",58123),je.fromBase64String(A||"")):(qt(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),je.fromUint8Array(A||new Uint8Array))}(r,e.targetChange.resumeToken),d=e.targetChange.cause,g=d&&function(v){const A=v.code===void 0?J.UNKNOWN:Qv(v.code);return new lt(A,v.message||"")}(d);i=new Kv(s,o,h,g||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Uf(r,s.document.name),h=ni(s.document.updateTime),d=s.document.createTime?ni(s.document.createTime):Et.min(),g=new wn({mapValue:{fields:s.document.fields}}),_=Qe.newFoundDocument(o,h,d,g),v=s.targetIds||[],A=s.removedTargetIds||[];i=new Gu(v,A,_.key,_)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Uf(r,s.document),h=s.readTime?ni(s.readTime):Et.min(),d=Qe.newNoDocument(o,h),g=s.removedTargetIds||[];i=new Gu([],g,d.key,d)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Uf(r,s.document),h=s.removedTargetIds||[];i=new Gu([],h,o,null)}else{if(!("filter"in e))return pt(11601,{Vt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:h}=s,d=new bS(o,h),g=s.targetId;i=new Yv(g,d)}}return i}function US(r,e){let i;if(e instanceof ro)i={update:u_(r,e.key,e.value)};else if(e instanceof Fv)i={delete:id(r,e.key)};else if(e instanceof yr)i={update:u_(r,e.key,e.data),updateMask:GS(e.fieldMask)};else{if(!(e instanceof TS))return pt(16599,{ft:e.type});i={verify:id(r,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map(s=>function(h,d){const g=d.transform;if(g instanceof Ju)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof eo)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof no)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof Wu)return{fieldPath:d.field.canonicalString(),increment:g.Re};throw pt(20930,{transform:d.transform})}(0,s))),e.precondition.isNone||(i.currentDocument=function(o,h){return h.updateTime!==void 0?{updateTime:OS(o,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:pt(27497)}(r,e.precondition)),i}function zS(r,e){return r&&r.length>0?(qt(e!==void 0,14353),r.map(i=>function(o,h){let d=o.updateTime?ni(o.updateTime):ni(h);return d.isEqual(Et.min())&&(d=ni(h)),new _S(d,o.transformResults||[])}(i,e))):[]}function LS(r,e){return{documents:[Zv(r,e.path)]}}function PS(r,e){const i={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=Zv(r,o);const h=function(v){if(v.length!==0)return t0(Un.create(v,"and"))}(e.filters);h&&(i.structuredQuery.where=h);const d=function(v){if(v.length!==0)return v.map(A=>function(N){return{field:ms(N.field),direction:kS(N.dir)}}(A))}(e.orderBy);d&&(i.structuredQuery.orderBy=d);const g=ed(r,e.limit);return g!==null&&(i.structuredQuery.limit=g),e.startAt&&(i.structuredQuery.startAt=function(v){return{before:v.inclusive,values:v.position}}(e.startAt)),e.endAt&&(i.structuredQuery.endAt=function(v){return{before:!v.inclusive,values:v.position}}(e.endAt)),{gt:i,parent:o}}function BS(r){let e=MS(r.parent);const i=r.structuredQuery,s=i.from?i.from.length:0;let o=null;if(s>0){qt(s===1,65062);const A=i.from[0];A.allDescendants?o=A.collectionId:e=e.child(A.collectionId)}let h=[];i.where&&(h=function(I){const N=Wv(I);return N instanceof Un&&Iv(N)?N.getFilters():[N]}(i.where));let d=[];i.orderBy&&(d=function(I){return I.map(N=>function(F){return new to(gs(F.field),function(Y){switch(Y){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(F.direction))}(N))}(i.orderBy));let g=null;i.limit&&(g=function(I){let N;return N=typeof I=="object"?I.value:I,cc(N)?null:N}(i.limit));let _=null;i.startAt&&(_=function(I){const N=!!I.before,q=I.values||[];return new Zu(q,N)}(i.startAt));let v=null;return i.endAt&&(v=function(I){const N=!I.before,q=I.values||[];return new Zu(q,N)}(i.endAt)),rS(e,o,d,h,g,"F",_,v)}function jS(r,e){const i=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return pt(28987,{purpose:o})}}(e.purpose);return i==null?null:{"goog-listen-tags":i}}function Wv(r){return r.unaryFilter!==void 0?function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=gs(i.unaryFilter.field);return ye.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=gs(i.unaryFilter.field);return ye.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=gs(i.unaryFilter.field);return ye.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=gs(i.unaryFilter.field);return ye.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return pt(61313);default:return pt(60726)}}(r):r.fieldFilter!==void 0?function(i){return ye.create(gs(i.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return pt(58110);default:return pt(50506)}}(i.fieldFilter.op),i.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(i){return Un.create(i.compositeFilter.filters.map(s=>Wv(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return pt(1026)}}(i.compositeFilter.op))}(r):pt(30097,{filter:r})}function kS(r){return CS[r]}function qS(r){return DS[r]}function HS(r){return NS[r]}function ms(r){return{fieldPath:r.canonicalString()}}function gs(r){return Be.fromServerFormat(r.fieldPath)}function t0(r){return r instanceof ye?function(i){if(i.op==="=="){if($y(i.value))return{unaryFilter:{field:ms(i.field),op:"IS_NAN"}};if(Xy(i.value))return{unaryFilter:{field:ms(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if($y(i.value))return{unaryFilter:{field:ms(i.field),op:"IS_NOT_NAN"}};if(Xy(i.value))return{unaryFilter:{field:ms(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ms(i.field),op:qS(i.op),value:i.value}}}(r):r instanceof Un?function(i){const s=i.getFilters().map(o=>t0(o));return s.length===1?s[0]:{compositeFilter:{op:HS(i.op),filters:s}}}(r):pt(54877,{filter:r})}function GS(r){const e=[];return r.fields.forEach(i=>e.push(i.canonicalString())),{fieldPaths:e}}function e0(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca{constructor(e,i,s,o,h=Et.min(),d=Et.min(),g=je.EMPTY_BYTE_STRING,_=null){this.target=e,this.targetId=i,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=_}withSequenceNumber(e){return new ca(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new ca(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ca(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ca(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FS{constructor(e){this.wt=e}}function QS(r){const e=BS({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?td(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YS{constructor(){this.yn=new KS}addToCollectionParentIndex(e,i){return this.yn.add(i),Z.resolve()}getCollectionParents(e,i){return Z.resolve(this.yn.getEntries(i))}addFieldIndex(e,i){return Z.resolve()}deleteFieldIndex(e,i){return Z.resolve()}deleteAllFieldIndexes(e){return Z.resolve()}createTargetIndexes(e,i){return Z.resolve()}getDocumentsMatchingTarget(e,i){return Z.resolve(null)}getIndexType(e,i){return Z.resolve(0)}getFieldIndexes(e,i){return Z.resolve([])}getNextCollectionGroupToUpdate(e){return Z.resolve(null)}getMinOffset(e,i){return Z.resolve(_a.min())}getMinOffsetFromCollectionGroup(e,i){return Z.resolve(_a.min())}updateCollectionGroup(e,i,s){return Z.resolve()}updateIndexEntries(e,i){return Z.resolve()}}class KS{constructor(){this.index={}}add(e){const i=e.lastSegment(),s=e.popLast(),o=this.index[i]||new be(Wt.comparator),h=!o.has(s);return this.index[i]=o.add(s),h}has(e){const i=e.lastSegment(),s=e.popLast(),o=this.index[i];return o&&o.has(s)}getEntries(e){return(this.index[e]||new be(Wt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},n0=41943040;class tn{static withCacheSize(e){return new tn(e,tn.DEFAULT_COLLECTION_PERCENTILE,tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */tn.DEFAULT_COLLECTION_PERCENTILE=10,tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,tn.DEFAULT=new tn(n0,tn.DEFAULT_COLLECTION_PERCENTILE,tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),tn.DISABLED=new tn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts{constructor(e){this.nr=e}next(){return this.nr+=2,this.nr}static rr(){return new Ts(0)}static ir(){return new Ts(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h_="LruGarbageCollector",XS=1048576;function f_([r,e],[i,s]){const o=Rt(r,i);return o===0?Rt(e,s):o}class $S{constructor(e){this.cr=e,this.buffer=new be(f_),this.lr=0}hr(){return++this.lr}Pr(e){const i=[e,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();f_(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class ZS{constructor(e,i,s){this.garbageCollector=e,this.asyncQueue=i,this.localStore=s,this.Tr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return this.Tr!==null}Ir(e){st(h_,`Garbage collection scheduled in ${e}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Tr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){ws(i)?st(h_,"Ignoring IndexedDB error during garbage collection: ",i):await Rs(i)}await this.Ir(3e5)})}}class JS{constructor(e,i){this.Er=e,this.params=i}calculateTargetCount(e,i){return this.Er.dr(e).next(s=>Math.floor(i/100*s))}nthSequenceNumber(e,i){if(i===0)return Z.resolve(uc.le);const s=new $S(i);return this.Er.forEachTarget(e,o=>s.Pr(o.sequenceNumber)).next(()=>this.Er.Ar(e,o=>s.Pr(o))).next(()=>s.maxValue)}removeTargets(e,i,s){return this.Er.removeTargets(e,i,s)}removeOrphanedDocuments(e,i){return this.Er.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(st("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(c_)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(st("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),c_):this.Rr(e,i))}getCacheSize(e){return this.Er.getCacheSize(e)}Rr(e,i){let s,o,h,d,g,_,v;const A=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(I=>(I>this.params.maximumSequenceNumbersToCollect?(st("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${I}`),o=this.params.maximumSequenceNumbersToCollect):o=I,d=Date.now(),this.nthSequenceNumber(e,o))).next(I=>(s=I,g=Date.now(),this.removeTargets(e,s,i))).next(I=>(h=I,_=Date.now(),this.removeOrphanedDocuments(e,s))).next(I=>(v=Date.now(),fs()<=zt.DEBUG&&st("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${o} in `+(g-d)+`ms
	Removed ${h} targets in `+(_-g)+`ms
	Removed ${I} documents in `+(v-_)+`ms
Total Duration: ${v-A}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:h,documentsRemoved:I})))}}function WS(r,e){return new JS(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tb{constructor(){this.changes=new pr(e=>e.toString(),(e,i)=>e.isEqual(i)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Qe.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const s=this.changes.get(i);return s!==void 0?Z.resolve(s):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eb{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nb{constructor(e,i,s,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,i){let s=null;return this.documentOverlayCache.getOverlay(e,i).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,i))).next(o=>(s!==null&&Ql(s.mutation,o,xn.empty(),_e.now()),o))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next(s=>this.getLocalViewOfDocuments(e,s,Vt()).next(()=>s))}getLocalViewOfDocuments(e,i,s=Vt()){const o=ur();return this.populateOverlays(e,o,i).next(()=>this.computeViews(e,i,o,s).next(h=>{let d=jl();return h.forEach((g,_)=>{d=d.insert(g,_.overlayedDocument)}),d}))}getOverlayedDocuments(e,i){const s=ur();return this.populateOverlays(e,s,i).next(()=>this.computeViews(e,i,s,Vt()))}populateOverlays(e,i,s){const o=[];return s.forEach(h=>{i.has(h)||o.push(h)}),this.documentOverlayCache.getOverlays(e,o).next(h=>{h.forEach((d,g)=>{i.set(d,g)})})}computeViews(e,i,s,o){let h=xi();const d=Fl(),g=function(){return Fl()}();return i.forEach((_,v)=>{const A=s.get(v.key);o.has(v.key)&&(A===void 0||A.mutation instanceof yr)?h=h.insert(v.key,v):A!==void 0?(d.set(v.key,A.mutation.getFieldMask()),Ql(A.mutation,v,A.mutation.getFieldMask(),_e.now())):d.set(v.key,xn.empty())}),this.recalculateAndSaveOverlays(e,h).next(_=>(_.forEach((v,A)=>d.set(v,A)),i.forEach((v,A)=>{var I;return g.set(v,new eb(A,(I=d.get(v))!==null&&I!==void 0?I:null))}),g))}recalculateAndSaveOverlays(e,i){const s=Fl();let o=new ie((d,g)=>d-g),h=Vt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next(d=>{for(const g of d)g.keys().forEach(_=>{const v=i.get(_);if(v===null)return;let A=s.get(_)||xn.empty();A=g.applyToLocalView(v,A),s.set(_,A);const I=(o.get(g.batchId)||Vt()).add(_);o=o.insert(g.batchId,I)})}).next(()=>{const d=[],g=o.getReverseIterator();for(;g.hasNext();){const _=g.getNext(),v=_.key,A=_.value,I=Lv();A.forEach(N=>{if(!h.has(N)){const q=Hv(i.get(N),s.get(N));q!==null&&I.set(N,q),h=h.add(N)}}),d.push(this.documentOverlayCache.saveOverlays(e,v,I))}return Z.waitFor(d)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,i,s,o){return function(d){return ft.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):Ov(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,s,o):this.getDocumentsMatchingCollectionQuery(e,i,s,o)}getNextDocuments(e,i,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,s,o).next(h=>{const d=o-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,s.largestBatchId,o-h.size):Z.resolve(ur());let g=$l,_=h;return d.next(v=>Z.forEach(v,(A,I)=>(g<I.largestBatchId&&(g=I.largestBatchId),h.get(A)?Z.resolve():this.remoteDocumentCache.getEntry(e,A).next(N=>{_=_.insert(A,N)}))).next(()=>this.populateOverlays(e,v,h)).next(()=>this.computeViews(e,_,v,Vt())).next(A=>({batchId:g,changes:zv(A)})))})}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new ft(i)).next(s=>{let o=jl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,i,s,o){const h=i.collectionGroup;let d=jl();return this.indexManager.getCollectionParents(e,h).next(g=>Z.forEach(g,_=>{const v=function(I,N){return new Is(N,null,I.explicitOrderBy.slice(),I.filters.slice(),I.limit,I.limitType,I.startAt,I.endAt)}(i,_.child(h));return this.getDocumentsMatchingCollectionQuery(e,v,s,o).next(A=>{A.forEach((I,N)=>{d=d.insert(I,N)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(e,i,s,o){let h;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,s.largestBatchId).next(d=>(h=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,s,h,o))).next(d=>{h.forEach((_,v)=>{const A=v.getKey();d.get(A)===null&&(d=d.insert(A,Qe.newInvalidDocument(A)))});let g=jl();return d.forEach((_,v)=>{const A=h.get(_);A!==void 0&&Ql(A.mutation,v,xn.empty(),_e.now()),dc(i,v)&&(g=g.insert(_,v))}),g})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ib{constructor(e){this.serializer=e,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(e,i){return Z.resolve(this.Fr.get(i))}saveBundleMetadata(e,i){return this.Fr.set(i.id,function(o){return{id:o.id,version:o.version,createTime:ni(o.createTime)}}(i)),Z.resolve()}getNamedQuery(e,i){return Z.resolve(this.Mr.get(i))}saveNamedQuery(e,i){return this.Mr.set(i.name,function(o){return{name:o.name,query:QS(o.bundledQuery),readTime:ni(o.readTime)}}(i)),Z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ab{constructor(){this.overlays=new ie(ft.comparator),this.Or=new Map}getOverlay(e,i){return Z.resolve(this.overlays.get(i))}getOverlays(e,i){const s=ur();return Z.forEach(i,o=>this.getOverlay(e,o).next(h=>{h!==null&&s.set(o,h)})).next(()=>s)}saveOverlays(e,i,s){return s.forEach((o,h)=>{this.St(e,i,h)}),Z.resolve()}removeOverlaysForBatchId(e,i,s){const o=this.Or.get(s);return o!==void 0&&(o.forEach(h=>this.overlays=this.overlays.remove(h)),this.Or.delete(s)),Z.resolve()}getOverlaysForCollection(e,i,s){const o=ur(),h=i.length+1,d=new ft(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const _=g.getNext().value,v=_.getKey();if(!i.isPrefixOf(v.path))break;v.path.length===h&&_.largestBatchId>s&&o.set(_.getKey(),_)}return Z.resolve(o)}getOverlaysForCollectionGroup(e,i,s,o){let h=new ie((v,A)=>v-A);const d=this.overlays.getIterator();for(;d.hasNext();){const v=d.getNext().value;if(v.getKey().getCollectionGroup()===i&&v.largestBatchId>s){let A=h.get(v.largestBatchId);A===null&&(A=ur(),h=h.insert(v.largestBatchId,A)),A.set(v.getKey(),v)}}const g=ur(),_=h.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach((v,A)=>g.set(v,A)),!(g.size()>=o)););return Z.resolve(g)}St(e,i,s){const o=this.overlays.get(s.key);if(o!==null){const d=this.Or.get(o.largestBatchId).delete(s.key);this.Or.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new SS(i,s));let h=this.Or.get(i);h===void 0&&(h=Vt(),this.Or.set(i,h)),this.Or.set(i,h.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rb{constructor(){this.sessionToken=je.EMPTY_BYTE_STRING}getSessionToken(e){return Z.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,Z.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wd{constructor(){this.Nr=new be(Ve.Br),this.Lr=new be(Ve.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(e,i){const s=new Ve(e,i);this.Nr=this.Nr.add(s),this.Lr=this.Lr.add(s)}qr(e,i){e.forEach(s=>this.addReference(s,i))}removeReference(e,i){this.Qr(new Ve(e,i))}$r(e,i){e.forEach(s=>this.removeReference(s,i))}Ur(e){const i=new ft(new Wt([])),s=new Ve(i,e),o=new Ve(i,e+1),h=[];return this.Lr.forEachInRange([s,o],d=>{this.Qr(d),h.push(d.key)}),h}Kr(){this.Nr.forEach(e=>this.Qr(e))}Qr(e){this.Nr=this.Nr.delete(e),this.Lr=this.Lr.delete(e)}Wr(e){const i=new ft(new Wt([])),s=new Ve(i,e),o=new Ve(i,e+1);let h=Vt();return this.Lr.forEachInRange([s,o],d=>{h=h.add(d.key)}),h}containsKey(e){const i=new Ve(e,0),s=this.Nr.firstAfterOrEqual(i);return s!==null&&e.isEqual(s.key)}}class Ve{constructor(e,i){this.key=e,this.Gr=i}static Br(e,i){return ft.comparator(e.key,i.key)||Rt(e.Gr,i.Gr)}static kr(e,i){return Rt(e.Gr,i.Gr)||ft.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sb{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.Jn=1,this.zr=new be(Ve.Br)}checkEmpty(e){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,s,o){const h=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new AS(h,i,s,o);this.mutationQueue.push(d);for(const g of o)this.zr=this.zr.add(new Ve(g.key,h)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return Z.resolve(d)}lookupMutationBatch(e,i){return Z.resolve(this.jr(i))}getNextMutationBatchAfterBatchId(e,i){const s=i+1,o=this.Hr(s),h=o<0?0:o;return Z.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?yd:this.Jn-1)}getAllMutationBatches(e){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const s=new Ve(i,0),o=new Ve(i,Number.POSITIVE_INFINITY),h=[];return this.zr.forEachInRange([s,o],d=>{const g=this.jr(d.Gr);h.push(g)}),Z.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(e,i){let s=new be(Rt);return i.forEach(o=>{const h=new Ve(o,0),d=new Ve(o,Number.POSITIVE_INFINITY);this.zr.forEachInRange([h,d],g=>{s=s.add(g.Gr)})}),Z.resolve(this.Jr(s))}getAllMutationBatchesAffectingQuery(e,i){const s=i.path,o=s.length+1;let h=s;ft.isDocumentKey(h)||(h=h.child(""));const d=new Ve(new ft(h),0);let g=new be(Rt);return this.zr.forEachWhile(_=>{const v=_.key.path;return!!s.isPrefixOf(v)&&(v.length===o&&(g=g.add(_.Gr)),!0)},d),Z.resolve(this.Jr(g))}Jr(e){const i=[];return e.forEach(s=>{const o=this.jr(s);o!==null&&i.push(o)}),i}removeMutationBatch(e,i){qt(this.Yr(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.zr;return Z.forEach(i.mutations,o=>{const h=new Ve(o.key,i.batchId);return s=s.delete(h),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.zr=s})}Xn(e){}containsKey(e,i){const s=new Ve(i,0),o=this.zr.firstAfterOrEqual(s);return Z.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,Z.resolve()}Yr(e,i){return this.Hr(e)}Hr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}jr(e){const i=this.Hr(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lb{constructor(e){this.Zr=e,this.docs=function(){return new ie(ft.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const s=i.key,o=this.docs.get(s),h=o?o.size:0,d=this.Zr(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:d}),this.size+=d-h,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const s=this.docs.get(i);return Z.resolve(s?s.document.mutableCopy():Qe.newInvalidDocument(i))}getEntries(e,i){let s=xi();return i.forEach(o=>{const h=this.docs.get(o);s=s.insert(o,h?h.document.mutableCopy():Qe.newInvalidDocument(o))}),Z.resolve(s)}getDocumentsMatchingQuery(e,i,s,o){let h=xi();const d=i.path,g=new ft(d.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(g);for(;_.hasNext();){const{key:v,value:{document:A}}=_.getNext();if(!d.isPrefixOf(v.path))break;v.path.length>d.length+1||LA(zA(A),s)<=0||(o.has(A.key)||dc(i,A))&&(h=h.insert(A.key,A.mutableCopy()))}return Z.resolve(h)}getAllFromCollectionGroup(e,i,s,o){pt(9500)}Xr(e,i){return Z.forEach(this.docs,s=>i(s))}newChangeBuffer(e){return new ob(this)}getSize(e){return Z.resolve(this.size)}}class ob extends tb{constructor(e){super(),this.vr=e}applyChanges(e){const i=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?i.push(this.vr.addEntry(e,o)):this.vr.removeEntry(s)}),Z.waitFor(i)}getFromCache(e,i){return this.vr.getEntry(e,i)}getAllFromCache(e,i){return this.vr.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ub{constructor(e){this.persistence=e,this.ei=new pr(i=>Ed(i),Td),this.lastRemoteSnapshotVersion=Et.min(),this.highestTargetId=0,this.ti=0,this.ni=new wd,this.targetCount=0,this.ri=Ts.rr()}forEachTarget(e,i){return this.ei.forEach((s,o)=>i(o)),Z.resolve()}getLastRemoteSnapshotVersion(e){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Z.resolve(this.ti)}allocateTargetId(e){return this.highestTargetId=this.ri.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(e,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this.ti&&(this.ti=i),Z.resolve()}ar(e){this.ei.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ri=new Ts(i),this.highestTargetId=i),e.sequenceNumber>this.ti&&(this.ti=e.sequenceNumber)}addTargetData(e,i){return this.ar(i),this.targetCount+=1,Z.resolve()}updateTargetData(e,i){return this.ar(i),Z.resolve()}removeTargetData(e,i){return this.ei.delete(i.target),this.ni.Ur(i.targetId),this.targetCount-=1,Z.resolve()}removeTargets(e,i,s){let o=0;const h=[];return this.ei.forEach((d,g)=>{g.sequenceNumber<=i&&s.get(g.targetId)===null&&(this.ei.delete(d),h.push(this.removeMatchingKeysForTargetId(e,g.targetId)),o++)}),Z.waitFor(h).next(()=>o)}getTargetCount(e){return Z.resolve(this.targetCount)}getTargetData(e,i){const s=this.ei.get(i)||null;return Z.resolve(s)}addMatchingKeys(e,i,s){return this.ni.qr(i,s),Z.resolve()}removeMatchingKeys(e,i,s){this.ni.$r(i,s);const o=this.persistence.referenceDelegate,h=[];return o&&i.forEach(d=>{h.push(o.markPotentiallyOrphaned(e,d))}),Z.waitFor(h)}removeMatchingKeysForTargetId(e,i){return this.ni.Ur(i),Z.resolve()}getMatchingKeysForTargetId(e,i){const s=this.ni.Wr(i);return Z.resolve(s)}containsKey(e,i){return Z.resolve(this.ni.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i0{constructor(e,i){this.ii={},this.overlays={},this.si=new uc(0),this.oi=!1,this.oi=!0,this._i=new rb,this.referenceDelegate=e(this),this.ai=new ub(this),this.indexManager=new YS,this.remoteDocumentCache=function(o){return new lb(o)}(s=>this.referenceDelegate.ui(s)),this.serializer=new FS(i),this.ci=new ib(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new ab,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let s=this.ii[e.toKey()];return s||(s=new sb(i,this.referenceDelegate),this.ii[e.toKey()]=s),s}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(e,i,s){st("MemoryPersistence","Starting transaction:",e);const o=new cb(this.si.next());return this.referenceDelegate.li(),s(o).next(h=>this.referenceDelegate.hi(o).next(()=>h)).toPromise().then(h=>(o.raiseOnCommittedEvent(),h))}Pi(e,i){return Z.or(Object.values(this.ii).map(s=>()=>s.containsKey(e,i)))}}class cb extends BA{constructor(e){super(),this.currentSequenceNumber=e}}class Id{constructor(e){this.persistence=e,this.Ti=new wd,this.Ii=null}static Ei(e){return new Id(e)}get di(){if(this.Ii)return this.Ii;throw pt(60996)}addReference(e,i,s){return this.Ti.addReference(s,i),this.di.delete(s.toString()),Z.resolve()}removeReference(e,i,s){return this.Ti.removeReference(s,i),this.di.add(s.toString()),Z.resolve()}markPotentiallyOrphaned(e,i){return this.di.add(i.toString()),Z.resolve()}removeTarget(e,i){this.Ti.Ur(i.targetId).forEach(o=>this.di.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,i.targetId).next(o=>{o.forEach(h=>this.di.add(h.toString()))}).next(()=>s.removeTargetData(e,i))}li(){this.Ii=new Set}hi(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.di,s=>{const o=ft.fromPath(s);return this.Ai(e,o).next(h=>{h||i.removeEntry(o,Et.min())})}).next(()=>(this.Ii=null,i.apply(e)))}updateLimboDocument(e,i){return this.Ai(e,i).next(s=>{s?this.di.delete(i.toString()):this.di.add(i.toString())})}ui(e){return 0}Ai(e,i){return Z.or([()=>Z.resolve(this.Ti.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Pi(e,i)])}}class ec{constructor(e,i){this.persistence=e,this.Ri=new pr(s=>qA(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=WS(this,i)}static Ei(e,i){return new ec(e,i)}li(){}hi(e){return Z.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}dr(e){const i=this.Vr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>i.next(o=>s+o))}Vr(e){let i=0;return this.Ar(e,s=>{i++}).next(()=>i)}Ar(e,i){return Z.forEach(this.Ri,(s,o)=>this.gr(e,s,o).next(h=>h?Z.resolve():i(o)))}removeTargets(e,i,s){return this.persistence.getTargetCache().removeTargets(e,i,s)}removeOrphanedDocuments(e,i){let s=0;const o=this.persistence.getRemoteDocumentCache(),h=o.newChangeBuffer();return o.Xr(e,d=>this.gr(e,d,i).next(g=>{g||(s++,h.removeEntry(d,Et.min()))})).next(()=>h.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,i){return this.Ri.set(i,e.currentSequenceNumber),Z.resolve()}removeTarget(e,i){const s=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,i,s){return this.Ri.set(s,e.currentSequenceNumber),Z.resolve()}removeReference(e,i,s){return this.Ri.set(s,e.currentSequenceNumber),Z.resolve()}updateLimboDocument(e,i){return this.Ri.set(i,e.currentSequenceNumber),Z.resolve()}ui(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=ku(e.data.value)),i}gr(e,i,s){return Z.or([()=>this.persistence.Pi(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.Ri.get(i);return Z.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cd{constructor(e,i,s,o){this.targetId=e,this.fromCache=i,this.ls=s,this.hs=o}static Ps(e,i){let s=Vt(),o=Vt();for(const h of i.docChanges)switch(h.type){case 0:s=s.add(h.doc.key);break;case 1:o=o.add(h.doc.key)}return new Cd(e,i.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hb{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fb{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=function(){return o1()?8:jA(r1())>0?6:4}()}initialize(e,i){this.As=e,this.indexManager=i,this.Ts=!0}getDocumentsMatchingQuery(e,i,s,o){const h={result:null};return this.Rs(e,i).next(d=>{h.result=d}).next(()=>{if(!h.result)return this.Vs(e,i,o,s).next(d=>{h.result=d})}).next(()=>{if(h.result)return;const d=new hb;return this.fs(e,i,d).next(g=>{if(h.result=g,this.Is)return this.gs(e,i,d,g.size)})}).next(()=>h.result)}gs(e,i,s,o){return s.documentReadCount<this.Es?(fs()<=zt.DEBUG&&st("QueryEngine","SDK will not create cache indexes for query:",ds(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),Z.resolve()):(fs()<=zt.DEBUG&&st("QueryEngine","Query:",ds(i),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ds*o?(fs()<=zt.DEBUG&&st("QueryEngine","The SDK decides to create cache indexes for query:",ds(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ei(i))):Z.resolve())}Rs(e,i){if(t_(i))return Z.resolve(null);let s=ei(i);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(i.limit!==null&&o===1&&(i=td(i,null,"F"),s=ei(i)),this.indexManager.getDocumentsMatchingTarget(e,s).next(h=>{const d=Vt(...h);return this.As.getDocuments(e,d).next(g=>this.indexManager.getMinOffset(e,s).next(_=>{const v=this.ps(i,g);return this.ys(i,v,d,_.readTime)?this.Rs(e,td(i,null,"F")):this.ws(e,v,i,_)}))})))}Vs(e,i,s,o){return t_(i)||o.isEqual(Et.min())?Z.resolve(null):this.As.getDocuments(e,s).next(h=>{const d=this.ps(i,h);return this.ys(i,d,s,o)?Z.resolve(null):(fs()<=zt.DEBUG&&st("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),ds(i)),this.ws(e,d,i,UA(o,$l)).next(g=>g))})}ps(e,i){let s=new be(xv(e));return i.forEach((o,h)=>{dc(e,h)&&(s=s.add(h))}),s}ys(e,i,s,o){if(e.limit===null)return!1;if(s.size!==i.size)return!0;const h=e.limitType==="F"?i.last():i.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(o)>0)}fs(e,i,s){return fs()<=zt.DEBUG&&st("QueryEngine","Using full collection scan to execute query:",ds(i)),this.As.getDocumentsMatchingQuery(e,i,_a.min(),s)}ws(e,i,s,o){return this.As.getDocumentsMatchingQuery(e,s,o).next(h=>(i.forEach(d=>{h=h.insert(d.key,d)}),h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dd="LocalStore",db=3e8;class mb{constructor(e,i,s,o){this.persistence=e,this.bs=i,this.serializer=o,this.Ss=new ie(Rt),this.Ds=new pr(h=>Ed(h),Td),this.vs=new Map,this.Cs=e.getRemoteDocumentCache(),this.ai=e.getTargetCache(),this.ci=e.getBundleCache(),this.Fs(s)}Fs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new nb(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>e.collect(i,this.Ss))}}function gb(r,e,i,s){return new mb(r,e,i,s)}async function a0(r,e){const i=Tt(r);return await i.persistence.runTransaction("Handle user change","readonly",s=>{let o;return i.mutationQueue.getAllMutationBatches(s).next(h=>(o=h,i.Fs(e),i.mutationQueue.getAllMutationBatches(s))).next(h=>{const d=[],g=[];let _=Vt();for(const v of o){d.push(v.batchId);for(const A of v.mutations)_=_.add(A.key)}for(const v of h){g.push(v.batchId);for(const A of v.mutations)_=_.add(A.key)}return i.localDocuments.getDocuments(s,_).next(v=>({Ms:v,removedBatchIds:d,addedBatchIds:g}))})})}function pb(r,e){const i=Tt(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),h=i.Cs.newChangeBuffer({trackRemovals:!0});return function(g,_,v,A){const I=v.batch,N=I.keys();let q=Z.resolve();return N.forEach(F=>{q=q.next(()=>A.getEntry(_,F)).next(Q=>{const Y=v.docVersions.get(F);qt(Y!==null,48541),Q.version.compareTo(Y)<0&&(I.applyToRemoteDocument(Q,v),Q.isValidDocument()&&(Q.setReadTime(v.commitVersion),A.addEntry(Q)))})}),q.next(()=>g.mutationQueue.removeMutationBatch(_,I))}(i,s,e,h).next(()=>h.apply(s)).next(()=>i.mutationQueue.performConsistencyCheck(s)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(g){let _=Vt();for(let v=0;v<g.mutationResults.length;++v)g.mutationResults[v].transformResults.length>0&&(_=_.add(g.batch.mutations[v].key));return _}(e))).next(()=>i.localDocuments.getDocuments(s,o))})}function r0(r){const e=Tt(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",i=>e.ai.getLastRemoteSnapshotVersion(i))}function yb(r,e){const i=Tt(r),s=e.snapshotVersion;let o=i.Ss;return i.persistence.runTransaction("Apply remote event","readwrite-primary",h=>{const d=i.Cs.newChangeBuffer({trackRemovals:!0});o=i.Ss;const g=[];e.targetChanges.forEach((A,I)=>{const N=o.get(I);if(!N)return;g.push(i.ai.removeMatchingKeys(h,A.removedDocuments,I).next(()=>i.ai.addMatchingKeys(h,A.addedDocuments,I)));let q=N.withSequenceNumber(h.currentSequenceNumber);e.targetMismatches.get(I)!==null?q=q.withResumeToken(je.EMPTY_BYTE_STRING,Et.min()).withLastLimboFreeSnapshotVersion(Et.min()):A.resumeToken.approximateByteSize()>0&&(q=q.withResumeToken(A.resumeToken,s)),o=o.insert(I,q),function(Q,Y,rt){return Q.resumeToken.approximateByteSize()===0||Y.snapshotVersion.toMicroseconds()-Q.snapshotVersion.toMicroseconds()>=db?!0:rt.addedDocuments.size+rt.modifiedDocuments.size+rt.removedDocuments.size>0}(N,q,A)&&g.push(i.ai.updateTargetData(h,q))});let _=xi(),v=Vt();if(e.documentUpdates.forEach(A=>{e.resolvedLimboDocuments.has(A)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(h,A))}),g.push(_b(h,d,e.documentUpdates).next(A=>{_=A.xs,v=A.Os})),!s.isEqual(Et.min())){const A=i.ai.getLastRemoteSnapshotVersion(h).next(I=>i.ai.setTargetsMetadata(h,h.currentSequenceNumber,s));g.push(A)}return Z.waitFor(g).next(()=>d.apply(h)).next(()=>i.localDocuments.getLocalViewOfDocuments(h,_,v)).next(()=>_)}).then(h=>(i.Ss=o,h))}function _b(r,e,i){let s=Vt(),o=Vt();return i.forEach(h=>s=s.add(h)),e.getEntries(r,s).next(h=>{let d=xi();return i.forEach((g,_)=>{const v=h.get(g);_.isFoundDocument()!==v.isFoundDocument()&&(o=o.add(g)),_.isNoDocument()&&_.version.isEqual(Et.min())?(e.removeEntry(g,_.readTime),d=d.insert(g,_)):!v.isValidDocument()||_.version.compareTo(v.version)>0||_.version.compareTo(v.version)===0&&v.hasPendingWrites?(e.addEntry(_),d=d.insert(g,_)):st(Dd,"Ignoring outdated watch update for ",g,". Current version:",v.version," Watch version:",_.version)}),{xs:d,Os:o}})}function vb(r,e){const i=Tt(r);return i.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=yd),i.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function Eb(r,e){const i=Tt(r);return i.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return i.ai.getTargetData(s,e).next(h=>h?(o=h,Z.resolve(o)):i.ai.allocateTargetId(s).next(d=>(o=new ca(e,d,"TargetPurposeListen",s.currentSequenceNumber),i.ai.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=i.Ss.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ss=i.Ss.insert(s.targetId,s),i.Ds.set(e,s.targetId)),s})}async function rd(r,e,i){const s=Tt(r),o=s.Ss.get(e),h=i?"readwrite":"readwrite-primary";try{i||await s.persistence.runTransaction("Release target",h,d=>s.persistence.referenceDelegate.removeTarget(d,o))}catch(d){if(!ws(d))throw d;st(Dd,`Failed to update sequence numbers for target ${e}: ${d}`)}s.Ss=s.Ss.remove(e),s.Ds.delete(o.target)}function d_(r,e,i){const s=Tt(r);let o=Et.min(),h=Vt();return s.persistence.runTransaction("Execute query","readwrite",d=>function(_,v,A){const I=Tt(_),N=I.Ds.get(A);return N!==void 0?Z.resolve(I.Ss.get(N)):I.ai.getTargetData(v,A)}(s,d,ei(e)).next(g=>{if(g)return o=g.lastLimboFreeSnapshotVersion,s.ai.getMatchingKeysForTargetId(d,g.targetId).next(_=>{h=_})}).next(()=>s.bs.getDocumentsMatchingQuery(d,e,i?o:Et.min(),i?h:Vt())).next(g=>(Tb(s,lS(e),g),{documents:g,Ns:h})))}function Tb(r,e,i){let s=r.vs.get(e)||Et.min();i.forEach((o,h)=>{h.readTime.compareTo(s)>0&&(s=h.readTime)}),r.vs.set(e,s)}class m_{constructor(){this.activeTargetIds=dS()}$s(e){this.activeTargetIds=this.activeTargetIds.add(e)}Us(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Qs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Ab{constructor(){this.So=new m_,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,s){}addLocalQueryTarget(e,i=!0){return i&&this.So.$s(e),this.Do[e]||"not-current"}updateQueryState(e,i,s){this.Do[e]=i}removeLocalQueryTarget(e){this.So.Us(e)}isLocalQueryTarget(e){return this.So.activeTargetIds.has(e)}clearQueryState(e){delete this.Do[e]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(e){return this.So.activeTargetIds.has(e)}start(){return this.So=new m_,Promise.resolve()}handleUserChange(e,i,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sb{vo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g_="ConnectivityMonitor";class p_{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(e){this.Oo.push(e)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){st(g_,"Network connectivity changed: AVAILABLE");for(const e of this.Oo)e(0)}xo(){st(g_,"Network connectivity changed: UNAVAILABLE");for(const e of this.Oo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pu=null;function sd(){return Pu===null?Pu=function(){return 268435456+Math.round(2147483648*Math.random())}():Pu++,"0x"+Pu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zf="RestConnection",bb={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Rb{get Bo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Lo=i+"://"+e.host,this.ko=`projects/${s}/databases/${o}`,this.qo=this.databaseId.database===Xu?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Qo(e,i,s,o,h){const d=sd(),g=this.$o(e,i.toUriEncodedString());st(zf,`Sending RPC '${e}' ${d}:`,g,s);const _={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};this.Uo(_,o,h);const{host:v}=new URL(g),A=dd(v);return this.Ko(e,g,_,s,A).then(I=>(st(zf,`Received RPC '${e}' ${d}: `,I),I),I=>{throw ys(zf,`RPC '${e}' ${d} failed with error: `,I,"url: ",g,"request:",s),I})}Wo(e,i,s,o,h,d){return this.Qo(e,i,s,o,h)}Uo(e,i,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+bs}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((o,h)=>e[h]=o),s&&s.headers.forEach((o,h)=>e[h]=o)}$o(e,i){const s=bb[e];return`${this.Lo}/v1/${i}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wb{constructor(e){this.Go=e.Go,this.zo=e.zo}jo(e){this.Ho=e}Jo(e){this.Yo=e}Zo(e){this.Xo=e}onMessage(e){this.e_=e}close(){this.zo()}send(e){this.Go(e)}t_(){this.Ho()}n_(){this.Yo()}r_(e){this.Xo(e)}i_(e){this.e_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ge="WebChannelConnection";class Ib extends Rb{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ko(e,i,s,o,h){const d=sd();return new Promise((g,_)=>{const v=new sv;v.setWithCredentials(!0),v.listenOnce(lv.COMPLETE,()=>{try{switch(v.getLastErrorCode()){case ju.NO_ERROR:const I=v.getResponseJson();st(Ge,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(I)),g(I);break;case ju.TIMEOUT:st(Ge,`RPC '${e}' ${d} timed out`),_(new lt(J.DEADLINE_EXCEEDED,"Request time out"));break;case ju.HTTP_ERROR:const N=v.getStatus();if(st(Ge,`RPC '${e}' ${d} failed with status:`,N,"response text:",v.getResponseText()),N>0){let q=v.getResponseJson();Array.isArray(q)&&(q=q[0]);const F=q==null?void 0:q.error;if(F&&F.status&&F.message){const Q=function(rt){const at=rt.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(at)>=0?at:J.UNKNOWN}(F.status);_(new lt(Q,F.message))}else _(new lt(J.UNKNOWN,"Server responded with status "+v.getStatus()))}else _(new lt(J.UNAVAILABLE,"Connection failed."));break;default:pt(9055,{s_:e,streamId:d,o_:v.getLastErrorCode(),__:v.getLastError()})}}finally{st(Ge,`RPC '${e}' ${d} completed.`)}});const A=JSON.stringify(o);st(Ge,`RPC '${e}' ${d} sending request:`,o),v.send(i,"POST",A,s,15)})}a_(e,i,s){const o=sd(),h=[this.Lo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=cv(),g=uv(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(_.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(_.useFetchStreams=!0),this.Uo(_.initMessageHeaders,i,s),_.encodeInitMessageHeaders=!0;const A=h.join("");st(Ge,`Creating RPC '${e}' stream ${o}: ${A}`,_);const I=d.createWebChannel(A,_);let N=!1,q=!1;const F=new wb({Go:Y=>{q?st(Ge,`Not sending because RPC '${e}' stream ${o} is closed:`,Y):(N||(st(Ge,`Opening RPC '${e}' stream ${o} transport.`),I.open(),N=!0),st(Ge,`RPC '${e}' stream ${o} sending:`,Y),I.send(Y))},zo:()=>I.close()}),Q=(Y,rt,at)=>{Y.listen(rt,ut=>{try{at(ut)}catch(At){setTimeout(()=>{throw At},0)}})};return Q(I,Bl.EventType.OPEN,()=>{q||(st(Ge,`RPC '${e}' stream ${o} transport opened.`),F.t_())}),Q(I,Bl.EventType.CLOSE,()=>{q||(q=!0,st(Ge,`RPC '${e}' stream ${o} transport closed`),F.r_())}),Q(I,Bl.EventType.ERROR,Y=>{q||(q=!0,ys(Ge,`RPC '${e}' stream ${o} transport errored. Name:`,Y.name,"Message:",Y.message),F.r_(new lt(J.UNAVAILABLE,"The operation could not be completed")))}),Q(I,Bl.EventType.MESSAGE,Y=>{var rt;if(!q){const at=Y.data[0];qt(!!at,16349);const ut=at,At=(ut==null?void 0:ut.error)||((rt=ut[0])===null||rt===void 0?void 0:rt.error);if(At){st(Ge,`RPC '${e}' stream ${o} received error:`,At);const _t=At.status;let Pt=function(w){const V=pe[w];if(V!==void 0)return Qv(V)}(_t),O=At.message;Pt===void 0&&(Pt=J.INTERNAL,O="Unknown error status: "+_t+" with message "+At.message),q=!0,F.r_(new lt(Pt,O)),I.close()}else st(Ge,`RPC '${e}' stream ${o} received:`,at),F.i_(at)}}),Q(g,ov.STAT_EVENT,Y=>{Y.stat===Yf.PROXY?st(Ge,`RPC '${e}' stream ${o} detected buffering proxy`):Y.stat===Yf.NOPROXY&&st(Ge,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{F.n_()},0),F}}function Lf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yc(r){return new VS(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s0{constructor(e,i,s=1e3,o=1.5,h=6e4){this.bi=e,this.timerId=i,this.u_=s,this.c_=o,this.l_=h,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(e){this.cancel();const i=Math.floor(this.h_+this.d_()),s=Math.max(0,Date.now()-this.T_),o=Math.max(0,i-s);o>0&&st("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.h_} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,o,()=>(this.T_=Date.now(),e())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y_="PersistentStream";class l0{constructor(e,i,s,o,h,d,g,_){this.bi=e,this.R_=s,this.V_=o,this.connection=h,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=_,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new s0(e,i)}w_(){return this.state===1||this.state===5||this.b_()}b_(){return this.state===2||this.state===3}start(){this.p_=0,this.state!==4?this.auth():this.S_()}async stop(){this.w_()&&await this.close(0)}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&this.f_===null&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,()=>this.C_()))}F_(e){this.M_(),this.stream.send(e)}async C_(){if(this.b_())return this.close(0)}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}async close(e,i){this.M_(),this.x_(),this.y_.cancel(),this.m_++,e!==4?this.y_.reset():i&&i.code===J.RESOURCE_EXHAUSTED?(Mi(i.toString()),Mi("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):i&&i.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.O_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zo(i)}O_(){}auth(){this.state=1;const e=this.N_(this.m_),i=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.m_===i&&this.B_(s,o)},s=>{e(()=>{const o=new lt(J.UNKNOWN,"Fetching auth token failed: "+s.message);return this.L_(o)})})}B_(e,i){const s=this.N_(this.m_);this.stream=this.k_(e,i),this.stream.jo(()=>{s(()=>this.listener.jo())}),this.stream.Jo(()=>{s(()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,()=>(this.b_()&&(this.state=3),Promise.resolve())),this.listener.Jo()))}),this.stream.Zo(o=>{s(()=>this.L_(o))}),this.stream.onMessage(o=>{s(()=>++this.p_==1?this.q_(o):this.onNext(o))})}S_(){this.state=5,this.y_.E_(async()=>{this.state=0,this.start()})}L_(e){return st(y_,`close with error: ${e}`),this.stream=null,this.close(4,e)}N_(e){return i=>{this.bi.enqueueAndForget(()=>this.m_===e?i():(st(y_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Cb extends l0{constructor(e,i,s,o,h,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,o,d),this.serializer=h}k_(e,i){return this.connection.a_("Listen",e,i)}q_(e){return this.onNext(e)}onNext(e){this.y_.reset();const i=xS(this.serializer,e),s=function(h){if(!("targetChange"in h))return Et.min();const d=h.targetChange;return d.targetIds&&d.targetIds.length?Et.min():d.readTime?ni(d.readTime):Et.min()}(e);return this.listener.Q_(i,s)}U_(e){const i={};i.database=ad(this.serializer),i.addTarget=function(h,d){let g;const _=d.target;if(g=Jf(_)?{documents:LS(h,_)}:{query:PS(h,_).gt},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=Xv(h,d.resumeToken);const v=ed(h,d.expectedCount);v!==null&&(g.expectedCount=v)}else if(d.snapshotVersion.compareTo(Et.min())>0){g.readTime=tc(h,d.snapshotVersion.toTimestamp());const v=ed(h,d.expectedCount);v!==null&&(g.expectedCount=v)}return g}(this.serializer,e);const s=jS(this.serializer,e);s&&(i.labels=s),this.F_(i)}K_(e){const i={};i.database=ad(this.serializer),i.removeTarget=e,this.F_(i)}}class Db extends l0{constructor(e,i,s,o,h,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,s,o,d),this.serializer=h}get W_(){return this.p_>0}start(){this.lastStreamToken=void 0,super.start()}O_(){this.W_&&this.G_([])}k_(e,i){return this.connection.a_("Write",e,i)}q_(e){return qt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,qt(!e.writeResults||e.writeResults.length===0,55816),this.listener.z_()}onNext(e){qt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.y_.reset();const i=zS(e.writeResults,e.commitTime),s=ni(e.commitTime);return this.listener.j_(s,i)}H_(){const e={};e.database=ad(this.serializer),this.F_(e)}G_(e){const i={streamToken:this.lastStreamToken,writes:e.map(s=>US(this.serializer,s))};this.F_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nb{}class Vb extends Nb{constructor(e,i,s,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=s,this.serializer=o,this.J_=!1}Y_(){if(this.J_)throw new lt(J.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(e,i,s,o){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,d])=>this.connection.Qo(e,nd(i,s),o,h,d)).catch(h=>{throw h.name==="FirebaseError"?(h.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new lt(J.UNKNOWN,h.toString())})}Wo(e,i,s,o,h){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,g])=>this.connection.Wo(e,nd(i,s),o,d,g,h)).catch(d=>{throw d.name==="FirebaseError"?(d.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new lt(J.UNKNOWN,d.toString())})}terminate(){this.J_=!0,this.connection.terminate()}}class Ob{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){this.Z_===0&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve())))}ia(e){this.state==="Online"?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.na("Offline")))}set(e){this.sa(),this.Z_=0,e==="Online"&&(this.ea=!1),this.na(e)}na(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ra(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(Mi(i),this.ea=!1):st("OnlineStateTracker",i)}sa(){this.X_!==null&&(this.X_.cancel(),this.X_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fr="RemoteStore";class Mb{constructor(e,i,s,o,h){this.localStore=e,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=h,this.ca.vo(d=>{s.enqueueAndForget(async()=>{_r(this)&&(st(fr,"Restarting streams for network reachability change."),await async function(_){const v=Tt(_);v.aa.add(4),await lo(v),v.la.set("Unknown"),v.aa.delete(4),await _c(v)}(this))})}),this.la=new Ob(s,o)}}async function _c(r){if(_r(r))for(const e of r.ua)await e(!0)}async function lo(r){for(const e of r.ua)await e(!1)}function o0(r,e){const i=Tt(r);i._a.has(e.targetId)||(i._a.set(e.targetId,e),Md(i)?Od(i):Cs(i).b_()&&Vd(i,e))}function Nd(r,e){const i=Tt(r),s=Cs(i);i._a.delete(e),s.b_()&&u0(i,e),i._a.size===0&&(s.b_()?s.v_():_r(i)&&i.la.set("Unknown"))}function Vd(r,e){if(r.ha.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Et.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Cs(r).U_(e)}function u0(r,e){r.ha.Ke(e),Cs(r).K_(e)}function Od(r){r.ha=new IS({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>r._a.get(e)||null,Pt:()=>r.datastore.serializer.databaseId}),Cs(r).start(),r.la.ta()}function Md(r){return _r(r)&&!Cs(r).w_()&&r._a.size>0}function _r(r){return Tt(r).aa.size===0}function c0(r){r.ha=void 0}async function xb(r){r.la.set("Online")}async function Ub(r){r._a.forEach((e,i)=>{Vd(r,e)})}async function zb(r,e){c0(r),Md(r)?(r.la.ia(e),Od(r)):r.la.set("Unknown")}async function Lb(r,e,i){if(r.la.set("Online"),e instanceof Kv&&e.state===2&&e.cause)try{await async function(o,h){const d=h.cause;for(const g of h.targetIds)o._a.has(g)&&(await o.remoteSyncer.rejectListen(g,d),o._a.delete(g),o.ha.removeTarget(g))}(r,e)}catch(s){st(fr,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await nc(r,s)}else if(e instanceof Gu?r.ha.Xe(e):e instanceof Yv?r.ha.ot(e):r.ha.nt(e),!i.isEqual(Et.min()))try{const s=await r0(r.localStore);i.compareTo(s)>=0&&await function(h,d){const g=h.ha.It(d);return g.targetChanges.forEach((_,v)=>{if(_.resumeToken.approximateByteSize()>0){const A=h._a.get(v);A&&h._a.set(v,A.withResumeToken(_.resumeToken,d))}}),g.targetMismatches.forEach((_,v)=>{const A=h._a.get(_);if(!A)return;h._a.set(_,A.withResumeToken(je.EMPTY_BYTE_STRING,A.snapshotVersion)),u0(h,_);const I=new ca(A.target,_,v,A.sequenceNumber);Vd(h,I)}),h.remoteSyncer.applyRemoteEvent(g)}(r,i)}catch(s){st(fr,"Failed to raise snapshot:",s),await nc(r,s)}}async function nc(r,e,i){if(!ws(e))throw e;r.aa.add(1),await lo(r),r.la.set("Offline"),i||(i=()=>r0(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{st(fr,"Retrying IndexedDB access"),await i(),r.aa.delete(1),await _c(r)})}function h0(r,e){return e().catch(i=>nc(r,i,e))}async function vc(r){const e=Tt(r),i=Aa(e);let s=e.oa.length>0?e.oa[e.oa.length-1].batchId:yd;for(;Pb(e);)try{const o=await vb(e.localStore,s);if(o===null){e.oa.length===0&&i.v_();break}s=o.batchId,Bb(e,o)}catch(o){await nc(e,o)}f0(e)&&d0(e)}function Pb(r){return _r(r)&&r.oa.length<10}function Bb(r,e){r.oa.push(e);const i=Aa(r);i.b_()&&i.W_&&i.G_(e.mutations)}function f0(r){return _r(r)&&!Aa(r).w_()&&r.oa.length>0}function d0(r){Aa(r).start()}async function jb(r){Aa(r).H_()}async function kb(r){const e=Aa(r);for(const i of r.oa)e.G_(i.mutations)}async function qb(r,e,i){const s=r.oa.shift(),o=Sd.from(s,e,i);await h0(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await vc(r)}async function Hb(r,e){e&&Aa(r).W_&&await async function(s,o){if(function(d){return RS(d)&&d!==J.ABORTED}(o.code)){const h=s.oa.shift();Aa(s).D_(),await h0(s,()=>s.remoteSyncer.rejectFailedWrite(h.batchId,o)),await vc(s)}}(r,e),f0(r)&&d0(r)}async function __(r,e){const i=Tt(r);i.asyncQueue.verifyOperationInProgress(),st(fr,"RemoteStore received new credentials");const s=_r(i);i.aa.add(3),await lo(i),s&&i.la.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.aa.delete(3),await _c(i)}async function Gb(r,e){const i=Tt(r);e?(i.aa.delete(2),await _c(i)):e||(i.aa.add(2),await lo(i),i.la.set("Unknown"))}function Cs(r){return r.Pa||(r.Pa=function(i,s,o){const h=Tt(i);return h.Y_(),new Cb(s,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)}(r.datastore,r.asyncQueue,{jo:xb.bind(null,r),Jo:Ub.bind(null,r),Zo:zb.bind(null,r),Q_:Lb.bind(null,r)}),r.ua.push(async e=>{e?(r.Pa.D_(),Md(r)?Od(r):r.la.set("Unknown")):(await r.Pa.stop(),c0(r))})),r.Pa}function Aa(r){return r.Ta||(r.Ta=function(i,s,o){const h=Tt(i);return h.Y_(),new Db(s,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)}(r.datastore,r.asyncQueue,{jo:()=>Promise.resolve(),Jo:jb.bind(null,r),Zo:Hb.bind(null,r),z_:kb.bind(null,r),j_:qb.bind(null,r)}),r.ua.push(async e=>{e?(r.Ta.D_(),await vc(r)):(await r.Ta.stop(),r.oa.length>0&&(st(fr,`Stopping write stream with ${r.oa.length} pending writes`),r.oa=[]))})),r.Ta}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xd{constructor(e,i,s,o,h){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=s,this.op=o,this.removalCallback=h,this.deferred=new ma,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,i,s,o,h){const d=Date.now()+s,g=new xd(e,i,d,o,h);return g.start(s),g}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new lt(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ud(r,e){if(Mi("AsyncQueue",`${e}: ${r}`),ws(r))return new lt(J.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ps{static emptySet(e){return new ps(e.comparator)}constructor(e){this.comparator=e?(i,s)=>e(i,s)||ft.comparator(i.key,s.key):(i,s)=>ft.comparator(i.key,s.key),this.keyedMap=jl(),this.sortedSet=new ie(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((i,s)=>(e(i),!1))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof ps)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=s.getNext().key;if(!o.isEqual(h))return!1}return!0}toString(){const e=[];return this.forEach(i=>{e.push(i.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const s=new ps;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=i,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v_{constructor(){this.Ia=new ie(ft.comparator)}track(e){const i=e.doc.key,s=this.Ia.get(i);s?e.type!==0&&s.type===3?this.Ia=this.Ia.insert(i,e):e.type===3&&s.type!==1?this.Ia=this.Ia.insert(i,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.Ia=this.Ia.insert(i,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.Ia=this.Ia.insert(i,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.Ia=this.Ia.remove(i):e.type===1&&s.type===2?this.Ia=this.Ia.insert(i,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.Ia=this.Ia.insert(i,{type:2,doc:e.doc}):pt(63341,{Vt:e,Ea:s}):this.Ia=this.Ia.insert(i,e)}da(){const e=[];return this.Ia.inorderTraversal((i,s)=>{e.push(s)}),e}}class As{constructor(e,i,s,o,h,d,g,_,v){this.query=e,this.docs=i,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=h,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=_,this.hasCachedResults=v}static fromInitialDocuments(e,i,s,o,h){const d=[];return i.forEach(g=>{d.push({type:0,doc:g})}),new As(e,i,ps.emptySet(i),d,s,o,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&fc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,s=e.docChanges;if(i.length!==s.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==s[o].type||!i[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fb{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some(e=>e.ma())}}class Qb{constructor(){this.queries=E_(),this.onlineState="Unknown",this.fa=new Set}terminate(){(function(i,s){const o=Tt(i),h=o.queries;o.queries=E_(),h.forEach((d,g)=>{for(const _ of g.Ra)_.onError(s)})})(this,new lt(J.ABORTED,"Firestore shutting down"))}}function E_(){return new pr(r=>Mv(r),fc)}async function Yb(r,e){const i=Tt(r);let s=3;const o=e.query;let h=i.queries.get(o);h?!h.Va()&&e.ma()&&(s=2):(h=new Fb,s=e.ma()?0:1);try{switch(s){case 0:h.Aa=await i.onListen(o,!0);break;case 1:h.Aa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const g=Ud(d,`Initialization of query '${ds(e.query)}' failed`);return void e.onError(g)}i.queries.set(o,h),h.Ra.push(e),e.ga(i.onlineState),h.Aa&&e.pa(h.Aa)&&zd(i)}async function Kb(r,e){const i=Tt(r),s=e.query;let o=3;const h=i.queries.get(s);if(h){const d=h.Ra.indexOf(e);d>=0&&(h.Ra.splice(d,1),h.Ra.length===0?o=e.ma()?0:1:!h.Va()&&e.ma()&&(o=2))}switch(o){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}}function Xb(r,e){const i=Tt(r);let s=!1;for(const o of e){const h=o.query,d=i.queries.get(h);if(d){for(const g of d.Ra)g.pa(o)&&(s=!0);d.Aa=o}}s&&zd(i)}function $b(r,e,i){const s=Tt(r),o=s.queries.get(e);if(o)for(const h of o.Ra)h.onError(i);s.queries.delete(e)}function zd(r){r.fa.forEach(e=>{e.next()})}var ld,T_;(T_=ld||(ld={})).ya="default",T_.Cache="cache";class Zb{constructor(e,i,s){this.query=e,this.wa=i,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=s||{}}pa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new As(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.ba?this.Da(e)&&(this.wa.next(e),i=!0):this.va(e,this.onlineState)&&(this.Ca(e),i=!0),this.Sa=e,i}onError(e){this.wa.error(e)}ga(e){this.onlineState=e;let i=!1;return this.Sa&&!this.ba&&this.va(this.Sa,e)&&(this.Ca(this.Sa),i=!0),i}va(e,i){if(!e.fromCache||!this.ma())return!0;const s=i!=="Offline";return(!this.options.Fa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Da(e){if(e.docChanges.length>0)return!0;const i=this.Sa&&this.Sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}Ca(e){e=As.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ba=!0,this.wa.next(e)}ma(){return this.options.source!==ld.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m0{constructor(e){this.key=e}}class g0{constructor(e){this.key=e}}class Jb{constructor(e,i){this.query=e,this.qa=i,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=Vt(),this.mutatedKeys=Vt(),this.Ua=xv(e),this.Ka=new ps(this.Ua)}get Wa(){return this.qa}Ga(e,i){const s=i?i.za:new v_,o=i?i.Ka:this.Ka;let h=i?i.mutatedKeys:this.mutatedKeys,d=o,g=!1;const _=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,v=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((A,I)=>{const N=o.get(A),q=dc(this.query,I)?I:null,F=!!N&&this.mutatedKeys.has(N.key),Q=!!q&&(q.hasLocalMutations||this.mutatedKeys.has(q.key)&&q.hasCommittedMutations);let Y=!1;N&&q?N.data.isEqual(q.data)?F!==Q&&(s.track({type:3,doc:q}),Y=!0):this.ja(N,q)||(s.track({type:2,doc:q}),Y=!0,(_&&this.Ua(q,_)>0||v&&this.Ua(q,v)<0)&&(g=!0)):!N&&q?(s.track({type:0,doc:q}),Y=!0):N&&!q&&(s.track({type:1,doc:N}),Y=!0,(_||v)&&(g=!0)),Y&&(q?(d=d.add(q),h=Q?h.add(A):h.delete(A)):(d=d.delete(A),h=h.delete(A)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),h=h.delete(A.key),s.track({type:1,doc:A})}return{Ka:d,za:s,ys:g,mutatedKeys:h}}ja(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,s,o){const h=this.Ka;this.Ka=e.Ka,this.mutatedKeys=e.mutatedKeys;const d=e.za.da();d.sort((A,I)=>function(q,F){const Q=Y=>{switch(Y){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return pt(20277,{Vt:Y})}};return Q(q)-Q(F)}(A.type,I.type)||this.Ua(A.doc,I.doc)),this.Ha(s),o=o!=null&&o;const g=i&&!o?this.Ja():[],_=this.$a.size===0&&this.current&&!o?1:0,v=_!==this.Qa;return this.Qa=_,d.length!==0||v?{snapshot:new As(this.query,e.Ka,h,d,e.mutatedKeys,_===0,v,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ya:g}:{Ya:g}}ga(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new v_,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(e){return!this.qa.has(e)&&!!this.Ka.has(e)&&!this.Ka.get(e).hasLocalMutations}Ha(e){e&&(e.addedDocuments.forEach(i=>this.qa=this.qa.add(i)),e.modifiedDocuments.forEach(i=>{}),e.removedDocuments.forEach(i=>this.qa=this.qa.delete(i)),this.current=e.current)}Ja(){if(!this.current)return[];const e=this.$a;this.$a=Vt(),this.Ka.forEach(s=>{this.Za(s.key)&&(this.$a=this.$a.add(s.key))});const i=[];return e.forEach(s=>{this.$a.has(s)||i.push(new g0(s))}),this.$a.forEach(s=>{e.has(s)||i.push(new m0(s))}),i}Xa(e){this.qa=e.Ns,this.$a=Vt();const i=this.Ga(e.documents);return this.applyChanges(i,!0)}eu(){return As.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,this.Qa===0,this.hasCachedResults)}}const Ld="SyncEngine";class Wb{constructor(e,i,s){this.query=e,this.targetId=i,this.view=s}}class tR{constructor(e){this.key=e,this.tu=!1}}class eR{constructor(e,i,s,o,h,d){this.localStore=e,this.remoteStore=i,this.eventManager=s,this.sharedClientState=o,this.currentUser=h,this.maxConcurrentLimboResolutions=d,this.nu={},this.ru=new pr(g=>Mv(g),fc),this.iu=new Map,this.su=new Set,this.ou=new ie(ft.comparator),this._u=new Map,this.au=new wd,this.uu={},this.cu=new Map,this.lu=Ts.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return this.hu===!0}}async function nR(r,e,i=!0){const s=T0(r);let o;const h=s.ru.get(e);return h?(s.sharedClientState.addLocalQueryTarget(h.targetId),o=h.view.eu()):o=await p0(s,e,i,!0),o}async function iR(r,e){const i=T0(r);await p0(i,e,!0,!1)}async function p0(r,e,i,s){const o=await Eb(r.localStore,ei(e)),h=o.targetId,d=r.sharedClientState.addLocalQueryTarget(h,i);let g;return s&&(g=await aR(r,e,h,d==="current",o.resumeToken)),r.isPrimaryClient&&i&&o0(r.remoteStore,o),g}async function aR(r,e,i,s,o){r.Pu=(I,N,q)=>async function(Q,Y,rt,at){let ut=Y.view.Ga(rt);ut.ys&&(ut=await d_(Q.localStore,Y.query,!1).then(({documents:O})=>Y.view.Ga(O,ut)));const At=at&&at.targetChanges.get(Y.targetId),_t=at&&at.targetMismatches.get(Y.targetId)!=null,Pt=Y.view.applyChanges(ut,Q.isPrimaryClient,At,_t);return S_(Q,Y.targetId,Pt.Ya),Pt.snapshot}(r,I,N,q);const h=await d_(r.localStore,e,!0),d=new Jb(e,h.Ns),g=d.Ga(h.documents),_=so.createSynthesizedTargetChangeForCurrentChange(i,s&&r.onlineState!=="Offline",o),v=d.applyChanges(g,r.isPrimaryClient,_);S_(r,i,v.Ya);const A=new Wb(e,i,d);return r.ru.set(e,A),r.iu.has(i)?r.iu.get(i).push(e):r.iu.set(i,[e]),v.snapshot}async function rR(r,e,i){const s=Tt(r),o=s.ru.get(e),h=s.iu.get(o.targetId);if(h.length>1)return s.iu.set(o.targetId,h.filter(d=>!fc(d,e))),void s.ru.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await rd(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),i&&Nd(s.remoteStore,o.targetId),od(s,o.targetId)}).catch(Rs)):(od(s,o.targetId),await rd(s.localStore,o.targetId,!0))}async function sR(r,e){const i=Tt(r),s=i.ru.get(e),o=i.iu.get(s.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),Nd(i.remoteStore,s.targetId))}async function lR(r,e,i){const s=mR(r);try{const o=await function(d,g){const _=Tt(d),v=_e.now(),A=g.reduce((q,F)=>q.add(F.key),Vt());let I,N;return _.persistence.runTransaction("Locally write mutations","readwrite",q=>{let F=xi(),Q=Vt();return _.Cs.getEntries(q,A).next(Y=>{F=Y,F.forEach((rt,at)=>{at.isValidDocument()||(Q=Q.add(rt))})}).next(()=>_.localDocuments.getOverlayedDocuments(q,F)).next(Y=>{I=Y;const rt=[];for(const at of g){const ut=ES(at,I.get(at.key).overlayedDocument);ut!=null&&rt.push(new yr(at.key,ut,bv(ut.value.mapValue),Ni.exists(!0)))}return _.mutationQueue.addMutationBatch(q,v,rt,g)}).next(Y=>{N=Y;const rt=Y.applyToLocalDocumentSet(I,Q);return _.documentOverlayCache.saveOverlays(q,Y.batchId,rt)})}).then(()=>({batchId:N.batchId,changes:zv(I)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(d,g,_){let v=d.uu[d.currentUser.toKey()];v||(v=new ie(Rt)),v=v.insert(g,_),d.uu[d.currentUser.toKey()]=v}(s,o.batchId,i),await oo(s,o.changes),await vc(s.remoteStore)}catch(o){const h=Ud(o,"Failed to persist write");i.reject(h)}}async function y0(r,e){const i=Tt(r);try{const s=await yb(i.localStore,e);e.targetChanges.forEach((o,h)=>{const d=i._u.get(h);d&&(qt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.tu=!0:o.modifiedDocuments.size>0?qt(d.tu,14607):o.removedDocuments.size>0&&(qt(d.tu,42227),d.tu=!1))}),await oo(i,s,e)}catch(s){await Rs(s)}}function A_(r,e,i){const s=Tt(r);if(s.isPrimaryClient&&i===0||!s.isPrimaryClient&&i===1){const o=[];s.ru.forEach((h,d)=>{const g=d.view.ga(e);g.snapshot&&o.push(g.snapshot)}),function(d,g){const _=Tt(d);_.onlineState=g;let v=!1;_.queries.forEach((A,I)=>{for(const N of I.Ra)N.ga(g)&&(v=!0)}),v&&zd(_)}(s.eventManager,e),o.length&&s.nu.Q_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function oR(r,e,i){const s=Tt(r);s.sharedClientState.updateQueryState(e,"rejected",i);const o=s._u.get(e),h=o&&o.key;if(h){let d=new ie(ft.comparator);d=d.insert(h,Qe.newNoDocument(h,Et.min()));const g=Vt().add(h),_=new pc(Et.min(),new Map,new ie(Rt),d,g);await y0(s,_),s.ou=s.ou.remove(h),s._u.delete(e),Pd(s)}else await rd(s.localStore,e,!1).then(()=>od(s,e,i)).catch(Rs)}async function uR(r,e){const i=Tt(r),s=e.batch.batchId;try{const o=await pb(i.localStore,e);v0(i,s,null),_0(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),await oo(i,o)}catch(o){await Rs(o)}}async function cR(r,e,i){const s=Tt(r);try{const o=await function(d,g){const _=Tt(d);return _.persistence.runTransaction("Reject batch","readwrite-primary",v=>{let A;return _.mutationQueue.lookupMutationBatch(v,g).next(I=>(qt(I!==null,37113),A=I.keys(),_.mutationQueue.removeMutationBatch(v,I))).next(()=>_.mutationQueue.performConsistencyCheck(v)).next(()=>_.documentOverlayCache.removeOverlaysForBatchId(v,A,g)).next(()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,A)).next(()=>_.localDocuments.getDocuments(v,A))})}(s.localStore,e);v0(s,e,i),_0(s,e),s.sharedClientState.updateMutationState(e,"rejected",i),await oo(s,o)}catch(o){await Rs(o)}}function _0(r,e){(r.cu.get(e)||[]).forEach(i=>{i.resolve()}),r.cu.delete(e)}function v0(r,e,i){const s=Tt(r);let o=s.uu[s.currentUser.toKey()];if(o){const h=o.get(e);h&&(i?h.reject(i):h.resolve(),o=o.remove(e)),s.uu[s.currentUser.toKey()]=o}}function od(r,e,i=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.iu.get(e))r.ru.delete(s),i&&r.nu.Tu(s,i);r.iu.delete(e),r.isPrimaryClient&&r.au.Ur(e).forEach(s=>{r.au.containsKey(s)||E0(r,s)})}function E0(r,e){r.su.delete(e.path.canonicalString());const i=r.ou.get(e);i!==null&&(Nd(r.remoteStore,i),r.ou=r.ou.remove(e),r._u.delete(i),Pd(r))}function S_(r,e,i){for(const s of i)s instanceof m0?(r.au.addReference(s.key,e),hR(r,s)):s instanceof g0?(st(Ld,"Document no longer in limbo: "+s.key),r.au.removeReference(s.key,e),r.au.containsKey(s.key)||E0(r,s.key)):pt(19791,{Iu:s})}function hR(r,e){const i=e.key,s=i.path.canonicalString();r.ou.get(i)||r.su.has(s)||(st(Ld,"New document in limbo: "+i),r.su.add(s),Pd(r))}function Pd(r){for(;r.su.size>0&&r.ou.size<r.maxConcurrentLimboResolutions;){const e=r.su.values().next().value;r.su.delete(e);const i=new ft(Wt.fromString(e)),s=r.lu.next();r._u.set(s,new tR(i)),r.ou=r.ou.insert(i,s),o0(r.remoteStore,new ca(ei(Vv(i.path)),s,"TargetPurposeLimboResolution",uc.le))}}async function oo(r,e,i){const s=Tt(r),o=[],h=[],d=[];s.ru.isEmpty()||(s.ru.forEach((g,_)=>{d.push(s.Pu(_,e,i).then(v=>{var A;if((v||i)&&s.isPrimaryClient){const I=v?!v.fromCache:(A=i==null?void 0:i.targetChanges.get(_.targetId))===null||A===void 0?void 0:A.current;s.sharedClientState.updateQueryState(_.targetId,I?"current":"not-current")}if(v){o.push(v);const I=Cd.Ps(_.targetId,v);h.push(I)}}))}),await Promise.all(d),s.nu.Q_(o),await async function(_,v){const A=Tt(_);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",I=>Z.forEach(v,N=>Z.forEach(N.ls,q=>A.persistence.referenceDelegate.addReference(I,N.targetId,q)).next(()=>Z.forEach(N.hs,q=>A.persistence.referenceDelegate.removeReference(I,N.targetId,q)))))}catch(I){if(!ws(I))throw I;st(Dd,"Failed to update sequence numbers: "+I)}for(const I of v){const N=I.targetId;if(!I.fromCache){const q=A.Ss.get(N),F=q.snapshotVersion,Q=q.withLastLimboFreeSnapshotVersion(F);A.Ss=A.Ss.insert(N,Q)}}}(s.localStore,h))}async function fR(r,e){const i=Tt(r);if(!i.currentUser.isEqual(e)){st(Ld,"User change. New user:",e.toKey());const s=await a0(i.localStore,e);i.currentUser=e,function(h,d){h.cu.forEach(g=>{g.forEach(_=>{_.reject(new lt(J.CANCELLED,d))})}),h.cu.clear()}(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await oo(i,s.Ms)}}function dR(r,e){const i=Tt(r),s=i._u.get(e);if(s&&s.tu)return Vt().add(s.key);{let o=Vt();const h=i.iu.get(e);if(!h)return o;for(const d of h){const g=i.ru.get(d);o=o.unionWith(g.view.Wa)}return o}}function T0(r){const e=Tt(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=y0.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=dR.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=oR.bind(null,e),e.nu.Q_=Xb.bind(null,e.eventManager),e.nu.Tu=$b.bind(null,e.eventManager),e}function mR(r){const e=Tt(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=uR.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=cR.bind(null,e),e}class ic{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=yc(e.databaseInfo.databaseId),this.sharedClientState=this.Au(e),this.persistence=this.Ru(e),await this.persistence.start(),this.localStore=this.Vu(e),this.gcScheduler=this.mu(e,this.localStore),this.indexBackfillerScheduler=this.fu(e,this.localStore)}mu(e,i){return null}fu(e,i){return null}Vu(e){return gb(this.persistence,new fb,e.initialUser,this.serializer)}Ru(e){return new i0(Id.Ei,this.serializer)}Au(e){return new Ab}async terminate(){var e,i;(e=this.gcScheduler)===null||e===void 0||e.stop(),(i=this.indexBackfillerScheduler)===null||i===void 0||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ic.provider={build:()=>new ic};class gR extends ic{constructor(e){super(),this.cacheSizeBytes=e}mu(e,i){qt(this.persistence.referenceDelegate instanceof ec,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new ZS(s,e.asyncQueue,i)}Ru(e){const i=this.cacheSizeBytes!==void 0?tn.withCacheSize(this.cacheSizeBytes):tn.DEFAULT;return new i0(s=>ec.Ei(s,i),this.serializer)}}class ud{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>A_(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=fR.bind(null,this.syncEngine),await Gb(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Qb}()}createDatastore(e){const i=yc(e.databaseInfo.databaseId),s=function(h){return new Ib(h)}(e.databaseInfo);return function(h,d,g,_){return new Vb(h,d,g,_)}(e.authCredentials,e.appCheckCredentials,s,i)}createRemoteStore(e){return function(s,o,h,d,g){return new Mb(s,o,h,d,g)}(this.localStore,this.datastore,e.asyncQueue,i=>A_(this.syncEngine,i,0),function(){return p_.C()?new p_:new Sb}())}createSyncEngine(e,i){return function(o,h,d,g,_,v,A){const I=new eR(o,h,d,g,_,v);return A&&(I.hu=!0),I}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){var e,i;await async function(o){const h=Tt(o);st(fr,"RemoteStore shutting down."),h.aa.add(5),await lo(h),h.ca.shutdown(),h.la.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(i=this.eventManager)===null||i===void 0||i.terminate()}}ud.provider={build:()=>new ud};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pR{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.pu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.pu(this.observer.error,e):Mi("Uncaught Error in snapshot listener:",e.toString()))}yu(){this.muted=!0}pu(e,i){setTimeout(()=>{this.muted||e(i)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sa="FirestoreClient";class yR{constructor(e,i,s,o,h){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=s,this.databaseInfo=o,this.user=Fe.UNAUTHENTICATED,this.clientId=mv.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(s,async d=>{st(Sa,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(s,d=>(st(Sa,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ma;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const s=Ud(i,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function Pf(r,e){r.asyncQueue.verifyOperationInProgress(),st(Sa,"Initializing OfflineComponentProvider");const i=r.configuration;await e.initialize(i);let s=i.initialUser;r.setCredentialChangeListener(async o=>{s.isEqual(o)||(await a0(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function b_(r,e){r.asyncQueue.verifyOperationInProgress();const i=await _R(r);st(Sa,"Initializing OnlineComponentProvider"),await e.initialize(i,r.configuration),r.setCredentialChangeListener(s=>__(e.remoteStore,s)),r.setAppCheckTokenChangeListener((s,o)=>__(e.remoteStore,o)),r._onlineComponents=e}async function _R(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){st(Sa,"Using user provided OfflineComponentProvider");try{await Pf(r,r._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!function(o){return o.name==="FirebaseError"?o.code===J.FAILED_PRECONDITION||o.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(i))throw i;ys("Error using user provided cache. Falling back to memory cache: "+i),await Pf(r,new ic)}}else st(Sa,"Using default OfflineComponentProvider"),await Pf(r,new gR(void 0));return r._offlineComponents}async function A0(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(st(Sa,"Using user provided OnlineComponentProvider"),await b_(r,r._uninitializedComponentsProvider._online)):(st(Sa,"Using default OnlineComponentProvider"),await b_(r,new ud))),r._onlineComponents}function vR(r){return A0(r).then(e=>e.syncEngine)}async function ER(r){const e=await A0(r),i=e.eventManager;return i.onListen=nR.bind(null,e.syncEngine),i.onUnlisten=rR.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=iR.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=sR.bind(null,e.syncEngine),i}function TR(r,e,i={}){const s=new ma;return r.asyncQueue.enqueueAndForget(async()=>function(h,d,g,_,v){const A=new pR({next:N=>{A.yu(),d.enqueueAndForget(()=>Kb(h,I)),N.fromCache&&_.source==="server"?v.reject(new lt(J.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(N)},error:N=>v.reject(N)}),I=new Zb(g,A,{includeMetadataChanges:!0,Fa:!0});return Yb(h,I)}(await ER(r),r.asyncQueue,e,i,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S0(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b0(r,e,i){if(!i)throw new lt(J.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function AR(r,e,i,s){if(e===!0&&s===!0)throw new lt(J.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function w_(r){if(!ft.isDocumentKey(r))throw new lt(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function I_(r){if(ft.isDocumentKey(r))throw new lt(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Ec(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":pt(12329,{type:typeof r})}function ac(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new lt(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Ec(r);throw new lt(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R0="firestore.googleapis.com",C_=!0;class D_{constructor(e){var i,s;if(e.host===void 0){if(e.ssl!==void 0)throw new lt(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=R0,this.ssl=C_}else this.host=e.host,this.ssl=(i=e.ssl)!==null&&i!==void 0?i:C_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=n0;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<XS)throw new lt(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}AR("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=S0((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(h){if(h.timeoutSeconds!==void 0){if(isNaN(h.timeoutSeconds))throw new lt(J.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (must not be NaN)`);if(h.timeoutSeconds<5)throw new lt(J.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (minimum allowed value is 5)`);if(h.timeoutSeconds>30)throw new lt(J.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Tc{constructor(e,i,s,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new D_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new lt(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new lt(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new D_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new wA;switch(s.type){case"firstParty":return new NA(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new lt(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,X_("Firestore",this._settings.isUsingEmulator),this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const s=R_.get(i);s&&(st("ComponentProvider","Removing Datastore"),R_.delete(i),s.terminate())}(this),Promise.resolve()}}function SR(r,e,i,s={}){var o;r=ac(r,Tc);const h=dd(e),d=r._getSettings(),g=Object.assign(Object.assign({},d),{emulatorOptions:r._getEmulatorOptions()}),_=`${e}:${i}`;d.host!==R0&&d.host!==_&&ys("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v=Object.assign(Object.assign({},d),{host:_,ssl:h,emulatorOptions:s});if(!Kl(v,g)&&(r._setSettings(v),h&&(e1(`https://${_}`),X_("Firestore",!0)),s.mockUserToken)){let A,I;if(typeof s.mockUserToken=="string")A=s.mockUserToken,I=Fe.MOCK_USER;else{A=n1(s.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const N=s.mockUserToken.sub||s.mockUserToken.user_id;if(!N)throw new lt(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");I=new Fe(N)}r._authCredentials=new IA(new fv(A,I))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr{constructor(e,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new vr(this.firestore,e,this._query)}}class In{constructor(e,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ga(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new In(this.firestore,e,this._key)}}class ga extends vr{constructor(e,i,s){super(e,i,Vv(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new In(this.firestore,null,new ft(e))}withConverter(e){return new ga(this.firestore,e,this._path)}}function N_(r,e,...i){if(r=pa(r),b0("collection","path",e),r instanceof Tc){const s=Wt.fromString(e,...i);return I_(s),new ga(r,null,s)}{if(!(r instanceof In||r instanceof ga))throw new lt(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Wt.fromString(e,...i));return I_(s),new ga(r.firestore,null,s)}}function bR(r,e,...i){if(r=pa(r),arguments.length===1&&(e=mv.newId()),b0("doc","path",e),r instanceof Tc){const s=Wt.fromString(e,...i);return w_(s),new In(r,null,new ft(s))}{if(!(r instanceof In||r instanceof ga))throw new lt(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Wt.fromString(e,...i));return w_(s),new In(r.firestore,r instanceof ga?r.converter:null,new ft(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V_="AsyncQueue";class O_{constructor(e=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new s0(this,"async_queue_retry"),this.ju=()=>{const s=Lf();s&&st(V_,"Visibility state changed to "+s.visibilityState),this.y_.A_()},this.Hu=e;const i=Lf();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ju(),this.Yu(e)}enterRestrictedMode(e){if(!this.$u){this.$u=!0,this.Gu=e||!1;const i=Lf();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this.ju)}}enqueue(e){if(this.Ju(),this.$u)return new Promise(()=>{});const i=new ma;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(e().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qu.push(e),this.Zu()))}async Zu(){if(this.Qu.length!==0){try{await this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(e){if(!ws(e))throw e;st(V_,"Operation failed with retryable error: "+e)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}}Yu(e){const i=this.Hu.then(()=>(this.Wu=!0,e().catch(s=>{throw this.Ku=s,this.Wu=!1,Mi("INTERNAL UNHANDLED ERROR: ",M_(s)),s}).then(s=>(this.Wu=!1,s))));return this.Hu=i,i}enqueueAfterDelay(e,i,s){this.Ju(),this.zu.indexOf(e)>-1&&(i=0);const o=xd.createAndSchedule(this,e,i,s,h=>this.Xu(h));return this.Uu.push(o),o}Ju(){this.Ku&&pt(47125,{ec:M_(this.Ku)})}verifyOperationInProgress(){}async tc(){let e;do e=this.Hu,await e;while(e!==this.Hu)}nc(e){for(const i of this.Uu)if(i.timerId===e)return!0;return!1}rc(e){return this.tc().then(()=>{this.Uu.sort((i,s)=>i.targetTimeMs-s.targetTimeMs);for(const i of this.Uu)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.tc()})}sc(e){this.zu.push(e)}Xu(e){const i=this.Uu.indexOf(e);this.Uu.splice(i,1)}}function M_(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class Bd extends Tc{constructor(e,i,s,o){super(e,i,s,o),this.type="firestore",this._queue=new O_,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new O_(e),this._firestoreClient=void 0,await e}}}function RR(r,e){const i=typeof r=="object"?r:nv(),s=typeof r=="string"?r:Xu,o=ao(i,"firestore").getImmediate({identifier:s});if(!o._initialized){const h=WT("firestore");h&&SR(o,...h)}return o}function w0(r){if(r._terminated)throw new lt(J.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||wR(r),r._firestoreClient}function wR(r){var e,i,s;const o=r._freezeSettings(),h=function(g,_,v,A){return new FA(g,_,v,A.host,A.ssl,A.experimentalForceLongPolling,A.experimentalAutoDetectLongPolling,S0(A.experimentalLongPollingOptions),A.useFetchStreams,A.isUsingEmulator)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((i=o.localCache)===null||i===void 0)&&i._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new yR(r._authCredentials,r._appCheckCredentials,r._queue,h,r._componentsProvider&&function(g){const _=g==null?void 0:g._online.build();return{_offline:g==null?void 0:g._offline.build(_),_online:_}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ss{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ss(je.fromBase64String(e))}catch(i){throw new lt(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new Ss(je.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jd{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new lt(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Be(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I0{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kd{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new lt(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new lt(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Rt(this._lat,e._lat)||Rt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qd{constructor(e){this._values=(e||[]).map(i=>i)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let h=0;h<s.length;++h)if(s[h]!==o[h])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IR=/^__.*__$/;class CR{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return this.fieldMask!==null?new yr(e,this.data,this.fieldMask,i,this.fieldTransforms):new ro(e,this.data,i,this.fieldTransforms)}}function C0(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw pt(40011,{oc:r})}}class Hd{constructor(e,i,s,o,h,d){this.settings=e,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=o,h===void 0&&this._c(),this.fieldTransforms=h||[],this.fieldMask=d||[]}get path(){return this.settings.path}get oc(){return this.settings.oc}ac(e){return new Hd(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}uc(e){var i;const s=(i=this.path)===null||i===void 0?void 0:i.child(e),o=this.ac({path:s,cc:!1});return o.lc(e),o}hc(e){var i;const s=(i=this.path)===null||i===void 0?void 0:i.child(e),o=this.ac({path:s,cc:!1});return o._c(),o}Pc(e){return this.ac({path:void 0,cc:!0})}Tc(e){return rc(e,this.settings.methodName,this.settings.Ic||!1,this.path,this.settings.Ec)}contains(e){return this.fieldMask.find(i=>e.isPrefixOf(i))!==void 0||this.fieldTransforms.find(i=>e.isPrefixOf(i.field))!==void 0}_c(){if(this.path)for(let e=0;e<this.path.length;e++)this.lc(this.path.get(e))}lc(e){if(e.length===0)throw this.Tc("Document fields must not be empty");if(C0(this.oc)&&IR.test(e))throw this.Tc('Document fields cannot begin and end with "__"')}}class DR{constructor(e,i,s){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=s||yc(e)}dc(e,i,s,o=!1){return new Hd({oc:e,methodName:i,Ec:s,path:Be.emptyPath(),cc:!1,Ic:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function D0(r){const e=r._freezeSettings(),i=yc(r._databaseId);return new DR(r._databaseId,!!e.ignoreUndefinedProperties,i)}function NR(r,e,i,s,o,h={}){const d=r.dc(h.merge||h.mergeFields?2:0,e,i,o);O0("Data must be an object, but it was:",d,s);const g=N0(s,d);let _,v;if(h.merge)_=new xn(d.fieldMask),v=d.fieldTransforms;else if(h.mergeFields){const A=[];for(const I of h.mergeFields){const N=OR(e,I,i);if(!d.contains(N))throw new lt(J.INVALID_ARGUMENT,`Field '${N}' is specified in your field mask but missing from your input data.`);xR(A,N)||A.push(N)}_=new xn(A),v=d.fieldTransforms.filter(I=>_.covers(I.field))}else _=null,v=d.fieldTransforms;return new CR(new wn(g),_,v)}function VR(r,e,i,s=!1){return Gd(i,r.dc(s?4:3,e))}function Gd(r,e){if(V0(r=pa(r)))return O0("Unsupported field value:",e,r),N0(r,e);if(r instanceof I0)return function(s,o){if(!C0(o.oc))throw o.Tc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Tc(`${s._methodName}() is not currently supported inside arrays`);const h=s._toFieldTransform(o);h&&o.fieldTransforms.push(h)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.cc&&e.oc!==4)throw e.Tc("Nested arrays are not supported");return function(s,o){const h=[];let d=0;for(const g of s){let _=Gd(g,o.Pc(d));_==null&&(_={nullValue:"NULL_VALUE"}),h.push(_),d++}return{arrayValue:{values:h}}}(r,e)}return function(s,o){if((s=pa(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return mS(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const h=_e.fromDate(s);return{timestampValue:tc(o.serializer,h)}}if(s instanceof _e){const h=new _e(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:tc(o.serializer,h)}}if(s instanceof kd)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Ss)return{bytesValue:Xv(o.serializer,s._byteString)};if(s instanceof In){const h=o.databaseId,d=s.firestore._databaseId;if(!d.isEqual(h))throw o.Tc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:Rd(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof qd)return function(d,g){return{mapValue:{fields:{[Av]:{stringValue:Sv},[$u]:{arrayValue:{values:d.toArray().map(v=>{if(typeof v!="number")throw g.Tc("VectorValues must only contain numeric values.");return Ad(g.serializer,v)})}}}}}}(s,o);throw o.Tc(`Unsupported field value: ${Ec(s)}`)}(r,e)}function N0(r,e){const i={};return pv(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):gr(r,(s,o)=>{const h=Gd(o,e.uc(s));h!=null&&(i[s]=h)}),{mapValue:{fields:i}}}function V0(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof _e||r instanceof kd||r instanceof Ss||r instanceof In||r instanceof I0||r instanceof qd)}function O0(r,e,i){if(!V0(i)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(i)){const s=Ec(i);throw s==="an object"?e.Tc(r+" a custom object"):e.Tc(r+" "+s)}}function OR(r,e,i){if((e=pa(e))instanceof jd)return e._internalPath;if(typeof e=="string")return M0(r,e);throw rc("Field path arguments must be of type string or ",r,!1,void 0,i)}const MR=new RegExp("[~\\*/\\[\\]]");function M0(r,e,i){if(e.search(MR)>=0)throw rc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new jd(...e.split("."))._internalPath}catch{throw rc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function rc(r,e,i,s,o){const h=s&&!s.isEmpty(),d=o!==void 0;let g=`Function ${e}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let _="";return(h||d)&&(_+=" (found",h&&(_+=` in field ${s}`),d&&(_+=` in document ${o}`),_+=")"),new lt(J.INVALID_ARGUMENT,g+r+_)}function xR(r,e){return r.some(i=>i.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x0{constructor(e,i,s,o,h){this._firestore=e,this._userDataWriter=i,this._key=s,this._document=o,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new In(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new UR(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(Fd("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class UR extends x0{data(){return super.data()}}function Fd(r,e){return typeof e=="string"?M0(r,e):e instanceof jd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zR(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new lt(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Qd{}class U0 extends Qd{}function LR(r,e,...i){let s=[];e instanceof Qd&&s.push(e),s=s.concat(i),function(h){const d=h.filter(_=>_ instanceof Kd).length,g=h.filter(_=>_ instanceof Yd).length;if(d>1||d>0&&g>0)throw new lt(J.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)r=o._apply(r);return r}class Yd extends U0{constructor(e,i,s){super(),this._field=e,this._op=i,this._value=s,this.type="where"}static _create(e,i,s){return new Yd(e,i,s)}_apply(e){const i=this._parse(e);return z0(e._query,i),new vr(e.firestore,e.converter,Wf(e._query,i))}_parse(e){const i=D0(e.firestore);return function(h,d,g,_,v,A,I){let N;if(v.isKeyField()){if(A==="array-contains"||A==="array-contains-any")throw new lt(J.INVALID_ARGUMENT,`Invalid Query. You can't perform '${A}' queries on documentId().`);if(A==="in"||A==="not-in"){U_(I,A);const F=[];for(const Q of I)F.push(x_(_,h,Q));N={arrayValue:{values:F}}}else N=x_(_,h,I)}else A!=="in"&&A!=="not-in"&&A!=="array-contains-any"||U_(I,A),N=VR(g,d,I,A==="in"||A==="not-in");return ye.create(v,A,N)}(e._query,"where",i,e.firestore._databaseId,this._field,this._op,this._value)}}class Kd extends Qd{constructor(e,i){super(),this.type=e,this._queryConstraints=i}static _create(e,i){return new Kd(e,i)}_parse(e){const i=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return i.length===1?i[0]:Un.create(i,this._getOperator())}_apply(e){const i=this._parse(e);return i.getFilters().length===0?e:(function(o,h){let d=o;const g=h.getFlattenedFilters();for(const _ of g)z0(d,_),d=Wf(d,_)}(e._query,i),new vr(e.firestore,e.converter,Wf(e._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Xd extends U0{constructor(e,i){super(),this._field=e,this._direction=i,this.type="orderBy"}static _create(e,i){return new Xd(e,i)}_apply(e){const i=function(o,h,d){if(o.startAt!==null)throw new lt(J.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new lt(J.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new to(h,d)}(e._query,this._field,this._direction);return new vr(e.firestore,e.converter,function(o,h){const d=o.explicitOrderBy.concat([h]);return new Is(o.path,o.collectionGroup,d,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,i))}}function PR(r,e="asc"){const i=e,s=Fd("orderBy",r);return Xd._create(s,i)}function x_(r,e,i){if(typeof(i=pa(i))=="string"){if(i==="")throw new lt(J.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Ov(e)&&i.indexOf("/")!==-1)throw new lt(J.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const s=e.path.child(Wt.fromString(i));if(!ft.isDocumentKey(s))throw new lt(J.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Ky(r,new ft(s))}if(i instanceof In)return Ky(r,i._key);throw new lt(J.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ec(i)}.`)}function U_(r,e){if(!Array.isArray(r)||r.length===0)throw new lt(J.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function z0(r,e){const i=function(o,h){for(const d of o)for(const g of d.getFlattenedFilters())if(h.indexOf(g.op)>=0)return g.op;return null}(r.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(i!==null)throw i===e.op?new lt(J.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new lt(J.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${i.toString()}' filters.`)}class BR{convertValue(e,i="none"){switch(Ta(e)){case 0:return null;case 1:return e.booleanValue;case 2:return he(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(Ea(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw pt(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const s={};return gr(e,(o,h)=>{s[o]=this.convertValue(h,i)}),s}convertVectorValue(e){var i,s,o;const h=(o=(s=(i=e.fields)===null||i===void 0?void 0:i[$u].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(d=>he(d.doubleValue));return new qd(h)}convertGeoPoint(e){return new kd(he(e.latitude),he(e.longitude))}convertArray(e,i){return(e.values||[]).map(s=>this.convertValue(s,i))}convertServerTimestamp(e,i){switch(i){case"previous":const s=hc(e);return s==null?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp(Zl(e));default:return null}}convertTimestamp(e){const i=va(e);return new _e(i.seconds,i.nanos)}convertDocumentKey(e,i){const s=Wt.fromString(e);qt(e0(s),9688,{name:e});const o=new Jl(s.get(1),s.get(3)),h=new ft(s.popFirst(5));return o.isEqual(i)||Mi(`Document ${h} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jR(r,e,i){let s;return s=r?r.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bu{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class kR extends x0{constructor(e,i,s,o,h,d){super(e,i,s,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=h}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Fu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const s=this._document.data.field(Fd("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}}class Fu extends kR{data(e={}){return super.data(e)}}class qR{constructor(e,i,s,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new Bu(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(i=>e.push(i)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach(s=>{e.call(i,new Fu(this._firestore,this._userDataWriter,s.key,s,new Bu(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new lt(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(o,h){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map(g=>{const _=new Fu(o._firestore,o._userDataWriter,g.doc.key,g.doc,new Bu(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);return g.doc,{type:"added",doc:_,oldIndex:-1,newIndex:d++}})}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(g=>h||g.type!==3).map(g=>{const _=new Fu(o._firestore,o._userDataWriter,g.doc.key,g.doc,new Bu(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);let v=-1,A=-1;return g.type!==0&&(v=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),A=d.indexOf(g.doc.key)),{type:HR(g.type),doc:_,oldIndex:v,newIndex:A}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}}function HR(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return pt(61501,{type:r})}}class GR extends BR{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ss(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new In(this.firestore,null,i)}}function FR(r){r=ac(r,vr);const e=ac(r.firestore,Bd),i=w0(e),s=new GR(e);return zR(r._query),TR(i,r._query).then(o=>new qR(e,s,r,o))}function QR(r,e){const i=ac(r.firestore,Bd),s=bR(r),o=jR(r.converter,e);return YR(i,[NR(D0(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,Ni.exists(!1))]).then(()=>s)}function YR(r,e){return function(s,o){const h=new ma;return s.asyncQueue.enqueueAndForget(async()=>lR(await vR(s),o,h)),h.promise}(w0(r),e)}(function(e,i=!0){(function(o){bs=o})(gA),ya(new Vi("firestore",(s,{instanceIdentifier:o,options:h})=>{const d=s.getProvider("app").getImmediate(),g=new Bd(new CA(s.getProvider("auth-internal")),new VA(d,s.getProvider("app-check-internal")),function(v,A){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new lt(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Jl(v.options.projectId,A)}(d,o),d);return h=Object.assign({useFetchStreams:i},h),g._setSettings(h),g},"PUBLIC").setMultipleInstances(!0)),ti(zy,Ly,e),ti(zy,Ly,"esm2017")})();var KR="firebase",XR="11.7.3";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ti(KR,XR,"app");const L0="@firebase/installations",$d="0.6.16";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P0=1e4,B0=`w:${$d}`,j0="FIS_v2",$R="https://firebaseinstallations.googleapis.com/v1",ZR=60*60*1e3,JR="installations",WR="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t2={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},dr=new oc(JR,WR,t2);function k0(r){return r instanceof ba&&r.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q0({projectId:r}){return`${$R}/projects/${r}/installations`}function H0(r){return{token:r.token,requestStatus:2,expiresIn:n2(r.expiresIn),creationTime:Date.now()}}async function G0(r,e){const s=(await e.json()).error;return dr.create("request-failed",{requestName:r,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function F0({apiKey:r}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":r})}function e2(r,{refreshToken:e}){const i=F0(r);return i.append("Authorization",i2(e)),i}async function Q0(r){const e=await r();return e.status>=500&&e.status<600?r():e}function n2(r){return Number(r.replace("s","000"))}function i2(r){return`${j0} ${r}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function a2({appConfig:r,heartbeatServiceProvider:e},{fid:i}){const s=q0(r),o=F0(r),h=e.getImmediate({optional:!0});if(h){const v=await h.getHeartbeatsHeader();v&&o.append("x-firebase-client",v)}const d={fid:i,authVersion:j0,appId:r.appId,sdkVersion:B0},g={method:"POST",headers:o,body:JSON.stringify(d)},_=await Q0(()=>fetch(s,g));if(_.ok){const v=await _.json();return{fid:v.fid||i,registrationStatus:2,refreshToken:v.refreshToken,authToken:H0(v.authToken)}}else throw await G0("Create Installation",_)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y0(r){return new Promise(e=>{setTimeout(e,r)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r2(r){return btoa(String.fromCharCode(...r)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s2=/^[cdef][\w-]{21}$/,cd="";function l2(){try{const r=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(r),r[0]=112+r[0]%16;const i=o2(r);return s2.test(i)?i:cd}catch{return cd}}function o2(r){return r2(r).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ac(r){return`${r.appName}!${r.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K0=new Map;function X0(r,e){const i=Ac(r);$0(i,e),u2(i,e)}function $0(r,e){const i=K0.get(r);if(i)for(const s of i)s(e)}function u2(r,e){const i=c2();i&&i.postMessage({key:r,fid:e}),h2()}let cr=null;function c2(){return!cr&&"BroadcastChannel"in self&&(cr=new BroadcastChannel("[Firebase] FID Change"),cr.onmessage=r=>{$0(r.data.key,r.data.fid)}),cr}function h2(){K0.size===0&&cr&&(cr.close(),cr=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f2="firebase-installations-database",d2=1,mr="firebase-installations-store";let Bf=null;function Zd(){return Bf||(Bf=tv(f2,d2,{upgrade:(r,e)=>{switch(e){case 0:r.createObjectStore(mr)}}})),Bf}async function sc(r,e){const i=Ac(r),o=(await Zd()).transaction(mr,"readwrite"),h=o.objectStore(mr),d=await h.get(i);return await h.put(e,i),await o.done,(!d||d.fid!==e.fid)&&X0(r,e.fid),e}async function Z0(r){const e=Ac(r),s=(await Zd()).transaction(mr,"readwrite");await s.objectStore(mr).delete(e),await s.done}async function Sc(r,e){const i=Ac(r),o=(await Zd()).transaction(mr,"readwrite"),h=o.objectStore(mr),d=await h.get(i),g=e(d);return g===void 0?await h.delete(i):await h.put(g,i),await o.done,g&&(!d||d.fid!==g.fid)&&X0(r,g.fid),g}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jd(r){let e;const i=await Sc(r.appConfig,s=>{const o=m2(s),h=g2(r,o);return e=h.registrationPromise,h.installationEntry});return i.fid===cd?{installationEntry:await e}:{installationEntry:i,registrationPromise:e}}function m2(r){const e=r||{fid:l2(),registrationStatus:0};return J0(e)}function g2(r,e){if(e.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(dr.create("app-offline"));return{installationEntry:e,registrationPromise:o}}const i={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},s=p2(r,i);return{installationEntry:i,registrationPromise:s}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:y2(r)}:{installationEntry:e}}async function p2(r,e){try{const i=await a2(r,e);return sc(r.appConfig,i)}catch(i){throw k0(i)&&i.customData.serverCode===409?await Z0(r.appConfig):await sc(r.appConfig,{fid:e.fid,registrationStatus:0}),i}}async function y2(r){let e=await z_(r.appConfig);for(;e.registrationStatus===1;)await Y0(100),e=await z_(r.appConfig);if(e.registrationStatus===0){const{installationEntry:i,registrationPromise:s}=await Jd(r);return s||i}return e}function z_(r){return Sc(r,e=>{if(!e)throw dr.create("installation-not-found");return J0(e)})}function J0(r){return _2(r)?{fid:r.fid,registrationStatus:0}:r}function _2(r){return r.registrationStatus===1&&r.registrationTime+P0<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function v2({appConfig:r,heartbeatServiceProvider:e},i){const s=E2(r,i),o=e2(r,i),h=e.getImmediate({optional:!0});if(h){const v=await h.getHeartbeatsHeader();v&&o.append("x-firebase-client",v)}const d={installation:{sdkVersion:B0,appId:r.appId}},g={method:"POST",headers:o,body:JSON.stringify(d)},_=await Q0(()=>fetch(s,g));if(_.ok){const v=await _.json();return H0(v)}else throw await G0("Generate Auth Token",_)}function E2(r,{fid:e}){return`${q0(r)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wd(r,e=!1){let i;const s=await Sc(r.appConfig,h=>{if(!W0(h))throw dr.create("not-registered");const d=h.authToken;if(!e&&S2(d))return h;if(d.requestStatus===1)return i=T2(r,e),h;{if(!navigator.onLine)throw dr.create("app-offline");const g=R2(h);return i=A2(r,g),g}});return i?await i:s.authToken}async function T2(r,e){let i=await L_(r.appConfig);for(;i.authToken.requestStatus===1;)await Y0(100),i=await L_(r.appConfig);const s=i.authToken;return s.requestStatus===0?Wd(r,e):s}function L_(r){return Sc(r,e=>{if(!W0(e))throw dr.create("not-registered");const i=e.authToken;return w2(i)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function A2(r,e){try{const i=await v2(r,e),s=Object.assign(Object.assign({},e),{authToken:i});return await sc(r.appConfig,s),i}catch(i){if(k0(i)&&(i.customData.serverCode===401||i.customData.serverCode===404))await Z0(r.appConfig);else{const s=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await sc(r.appConfig,s)}throw i}}function W0(r){return r!==void 0&&r.registrationStatus===2}function S2(r){return r.requestStatus===2&&!b2(r)}function b2(r){const e=Date.now();return e<r.creationTime||r.creationTime+r.expiresIn<e+ZR}function R2(r){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},r),{authToken:e})}function w2(r){return r.requestStatus===1&&r.requestTime+P0<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function I2(r){const e=r,{installationEntry:i,registrationPromise:s}=await Jd(e);return s?s.catch(console.error):Wd(e).catch(console.error),i.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function C2(r,e=!1){const i=r;return await D2(i),(await Wd(i,e)).token}async function D2(r){const{registrationPromise:e}=await Jd(r);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N2(r){if(!r||!r.options)throw jf("App Configuration");if(!r.name)throw jf("App Name");const e=["projectId","apiKey","appId"];for(const i of e)if(!r.options[i])throw jf(i);return{appName:r.name,projectId:r.options.projectId,apiKey:r.options.apiKey,appId:r.options.appId}}function jf(r){return dr.create("missing-app-config-values",{valueName:r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tE="installations",V2="installations-internal",O2=r=>{const e=r.getProvider("app").getImmediate(),i=N2(e),s=ao(e,"heartbeat");return{app:e,appConfig:i,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},M2=r=>{const e=r.getProvider("app").getImmediate(),i=ao(e,tE).getImmediate();return{getId:()=>I2(i),getToken:o=>C2(i,o)}};function x2(){ya(new Vi(tE,O2,"PUBLIC")),ya(new Vi(V2,M2,"PRIVATE"))}x2();ti(L0,$d);ti(L0,$d,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lc="analytics",U2="firebase_id",z2="origin",L2=60*1e3,P2="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",tm="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const en=new md("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B2={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},fn=new oc("analytics","Analytics",B2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j2(r){if(!r.startsWith(tm)){const e=fn.create("invalid-gtag-resource",{gtagURL:r});return en.warn(e.message),""}return r}function eE(r){return Promise.all(r.map(e=>e.catch(i=>i)))}function k2(r,e){let i;return window.trustedTypes&&(i=window.trustedTypes.createPolicy(r,e)),i}function q2(r,e){const i=k2("firebase-js-sdk-policy",{createScriptURL:j2}),s=document.createElement("script"),o=`${tm}?l=${r}&id=${e}`;s.src=i?i==null?void 0:i.createScriptURL(o):o,s.async=!0,document.head.appendChild(s)}function H2(r){let e=[];return Array.isArray(window[r])?e=window[r]:window[r]=e,e}async function G2(r,e,i,s,o,h){const d=s[o];try{if(d)await e[d];else{const _=(await eE(i)).find(v=>v.measurementId===o);_&&await e[_.appId]}}catch(g){en.error(g)}r("config",o,h)}async function F2(r,e,i,s,o){try{let h=[];if(o&&o.send_to){let d=o.send_to;Array.isArray(d)||(d=[d]);const g=await eE(i);for(const _ of d){const v=g.find(I=>I.measurementId===_),A=v&&e[v.appId];if(A)h.push(A);else{h=[];break}}}h.length===0&&(h=Object.values(e)),await Promise.all(h),r("event",s,o||{})}catch(h){en.error(h)}}function Q2(r,e,i,s){async function o(h,...d){try{if(h==="event"){const[g,_]=d;await F2(r,e,i,g,_)}else if(h==="config"){const[g,_]=d;await G2(r,e,i,s,g,_)}else if(h==="consent"){const[g,_]=d;r("consent",g,_)}else if(h==="get"){const[g,_,v]=d;r("get",g,_,v)}else if(h==="set"){const[g]=d;r("set",g)}else r(h,...d)}catch(g){en.error(g)}}return o}function Y2(r,e,i,s,o){let h=function(...d){window[s].push(arguments)};return window[o]&&typeof window[o]=="function"&&(h=window[o]),window[o]=Q2(h,r,e,i),{gtagCore:h,wrappedGtag:window[o]}}function K2(r){const e=window.document.getElementsByTagName("script");for(const i of Object.values(e))if(i.src&&i.src.includes(tm)&&i.src.includes(r))return i;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X2=30,$2=1e3;class Z2{constructor(e={},i=$2){this.throttleMetadata=e,this.intervalMillis=i}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,i){this.throttleMetadata[e]=i}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const nE=new Z2;function J2(r){return new Headers({Accept:"application/json","x-goog-api-key":r})}async function W2(r){var e;const{appId:i,apiKey:s}=r,o={method:"GET",headers:J2(s)},h=P2.replace("{app-id}",i),d=await fetch(h,o);if(d.status!==200&&d.status!==304){let g="";try{const _=await d.json();!((e=_.error)===null||e===void 0)&&e.message&&(g=_.error.message)}catch{}throw fn.create("config-fetch-failed",{httpStatus:d.status,responseMessage:g})}return d.json()}async function tw(r,e=nE,i){const{appId:s,apiKey:o,measurementId:h}=r.options;if(!s)throw fn.create("no-app-id");if(!o){if(h)return{measurementId:h,appId:s};throw fn.create("no-api-key")}const d=e.getThrottleMetadata(s)||{backoffCount:0,throttleEndTimeMillis:Date.now()},g=new iw;return setTimeout(async()=>{g.abort()},L2),iE({appId:s,apiKey:o,measurementId:h},d,g,e)}async function iE(r,{throttleEndTimeMillis:e,backoffCount:i},s,o=nE){var h;const{appId:d,measurementId:g}=r;try{await ew(s,e)}catch(_){if(g)return en.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${g} provided in the "measurementId" field in the local Firebase config. [${_==null?void 0:_.message}]`),{appId:d,measurementId:g};throw _}try{const _=await W2(r);return o.deleteThrottleMetadata(d),_}catch(_){const v=_;if(!nw(v)){if(o.deleteThrottleMetadata(d),g)return en.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${g} provided in the "measurementId" field in the local Firebase config. [${v==null?void 0:v.message}]`),{appId:d,measurementId:g};throw _}const A=Number((h=v==null?void 0:v.customData)===null||h===void 0?void 0:h.httpStatus)===503?wy(i,o.intervalMillis,X2):wy(i,o.intervalMillis),I={throttleEndTimeMillis:Date.now()+A,backoffCount:i+1};return o.setThrottleMetadata(d,I),en.debug(`Calling attemptFetch again in ${A} millis`),iE(r,I,s,o)}}function ew(r,e){return new Promise((i,s)=>{const o=Math.max(e-Date.now(),0),h=setTimeout(i,o);r.addEventListener(()=>{clearTimeout(h),s(fn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function nw(r){if(!(r instanceof ba)||!r.customData)return!1;const e=Number(r.customData.httpStatus);return e===429||e===500||e===503||e===504}class iw{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function aw(r,e,i,s,o){if(o&&o.global){r("event",i,s);return}else{const h=await e,d=Object.assign(Object.assign({},s),{send_to:h});r("event",i,d)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rw(){if($_())try{await Z_()}catch(r){return en.warn(fn.create("indexeddb-unavailable",{errorInfo:r==null?void 0:r.toString()}).message),!1}else return en.warn(fn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function sw(r,e,i,s,o,h,d){var g;const _=tw(r);_.then(q=>{i[q.measurementId]=q.appId,r.options.measurementId&&q.measurementId!==r.options.measurementId&&en.warn(`The measurement ID in the local Firebase config (${r.options.measurementId}) does not match the measurement ID fetched from the server (${q.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(q=>en.error(q)),e.push(_);const v=rw().then(q=>{if(q)return s.getId()}),[A,I]=await Promise.all([_,v]);K2(h)||q2(h,A.measurementId),o("js",new Date);const N=(g=d==null?void 0:d.config)!==null&&g!==void 0?g:{};return N[z2]="firebase",N.update=!0,I!=null&&(N[U2]=I),o("config",A.measurementId,N),A.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lw{constructor(e){this.app=e}_delete(){return delete Yl[this.app.options.appId],Promise.resolve()}}let Yl={},P_=[];const B_={};let kf="dataLayer",ow="gtag",j_,aE,k_=!1;function uw(){const r=[];if(l1()&&r.push("This is a browser extension environment."),u1()||r.push("Cookies are not available."),r.length>0){const e=r.map((s,o)=>`(${o+1}) ${s}`).join(" "),i=fn.create("invalid-analytics-context",{errorInfo:e});en.warn(i.message)}}function cw(r,e,i){uw();const s=r.options.appId;if(!s)throw fn.create("no-app-id");if(!r.options.apiKey)if(r.options.measurementId)en.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${r.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw fn.create("no-api-key");if(Yl[s]!=null)throw fn.create("already-exists",{id:s});if(!k_){H2(kf);const{wrappedGtag:h,gtagCore:d}=Y2(Yl,P_,B_,kf,ow);aE=h,j_=d,k_=!0}return Yl[s]=sw(r,P_,B_,e,j_,kf,i),new lw(r)}function hw(r=nv()){r=pa(r);const e=ao(r,lc);return e.isInitialized()?e.getImmediate():fw(r)}function fw(r,e={}){const i=ao(r,lc);if(i.isInitialized()){const o=i.getImmediate();if(Kl(e,i.getOptions()))return o;throw fn.create("already-initialized")}return i.initialize({options:e})}function dw(r,e,i,s){r=pa(r),aw(aE,Yl[r.app.options.appId],e,i,s).catch(o=>en.error(o))}const q_="@firebase/analytics",H_="0.10.15";function mw(){ya(new Vi(lc,(e,{options:i})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("installations-internal").getImmediate();return cw(s,o,i)},"PUBLIC")),ya(new Vi("analytics-internal",r,"PRIVATE")),ti(q_,H_),ti(q_,H_,"esm2017");function r(e){try{const i=e.getProvider(lc).getImmediate();return{logEvent:(s,o,h)=>dw(i,s,o,h)}}catch(i){throw fn.create("interop-component-reg-failed",{reason:i})}}}mw();const gw={apiKey:"AIzaSyDMrcvZt0hAtUproH1erhMrRw205GnP-L0",authDomain:"femeiedecasa-5aa32.firebaseapp.com",projectId:"femeiedecasa-5aa32",storageBucket:"femeiedecasa-5aa32.firebasestorage.app",messagingSenderId:"601755161794",appId:"1:601755161794:web:ce0ba6f8d17efb71c5175b",measurementId:"G-4V03L6S69D"},rE=ev(gw),G_=RR(rE);hw(rE);class pw{constructor(){hy(this,"currentUser",null)}async createUser(e){const i=this.generateUserId();return this.currentUser={userId:i,name:e,score:0,answers:[],timestamp:new Date},console.log(`Utilizator nou creat: ${e} (ID: ${i})`),i}addAnswer(e,i){if(!this.currentUser){console.error("Nu exist niciun utilizator curent!");return}const s=this.currentUser.answers.findIndex(o=>o.questionId===e);s>=0?this.currentUser.answers[s].answer=i:this.currentUser.answers.push({questionId:e,answer:i}),console.log(`Rspuns adugat pentru ntrebarea ${e}: ${i}`)}async finishQuiz(e){if(!this.currentUser){console.error("Nu exist niciun utilizator curent!");return}this.currentUser.score=e;try{const i=await QR(N_(G_,"users"),{name:this.currentUser.name,score:this.currentUser.score,answers:this.currentUser.answers,timestamp:_e.fromDate(this.currentUser.timestamp)});return console.log(`Test finalizat pentru ${this.currentUser.name} cu scorul ${e}%`),console.log("Date utilizator salvate n Firebase cu ID:",i.id),Promise.resolve()}catch(i){return console.error("Eroare la salvarea datelor n Firebase:",i),Promise.reject(i)}}getCurrentUser(){return this.currentUser}async getAllUserData(){try{const e=LR(N_(G_,"users"),PR("timestamp","desc")),i=await FR(e),s=[];return i.forEach(o=>{const h=o.data();s.push({userId:o.id,name:h.name,score:h.score,answers:h.answers,timestamp:h.timestamp.toDate()})}),s}catch(e){return console.error("Eroare la obinerea datelor din Firebase:",e),[]}}generateUserId(){return`user_${Date.now()}_${Math.floor(Math.random()*1e3)}`}}const io=new pw,yw=({onFinish:r})=>{const e=[{id:1,text:"Ct de des gteti acas?",options:["Zilnic","De cteva ori pe sptmn","Rar","Niciodat"]},{id:2,text:"Ce preferi s faci cnd ai timp liber?",options:["S fac curat n cas","S m relaxez uitndu-m la TV","S ies n ora cu prietenii","S stau pe telefon/social media"]},{id:3,text:"Cum te simi cnd casa este dezordonat?",options:["Nu pot s m relaxez deloc","M deranjeaz puin","mi pas doar cnd vin musafiri","Nu m afecteaz deloc"]},{id:4,text:"Ct de des faci curenie general?",options:["Sptmnal","Lunar","Doar cnd este necesar","Rar sau niciodat"]},{id:5,text:"Ce faci cnd trebuie s gzduieti musafiri?",options:["Pregtesc totul de la zero cu grij","Fac cumprturi i ceva simplu","Comand mncare de afar","i trimit la restaurant"]}],[i,s]=Ct.useState([]),[o,h]=Ct.useState(0),[d,g]=Ct.useState(!1),_=()=>{o<e.length-1?(g(!0),setTimeout(()=>{h(o+1),g(!1)},500)):I()},v=()=>{o>0&&(g(!0),setTimeout(()=>{h(o-1),g(!1)},500))},A=(Q,Y)=>{const rt=i.findIndex(ut=>ut.questionId===Q);let at=[...i];rt>=0?at[rt]={questionId:Q,selectedOption:Y}:at=[...at,{questionId:Q,selectedOption:Y}],s(at),io.addAnswer(Q,Y),console.log(`Rspuns selectat pentru ntrebarea ${Q}: ${Y}`)},I=()=>{let Q=0;i.forEach(at=>{const ut=e.find(At=>At.id===at.questionId);if(ut){const _t=3-ut.options.indexOf(at.selectedOption);Q+=_t}});const Y=e.length*3,rt=Math.round(Q/Y*100);console.log(`Calculare scor: ${Q}/${Y} = ${rt}%`);try{r(rt)}catch(at){console.error("Eroare la finalizarea quiz-ului:",at),alert("A aprut o eroare la calcularea scorului. Te rugm s ncerci din nou.")}},N=e[o],q=i.find(Q=>Q.questionId===N.id),F=o===e.length-1;return X.jsxs("div",{className:"quiz-screen",children:[X.jsxs("div",{className:"progress-container",children:[X.jsx("div",{className:"progress-bar",children:X.jsx("div",{className:"progress-fill",style:{width:`${(o+1)/e.length*100}%`}})}),X.jsxs("div",{className:"progress-text",children:["ntrebarea ",o+1," din ",e.length]})]}),X.jsxs("div",{className:`question-container ${d?"fade-out":"fade-in"}`,children:[X.jsx("h2",{className:"question-text",children:N.text}),X.jsx("div",{className:"options-container",children:N.options.map((Q,Y)=>X.jsx("button",{className:`option-button ${(q==null?void 0:q.selectedOption)===Q?"selected":""}`,onClick:()=>A(N.id,Q),children:Q},Y))}),X.jsxs("div",{className:"navigation-buttons",children:[o>0&&X.jsx("button",{className:"nav-button back",onClick:v,children:"napoi"}),X.jsx("button",{className:`nav-button ${F?"finish":"next"}`,onClick:_,disabled:!q,children:F?"Finalizeaz":"Urmtoarea"})]})]})]})},_w=({score:r,onRestart:e})=>{const[i,s]=Ct.useState(!1),[o,h]=Ct.useState(!1),[d,g]=Ct.useState(!1),[_,v]=Ct.useState(!1),[A,I]=Ct.useState("");Ct.useEffect(()=>{const rt=io.getCurrentUser();rt&&(I(rt.name),console.log("Afiare rezultate pentru utilizatorul:",rt.name))},[]);const q=r>=80?{title:"Eti o femeie de cas desvrit!",message:`${A}, felicitri! Ai toate calitile unei gospodine perfecte. Cu siguran casa ta strlucete i toi te apreciaz pentru talentele tale domestice. Continui s fii o surs de inspiraie!`}:r>=60?{title:"Ai caliti excelente de gospodin!",message:`${A}, eti aproape perfect n rolul de femeie de cas! Cu puin practic n plus, vei ajunge la nivelul maxim. Continu s i perfecionezi abilitile i vei impresiona pe toat lumea!`}:r>=40?{title:"Ai potenial, dar mai ai de nvat",message:`${A}, ai unele abiliti domestice, dar mai ai loc de mbuntire. Cu puin dedicare i exerciiu, poi deveni o adevrat femeie de cas. Nu renuna i continu s exersezi!`}:{title:"Gospodria nu este punctul tu forte",message:`${A}, se pare c talentele tale sunt n alte domenii dect cel domestic. Nu-i face griji, fiecare persoan are propriile caliti i puncte forte. Poate eti mai creativ sau mai orientat spre carier!`},Q=(()=>{try{return{totalUsers:1,averageScore:r,maxScoreUser:{name:A||"Tine",score:r},position:1}}catch(rt){return console.error("Eroare la obinerea statisticilor:",rt),{totalUsers:1,averageScore:r,maxScoreUser:{name:A||"Tine",score:r},position:1}}})();Ct.useEffect(()=>{const rt=setTimeout(()=>{console.log("Rezultatul devine vizibil"),s(!0)},500),at=setTimeout(()=>{console.log("Mesajul de feedback devine vizibil"),h(!0)},2e3),ut=setTimeout(()=>{console.log("Statisticile devin vizibile"),v(!0)},3500),At=setTimeout(()=>{console.log("Butoanele devin vizibile"),g(!0)},4500);return()=>{clearTimeout(rt),clearTimeout(at),clearTimeout(ut),clearTimeout(At)}},[]);const Y=()=>r>=80?"excellent":r>=60?"good":r>=40?"average":"poor";return X.jsx("div",{className:"result-screen",children:X.jsxs("div",{className:"result-container",children:[X.jsx("h1",{className:"result-title",children:"Rezultatul tu"}),X.jsx("div",{className:`score-circle-container ${i?"visible":""}`,children:X.jsx("div",{className:`score-circle ${Y()}`,children:X.jsxs("div",{className:"score-value",children:[r,"%"]})})}),X.jsxs("div",{className:`feedback-container ${o?"visible":""}`,children:[X.jsx("h2",{className:"feedback-title",children:q.title}),X.jsx("p",{className:"feedback-message",children:q.message})]}),X.jsxs("div",{className:`statistics-container ${_?"visible":""}`,children:[X.jsx("h3",{className:"statistics-title",children:"Statistici"}),X.jsxs("div",{className:"statistics-grid",children:[X.jsxs("div",{className:"statistic-item",children:[X.jsx("div",{className:"statistic-value",children:Q.totalUsers}),X.jsx("div",{className:"statistic-label",children:"Participani"})]}),X.jsxs("div",{className:"statistic-item",children:[X.jsxs("div",{className:"statistic-value",children:[Q.averageScore,"%"]}),X.jsx("div",{className:"statistic-label",children:"Scor mediu"})]}),X.jsxs("div",{className:"statistic-item",children:[X.jsx("div",{className:"statistic-value",children:Q.position}),X.jsx("div",{className:"statistic-label",children:"Poziia ta"})]}),X.jsxs("div",{className:"statistic-item",children:[X.jsx("div",{className:"statistic-value",children:Q.maxScoreUser.name}),X.jsx("div",{className:"statistic-label",children:"Cel mai bun scor"})]})]})]}),X.jsxs("div",{className:`action-buttons ${d?"visible":""}`,children:[X.jsx("button",{className:"restart-button",onClick:e,children:"ncearc din nou"}),X.jsx("button",{className:"share-button",children:"Distribuie rezultatul"})]})]})})},F_=[{id:1,text:"Ct de des gteti acas?",options:["Zilnic","De cteva ori pe sptmn","Rar","Niciodat"]},{id:2,text:"Ce preferi s faci cnd ai timp liber?",options:["S fac curat n cas","S m relaxez uitndu-m la TV","S ies n ora cu prietenii","S stau pe telefon/social media"]},{id:3,text:"Cum te simi cnd casa este dezordonat?",options:["Nu pot s m relaxez deloc","M deranjeaz puin","mi pas doar cnd vin musafiri","Nu m afecteaz deloc"]},{id:4,text:"Ct de des faci curenie general?",options:["Sptmnal","Lunar","Doar cnd este necesar","Rar sau niciodat"]},{id:5,text:"Ce faci cnd trebuie s gzduieti musafiri?",options:["Pregtesc totul de la zero cu grij","Fac cumprturi i ceva simplu","Comand mncare de afar","i trimit la restaurant"]}],vw=({onExit:r})=>{const[e,i]=Ct.useState([]),[s,o]=Ct.useState(!0),[h,d]=Ct.useState(null),[g,_]=Ct.useState([]),[v,A]=Ct.useState(0),[I,N]=Ct.useState(0);Ct.useEffect(()=>{(async()=>{o(!0);try{const Q=await io.getAllUserData();i(Q),q(Q),console.log("Date ncrcate cu succes n AdminScreen:",Q.length,"utilizatori"),o(!1)}catch(Q){console.error("Eroare la ncrcarea datelor:",Q),d("Nu s-au putut ncrca datele. V rugm ncercai din nou mai trziu."),o(!1)}})()},[]);const q=F=>{if(F.length>0){const Y=F.reduce((rt,at)=>rt+at.score,0);A(Math.round(Y/F.length))}N(F.length);const Q=F_.map(Y=>{const rt={};Y.options.forEach(ut=>{rt[ut]=0});let at=0;return F.forEach(ut=>{const At=ut.answers.find(_t=>_t.questionId===Y.id);At&&(rt[At.answer]=(rt[At.answer]||0)+1,at++)}),{questionId:Y.id,text:Y.text,answerCounts:rt,totalResponses:at}});_(Q)};return s?X.jsx("div",{className:"admin-loading",children:"Se ncarc datele..."}):h?X.jsx("div",{className:"admin-error",children:h}):X.jsxs("div",{className:"admin-screen",children:[X.jsxs("div",{className:"admin-header",children:[X.jsx("h1",{children:"Panoul de administrare"}),X.jsx("button",{className:"exit-button",onClick:r,children:"Ieire"})]}),X.jsxs("div",{className:"admin-summary",children:[X.jsxs("div",{className:"summary-card",children:[X.jsx("h2",{children:"Total utilizatori"}),X.jsx("div",{className:"summary-value",children:I})]}),X.jsxs("div",{className:"summary-card",children:[X.jsx("h2",{children:"Scor mediu"}),X.jsxs("div",{className:"summary-value",children:[v,"%"]})]})]}),X.jsxs("div",{className:"stats-container",children:[X.jsx("h2",{children:"Statistici pe ntrebri"}),g.map(F=>{var Q;return X.jsxs("div",{className:"question-stat",children:[X.jsxs("h3",{children:["ntrebarea ",F.questionId,": ",F.text]}),X.jsx("div",{className:"options-stats",children:(Q=F_.find(Y=>Y.id===F.questionId))==null?void 0:Q.options.map((Y,rt)=>{const at=F.answerCounts[Y]||0,ut=F.totalResponses>0?Math.round(at/F.totalResponses*100):0;return X.jsxs("div",{className:"option-stat",children:[X.jsx("div",{className:"option-label",children:Y}),X.jsx("div",{className:"option-progress-container",children:X.jsx("div",{className:"option-progress",style:{width:`${ut}%`},children:X.jsxs("span",{className:"option-percentage",children:[ut,"%"]})})}),X.jsxs("div",{className:"option-count",children:[at," rspunsuri"]})]},rt)})})]},F.questionId)})]}),X.jsxs("div",{className:"users-list",children:[X.jsx("h2",{children:"Lista utilizatorilor receni"}),X.jsxs("table",{className:"users-table",children:[X.jsx("thead",{children:X.jsxs("tr",{children:[X.jsx("th",{children:"Nume"}),X.jsx("th",{children:"Scor"}),X.jsx("th",{children:"Data completrii"})]})}),X.jsx("tbody",{children:e.slice(0,10).map((F,Q)=>X.jsxs("tr",{children:[X.jsx("td",{children:F.name}),X.jsxs("td",{children:[F.score,"%"]}),X.jsxs("td",{children:[F.timestamp.toLocaleDateString()," ",F.timestamp.toLocaleTimeString()]})]},Q))})]})]})]})};function Ew(){const[r,e]=Ct.useState("WELCOME"),[i,s]=Ct.useState(0),[o,h]=Ct.useState(!1),[d,g]=Ct.useState(!1);Ct.useEffect(()=>{const Q=setTimeout(()=>{g(!0)},300);return()=>clearTimeout(Q)},[]),Ct.useEffect(()=>{localStorage.getItem("adminPassword")&&h(!0);const Y=rt=>{rt.ctrlKey&&rt.altKey&&rt.key==="a"&&prompt("Introducei parola de administrator:")==="admin123"&&(localStorage.setItem("adminPassword","true"),h(!0),e("ADMIN"))};return window.addEventListener("keydown",Y),()=>{window.removeEventListener("keydown",Y)}},[]);const _=()=>{console.log("Navigare la ecranul de introducere"),e("INTRO")},v=Q=>{console.log(`Nume utilizator introdus: ${Q}`),io.createUser(Q),e("QUIZ")},A=async Q=>{console.log(`Quiz finalizat cu scorul: ${Q}%`);try{s(Q),await io.finishQuiz(Q),console.log("Date salvate cu succes n Firebase"),e("RESULT")}catch(Y){console.error("Eroare la finalizarea quiz-ului:",Y),alert("A aprut o eroare la salvarea rezultatelor. Rezultatul a fost calculat, dar s-ar putea s nu fie salvat corect."),e("RESULT")}},I=()=>{console.log("Restart aplicaie"),e("WELCOME")},N=()=>{e("WELCOME")},q=()=>{switch(console.log(`Rendering screen: ${r}`),r){case"WELCOME":return X.jsx(Ay,{onStart:_});case"INTRO":return X.jsx(qT,{onContinue:v});case"QUIZ":return X.jsx(yw,{onFinish:A});case"RESULT":return X.jsx(_w,{score:i,onRestart:I});case"ADMIN":return X.jsx(vw,{onExit:N});default:return X.jsx(Ay,{onStart:_})}},F=`app ${d?"loaded":""}`;return X.jsxs("div",{className:F,children:[r!=="ADMIN"&&X.jsx("div",{className:"app-background"}),o&&r!=="ADMIN"&&X.jsx("button",{className:"admin-button",onClick:()=>e("ADMIN"),children:"Admin"}),q()]})}kT.createRoot(document.getElementById("root")).render(X.jsx(Ct.StrictMode,{children:X.jsx(Ew,{})}));
